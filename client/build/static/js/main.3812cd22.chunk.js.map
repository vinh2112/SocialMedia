{"version":3,"sources":["api/payment.js","styles/global.js","context/themeContext.js","context/socketContext.js","styles/theme.js","redux/actions/auth.js","redux/actions/users.js","redux/actions/posts.js","redux/actions/comments.js","redux/actions/notifications.js","redux/actions/toast.js","redux/actions/index.js","components/NewsfeedPage/Post/PostElements.js","components/NewsfeedPage/Post/PostItem/ListAction/ListActionElements.js","redux/selectors/index.js","components/NewsfeedPage/Post/PostItem/ListAction/index.js","images/Loading.svg","components/NewsfeedPage/Post/PostItem/ListComment/ListCommentElements.js","components/NewsfeedPage/Post/PostItem/ListComment/BoxComment/BoxCommentElements.js","components/NewsfeedPage/Post/PostItem/ListComment/BoxComment/index.js","components/NewsfeedPage/Post/PostItem/ListComment/CommentItem/CommentItemElements.js","api/auth.js","api/users.js","api/posts.js","api/upload.js","api/comments.js","api/reports.js","api/admin.js","api/notifications.js","api/conversations.js","api/messages.js","api/momo.js","components/NewsfeedPage/Post/PostItem/ListComment/CommentItem/ReplyComment/ReplyCommentElements.js","images/DefaultAvatar.png","components/NewsfeedPage/Post/PostItem/ListComment/CommentItem/ReplyComment/index.js","components/NewsfeedPage/Post/PostItem/ListComment/CommentItem/index.js","components/NewsfeedPage/Post/PostItem/ListComment/index.js","components/NewsfeedPage/Post/PostItem/PostItemElements.js","components/NewsfeedPage/Post/PostItem/PostReportModal/PostReportModalElements.js","components/NewsfeedPage/Post/PostItem/PostReportModal/index.js","components/NewsfeedPage/Post/PostItem/index.js","components/NewsfeedPage/Post/PostUpdate/PostUpdateElements.js","components/NewsfeedPage/Post/PostUpdate/index.js","components/NewsfeedPage/Post/index.js","components/NewsfeedPage/Post/PostUpdateModal/PostUpdateModalElements.js","hooks/useScrollBlock.js","components/NewsfeedPage/Post/PostUpdateModal/index.js","components/NewsfeedPage/PostChart/PostChartElements.js","components/Modal/ModalElements.js","components/Modal/ModalActions/ModalActionsElements.js","components/Modal/ModalActions/index.js","components/Modal/ModalContent/ModalContentElements.js","components/Modal/ModalContent/index.js","components/Modal/ModalInfo/ModalInfoElements.js","components/Modal/ModalInfo/index.js","components/Modal/ModalComments/index.js","components/Modal/ModalReport/ModalReportElements.js","components/Modal/ModalReport/index.js","components/Modal/index.js","components/NewsfeedPage/PostChart/index.js","components/NewsfeedPage/OnlineUserSection/OnlineUserSectionElements.js","components/NewsfeedPage/OnlineUserSection/index.js","components/NewsfeedPage/index.js","components/Header/HeaderElements.js","components/Header/SideBar/SideBarElements.js","components/Header/SideBar/ToggleSwitch.js","components/Header/SideBar/index.js","components/Header/NotificationSection/NotificationSectionElements.js","components/Header/NotificationSection/index.js","components/Header/index.js","pages/NewsFeedPage.js","images/NotFound.svg","components/NotFoundPage/NotFoundPageElements.js","components/NotFoundPage/index.js","pages/NotFoundPage.js","components/ProfilePage/Account/AccountElements.js","components/ProfilePage/Account/UserInfo/AccountInfoElements.js","components/ProfilePage/Account/UserInfo/index.js","components/ProfilePage/Account/index.js","components/ProfilePage/index.js","pages/ProfilePage.js","components/LoadingSection/index.js","images/Momo.png","images/Paypal.png","images/VNPAY.png","images/ZaloPay.png","components/PayPage/PaypalElement.js","components/PayPage/index.js","pages/PaypalPage.js","components/Toast/ToastElements.js","components/Toast/index.js","components/SearchPage/SearchHeader/SearchHeaderElements.js","components/SearchPage/SearchHeader/index.js","components/SearchPage/SearchItem/SearchItemContainerElements.js","components/SearchPage/SearchItem/index.js","components/SearchPage/SearchList/SearchListElements.js","components/SearchPage/SearchList/index.js","components/SearchPage/index.js","pages/SearchPage.js","components/HomePage/Navbar/NavbarElements.js","components/HomePage/Navbar/index.js","components/HomePage/SigninForm/SigninElements.js","components/HomePage/SigninForm/index.js","videos/video2.mp4","components/HomePage/HomePageSection/HomePageElements.js","components/HomePage/HomePageSection/index.js","components/HomePage/index.js","pages/HomePage.js","images/img3.jpg","components/SignupPage/SignupElements.js","components/SignupPage/index.js","pages/SignupPage.js","components/EditProfilePage/InformationSection/InformationSectionElements.js","components/EditProfilePage/InformationSection/index.js","components/EditProfilePage/Menu/MenuElements.js","components/EditProfilePage/Menu/index.js","components/EditProfilePage/SecuritySection/SecuritySectionElements.js","components/EditProfilePage/SecuritySection/index.js","components/EditProfilePage/PaymentHistorySection/PaymentHistoryElements.js","components/EditProfilePage/PaymentHistorySection/index.js","components/EditProfilePage/index.js","pages/EditProfilePage.js","components/Administrator/ReportedPosts/ReportedPostElements.js","components/Administrator/ReportedPosts/index.js","components/Administrator/SideBar/SideBarElements.js","components/Administrator/SideBar/index.js","components/Administrator/Dashboard/DashboardElements.js","components/Administrator/Dashboard/index.js","pages/AdminPage.js","components/MessengerPage/ChatMenu/ChatMenuElements.js","components/MessengerPage/ChatMenu/index.js","components/MessengerPage/ChatBox/ChatBoxElements.js","components/MessengerPage/ChatBox/index.js","pages/MessengerPage.js","components/ViewPostPage/ViewPostElements.js","components/ViewPostPage/index.js","pages/ViewPostPage.js","App.js","components/Toast/HandleToast.js","constant.js","redux/reducers/index.js","redux/reducers/posts.js","redux/reducers/auth.js","redux/reducers/modal.js","redux/reducers/comments.js","redux/reducers/notifications.js","redux/reducers/toast.js","redux/sagas/notifications.js","redux/sagas/posts.js","redux/sagas/auth.js","redux/sagas/comments.js","redux/sagas/index.js","index.js"],"names":["BASE_URL","process","PaymentApi","getPayments","a","TOKEN","localStorage","getItem","axios","get","headers","Authorization","res","createPayment","payload","post","postId","postBody","checkPayment","getPaypalToken","string","queryString","stringify","grant_type","author","Buffer","from","toString","setItem","data","access_token","payout","console","log","GlobalStyles","createGlobalStyle","theme","secondary","textColor","ThemeContext","createContext","ThemeContextProvider","children","useState","setTheme","Provider","value","toggleTheme","socket","socketio","connect","SocketContext","globalTheme","switchWidth","switchHeight","switchPadding","colorContrastLow","colorWhite","switchColorPrimary","switchAnimationDuration","gradient","colorGray","lightTheme","primary","contrastColor","hoverColor","subTextColor","borderColor","toastColor","darkTheme","login","createActions","loginRequest","loginSuccess","loginFailure","err","logout","logoutRequest","undefined","logoutSuccess","interactUser","interactUserRequest","interactUserSuccess","interactUserFailure","getCurrentUser","createAction","getProfileUser","resetPosts","getPosts","getPostsRequest","getPostsSuccess","getPostsFailure","getPostsLoadMore","getPostsLoadMoreRequest","getPostsLoadMoreSuccess","getProfilePosts","getProfilePostsRequest","getProfilePostsSuccess","getProfilePostsFailure","getTopLikedPosts","getTopLikedPostsRequest","getTopLikedPostsSuccess","searchPosts","searchPostsRequest","searchPostsSuccess","createPost","createPostRequest","createPostSuccess","createPostFailure","updatePost","reactPost","reactPostRequest","reactPostSuccess","reactPostFailure","deletePost","deletePostRequest","deletePostSuccess","showBoxComment","showBoxCommentRequest","showBoxCommentSuccess","fetchComments","fetchCommentsSuccess","createComment","createCommentRequest","createCommentSuccess","createCommentFailure","deleteComment","deleteCommentSuccess","deleteCommentFailure","createReply","createReplyRequest","createReplySuccess","createReplyFailure","deleteReply","deleteReplySuccess","deleteReplyFailure","fetchNotifications","fetchNotificationsSuccess","toast","showToast","getType","reduxAction","type","showModal","hideModal","Container","styled","div","direction","PostTopTitle","CustomCard","Card","CustomSkeleton","Skeleton","ActionContainer","Action","css","LikeAction","CommentAction","MoreAction","ActionMenu","ul","isOpen","MenuItem","li","Title","authState$","state","auth","modalState$","modal","postState$","posts","commentState$","comments","notificationState$","notifications","toastState$","ListAction","showComment","downloadImage","handleEdit","handleReport","setIsOpen","menuNode","useRef","dispatch","useDispatch","currentUser","useSelector","isLiked","setIsLiked","useEffect","likes","find","like","_id","handleOutSide","e","current","contains","target","document","addEventListener","removeEventListener","handleReact","actions","message","onClick","icon","style","color","length","ref","userId","preventDefault","className","LoadingSection","Loading","CommentForm","form","isReply","CommentArea","textarea","RightSide","SubmitButton","button","TextCount","p","BoxComment","boxComment","comment","text","setText","handleSubmit","trim","receiverId","emit","commentId","placeholder","onChange","height","scrollHeight","onKeyDown","key","disabled","LeftSide","AvatarLink","Link","Avatar","img","CommentContainer","CommentWrapper","CommentContent","Name","Comment","BottomComment","ReplyCount","Time","ReplyButton","ButtonWrapper","Button","MenuActions","ReplyWrapper","AuthAPI","accessToken","response","getUserInfo","error","checkPassword","params","UserAPI","interact","put","register","updateUser","checkEmail","checkPinCode","changePassword","searchUsers","PostAPI","fetchPost","fetchRelativePosts","fetchPosts","fetchPostsTimeline","fetchProfilePosts","page","fetchTopLikedPosts","delete","UPLOAD","uploadImage","fetch","then","r","blob","blobFile","File","uuid","file","Promise","resolve","reject","formData","FormData","append","categories","Labels","reduce","result","label","index","push","image","uploadAvatar","url","CommentAPI","catch","createReplyComment","reply","deleteReplyComment","replyId","ReportAPI","getAllReports","createNewReport","deleteReport","refuseReport","AdminAPI","getTotal","NotificationAPI","createNotification","seenNotifications","ConversationAPI","getConversations","findConversation","MessageAPI","getMessages","createMessage","MomoAPI","getPayUrl","confirmMomoPayment","ReplyComment","handleClickOutside","handleDeleteComment","status","on","to","user","src","avatar","DefaultAvatar","alt","name","replyComment","moment","createdAt","fromNow","CommentItem","currentReply","prevReply","querySelectorAll","forEach","call","el","classList","remove","add","map","ListComment","isLoading","setIsLoading","useContext","fetchCommentsByPostId","PostContainer","PostTop","PostAuthor","PostImage","AuthorInfo","AuthorName","PostCreated","Description","CustomButton","CustomInputLabel","InputLabel","CustomInputAdornment","InputAdornment","CustomOutlinedInput","OutlinedInput","DescriptionWrapper","ModalContainer","ModalTop","ModalTitle","h3","ButtonCloseModal","ButtonCloseModalWrapper","ReportContent","ReportOption","ReportOptionLabel","ReasonAreaWrapper","ReasonArea","ReportBottom","CustomLoadingButton","LoadingButton","loading","reportOptions","id","initialState","reason","PostReportModal","handleClose","isOther","setIsOther","report","setReport","setLoading","areaRef","api","msg","checked","option","htmlFor","rows","PostItem","newPost","setNewPost","isShowComment","setIsShowComment","isOnEdit","setIsOnEdit","isReporting","setIsReporting","history","useHistory","handleDownload","isPaymentRequired","saveAs","public_id","PaymentAPI","handleChangeValue","desc","price","email","Stack","spacing","size","variant","sx","alignItems","Switch","FormControl","startAdornment","position","width","display","scrollIntoView","behavior","block","inline","focus","preventScroll","OverLay","DescSection","PostUpdate","handleModal","React","useCallback","PostLoading","CardHeader","animation","title","marginBottom","subheader","CardContent","padding","Fragment","Posts","setPage","useParams","dataLength","next","hasMore","i","Array","item","isShow","Top","CloseButton","Content","DescArea","isSmall","UserWrapper","AvatarWrapper","LetterCount","PhotoWrapper","Photo","RemovePhotoButton","Actions","UploadButtonWrapper","UploadButton","PostButtonWrapper","PostButton","PostPayment","SwitchWrapper","isChecked","InputPrice","input","safeDocument","useScrollBlock","scrollBlocked","html","documentElement","body","header","getElementById","scrollBarWidth","window","innerWidth","clientWidth","bodyPaddingRight","parseInt","getComputedStyle","getPropertyValue","overflow","paddingRight","right","initial_post","category","PostUpdateModal","overlayRef","setPost","setIsSmall","isLoaded","setIsLoaded","blockScroll","allowScroll","handleUpload","URL","createObjectURL","files","closeModal","onSubmit","onMouseDown","creditCard","onLoad","hidden","accept","PostChartContainer","PostChartWrapper","PostChartItem","ModalForm","ModalPhotoWrapper","ModalPhoto","ModalContentContainer","ModalContentWrapper","ModalCloseWrapper","ModalCloseButton","ButtonTooltip","ModalActions","ContentTop","AuthorWrapper","CreatedDate","DescWrapper","Desc","ModalContent","InfoWrapper","Likes","LikeButtonWrapper","LikeButton","ModalInfo","countComments","count","ModalComments","ModalReport","Modal","isEditing","setIsEditing","backgroundImage","filter","PostChart","setIndex","isShowModal","setIsShowModal","topLiked","handleViewPost","PostChartItemLoading","OnlineUserContainer","ListOnlineUser","OnlineUserItemContainer","OUAvatarWrapper","OUAvatar","online","OUName","OnlineUserSection","listOnlineUsers","followings","onlineUsers","acc","element","some","ou","OnlineUserItem","NewsFeedContainer","NewsFeedRight","NewsFeed","Post","HeaderContainer","HeaderWrapper","HeaderLeft","HeaderRight","NotificationContainer","SideBarContainer","LogoLink","roundButton","RoundLabelButton","RoundActionButton","RoundButtonLink","UserName","AuthGroupButton","SignIn","SignUp","menuItem","MenuItemLink","UserInfo","User","Separate","MenuIcon","MenuTitle","ToggleSwitch","idCheckBox","context","Error","useThemeContext","SideBar","handleSideBar","handleLogout","ListNotification","NotificationItemContainer","NotifyWrapper","NotifyAvatarWrapper","NotifyAvatar","NotifyContent","NotifyText","seen","NotifyTime","NotificationSection","noti","notification","NotificationItem","senderId","fullName","action","displayText","Header","toggle","notify","sideBar","domNode","notiNode","handleNotifyPopup","countNotifications","overflowY","scrollTo","isAdmin","NewsFeedPage","NotFoundContainer","NotFound","NotFoundPage","AccountContainer","aside","AccountWrapper","ProfileLoadingContainer","ProfileLoadingWrapper","CustomCardContent","AvatarUser","EditButton","AccountInfo","AccountName","Details","isYourAccount","DetailItem","Detail","isFollowed","CustomAvatar","CustomAvatarGroup","AvatarGroup","profile","handleInteract","max","followers","follower","Account","ProfileLoading","Grid","container","xs","flexDirection","ProfileContainer","Profile","isProfileLoading","ProfilePage","setIsProfileLoading","scrollWindow","Math","abs","innerHeight","scrollTop","offsetHeight","LoadingContainer","PaymentContainer","PaymentLeftSide","PaymentRightSide","OrderContainer","UserBlockContainer","PayButtonContainer","TopSection","BottomSection","PaymentOptionContainer","EWalletContainer","UserBlock","PaymentOptionItem","props","defaultChecked","EWalletItem","PaypalCheckoutButton","handleAppove","layout","tagline","createOrder","order","create","purchase_units","description","amount","onApprove","capture","PaySection","isSuccess","setIsSuccess","paymentType","setPaymentType","ewallet","setEwallet","search","useLocation","query","URLSearchParams","setTimeout","handlePaymentType","handleChangeEWallet","handleApprove","posterId","handleMomoCheckout","location","href","wallet","Paypal","Momo","ZaloPay","VNPAY","startIcon","fullWidth","PaypalPage","ToastContainer","Toast","SearchTitle","SearchBar","SearchLabel","SearchInput","SearchClose","SearchHeader","searchTerm","setSearchTerm","typingTimeoutRef","clearTimeout","required","autoComplete","SearchItemContainer","WatchButton","SearchItem","SearchListContainer","SearchList","LoadingItem","borderRadius","SearchContainer","SearchSection","setQuery","SearchPage","Nav","nav","NavContainer","NavLogo","NavRight","Search","Btn","LinkR","BarIcon","Navbar","SigninContainer","SigninMenu","FormTop","Headline","h1","Subline","FormBottom","TxbWrapper","Txb","IconWrapper","ButtonLogin","OrDiv","ButtonSignUp","SignupDiv","SignupInfo","ItemsWrapper","ErrorWrapper","Signin","overlayModal","setHidden","password","setData","isLogin","loggedIn","handleLogin","cursor","errMsg","clientId","buttonText","onSuccess","profileObj","idToken","tokenId","onFailure","cookiePolicy","HomePgContainer","VideoHpg","video","HeroBg","InfoContainer","InfoHeadline","InfoDescrip","InfoBtn","LinkS","ArrowForward","MdArrowForward","ArrowRight","MdKeyboardArrowRight","HomePageSection","hover","setHover","onHover","autoPlay","loop","muted","onMouseEnter","onMouseLeave","smooth","duration","spy","exact","offset","top","left","transform","maxWidth","bgcolor","boxShadow","border","steps","errorState","pin","newPW","confirmPW","confirmPassword","Home","openModal","setOpenModal","activeStep","setActiveStep","errors","setErrors","setState","handleNext","match","prevActiveStep","handleBack","open","onClose","Box","Stepper","Step","StepLabel","Typography","mt","mb","TextField","helperText","pt","mr","flex","justifyContent","inputProps","maxLength","gap","HomePage","setOpen","SignupContainer","ImgWrapper","Img","InfoTop","InfoBottom","ButtonSignup","LoginDiv","SignupSection","isHidden","repassword","setMessage","handleValueChange","handleSignup","Signup","InfoItem","initialUser","InformationSection","newUser","setNewUser","handleClick","click","test","toUpperCase","replace","newObj","defaultValue","multiline","MenuContainer","MenuListItem","NavLink","Menu","activeClassName","SecurityContainer","SecurityWrapper","Item","newPassword","initialError","SecuritySection","setPassword","setError","newError","PaymentHistoryContainer","PaymentItemContainer","PaymentPhotoWrapper","PaymentDetail","NameUser","DownloadButton","PaymentHistory","payments","setPayments","payment","PaymentItem","format","EditProfileContainer","EditProfile","checkIsLoggedIn","path","EditProfilePage","ReportedPostList","ReportedPostContainer","ReportDetail","ReportDetailLeft","ReportDetailRight","GroupButton","ReportButton","tooltip","PostDetail","PostDetailTop","DetailRightSide","NameAuthorLink","PostDescription","PostPhoto","ReportTop","ReportedPosts","reports","setReports","fetchReportPosts","handleAcceptReport","reportId","newPosts","reportedPostId","handleRefuseReport","handleAccept","handleRefuse","ReportedPostItem","AdminSidebarContainer","AdminSidebarTitle","AdminSidebarMenu","AdminMenuItem","AdminSidebar","DashboardContainer","DashboardCardContainer","DashboardCardWrapper","DashboardCardBoxed","DashboardCardContent","DashboardReport","initialTotal","totalUsers","totalPosts","totalReports","Dashboard","total","setTotal","reponse","DashboardCard","AdminContainer","AdminMainbar","AdminPage","ChatMenuContainer","ChatMenuWrapper","isSearching","ChatMenuTop","buttonStyle","ChatSearchButton","ChatSearchWrapper","ChatSearchTop","ChatBackButton","ChatSearchSection","ChatSearchInput","ChatSearchBottom","ChatSearchQuery","SearchResults","UserContainer","UserAvatar","ConversationContainer","ConvAvatar","ConvName","ConvLastMessage","ChatMenu","onFindConv","conversations","setCurrentChat","setIsSearching","users","setUsers","typingTimeout","handleSubmitSearch","c","conversation","Conversation","friend","setFriend","members","member","lastMessage","updatedAt","toNow","UserSearch","handleOnClick","ChatBoxWrapper","ChatBoxTop","FriendInfo","FriendAvatar","FriendName","ChatBoxBottom","ChatOptions","OptionItem","ChatInput","ChatSubmitButton","ChatMessages","MessageContainer","MessageAvatar","MessageText","MessageOptions","NoConv","ChatBox","handleLastMessage","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","scrollRef","conversationId","sender","prev","lastChild","findFriend","handledMessages","curValue","curIndex","own","Message","FriendSection","Messenger","MessengerWrapper","MessengerPage","setConversations","conv","convId","updatedConv","newConversations","PostWrapper","CategoryWrapper","CategoryItem","RelativePostItemContainer","RelativeItemPhoto","ViewPost","relativePosts","setRelativePosts","cate","RelativePostItem","ViewPostPage","App","main","createElement","autoRemoveChild","removeChild","onclick","closest","delay","toFixed","innerHTML","success","danger","warning","appendChild","handleToast","options","component","SignupPage","INIT_STATE","combineReducers","Map","values","sendNotification","fetchPostsSaga","fetchPostsLoadMore","fetchProfilePostsSaga","createPostSaga","targetId","loginSaga","logoutSaga","watchUser","removeItem","Boolean","take","mySaga","fork","takeLatest","takeEvery","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","composeWithDevTools","applyMiddleware","run","ReactDOM","render"],"mappings":"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","file":"static/js/main.3812cd22.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst PaymentApi = {\r\n  getPayments: async () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.get(`${BASE_URL}/api/payment`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  createPayment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.post(`${BASE_URL}/api/payment/${payload.postId}`, payload.postBody, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  checkPayment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.get(`${BASE_URL}/api/payment/${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  getPaypalToken: async (payload) => {\r\n    try {\r\n      const string = queryString.stringify({ grant_type: \"client_credentials\" });\r\n      const clientId =\r\n        \"AXTHX41OY79amHiVG6zW8JPNBFeSIJ46JPU-JqUeM1738odaegVO1UZZjXcgUYFki0dwGrqEJO6a8-FP\";\r\n      const SecretKey =\r\n        \"EC8PfebphxgB-1cAQm9pjtkDmqA5gDRDBK9SskUWAkxmh5VKuTG22OQ8fcj55cXcTYGfXm_kC_Cyzxit\";\r\n      const author = Buffer.from(`${clientId}:${SecretKey}`, \"utf8\").toString(\"base64\");\r\n      const res = await axios.post(`https://api.sandbox.paypal.com/v1/oauth2/token`, string, {\r\n        headers: {\r\n          Authorization: `Basic ${author}`,\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n      });\r\n      localStorage.setItem(\"paypal_token\", `Bearer ${res.data.access_token}`);\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n\r\n  payout: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"paypal_token\");\r\n      console.log(TOKEN);\r\n      const res = await axios.post(`https://api.sandbox.paypal.com/v1/payments/payouts`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (err) {\r\n      return err;\r\n    }\r\n  },\r\n};\r\nexport default PaymentApi;\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n    html {\r\n        scroll-behavior: smooth;\r\n    }\r\n\r\n\r\n\r\n    /* ::-webkit-scrollbar {\r\n        -webkit-appearance: none;\r\n        width: 6px;\r\n        height: 6px;\r\n    }\r\n\r\n    ::-webkit-scrollbar-thumb {\r\n        background-color: rgba(0,0,0,.55);\r\n        border-radius: 10px;\r\n        margin: 2px;\r\n    }\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: transparent;\r\n    } */\r\n\r\n    *, *::after, *::before{\r\n        box-sizing: border-box;\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n    \r\n    body{\r\n        position: relative;\r\n        background: ${({ theme }) => theme.secondary};\r\n        color: ${({ theme }) => theme.textColor};\r\n        min-height: 100vh;\r\n        font-family: 'Roboto', sans-serif;\r\n        /* transition: all 0.1s linear; */\r\n    }\r\n\r\n    body, html {\r\n        height :100%;\r\n    }\r\n\r\n    #root {\r\n        height: 100%;\r\n    }\r\n\r\n    textarea, pre {\r\n        font-family: 'Roboto', sans-serif;\r\n    }\r\n\r\n    pre {\r\n        white-space: pre-wrap;       /* Since CSS 2.1 */\r\n        white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\r\n        white-space: -pre-wrap;      /* Opera 4-6 */\r\n        white-space: -o-pre-wrap;    /* Opera 7 */\r\n        word-wrap: break-word;   \r\n    }\r\n\r\n    button {\r\n        border: 0;\r\n        outline: 0;\r\n    }\r\n\r\n    ul {\r\n        list-style: none;\r\n    }\r\n`;\r\n","import React, { createContext, useState, useContext } from \"react\";\r\n\r\nexport const ThemeContext = createContext({\r\n  theme: localStorage.getItem(\"theme\") || \"light\",\r\n});\r\n\r\nexport const ThemeContextProvider = ({ children }) => {\r\n  const [theme, setTheme] = useState(() => {\r\n    return localStorage.getItem(\"theme\");\r\n  });\r\n\r\n  const toggleTheme = () => {\r\n    if (theme === \"light\") {\r\n      setTheme(\"dark\");\r\n      localStorage.setItem(\"theme\", \"dark\");\r\n    } else {\r\n      setTheme(\"light\");\r\n      localStorage.setItem(\"theme\", \"light\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider\r\n      value={{\r\n        theme,\r\n        toggleTheme,\r\n      }}\r\n    >\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\n//Custom hook\r\nexport const useThemeContext = () => {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useThemeContext must be used within a ThemeProvider\");\r\n  }\r\n\r\n  return context;\r\n};\r\n","import socketio from \"socket.io-client\";\r\nimport { createContext } from \"react\";\r\n\r\nconst SOCKET_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nexport const socket = socketio.connect(SOCKET_URL);\r\nexport const SocketContext = createContext(socket);\r\n","const globalTheme = {\r\n  switchWidth: \"40px\",\r\n  switchHeight: \"20px\",\r\n  switchPadding: \"3px\",\r\n  colorContrastLow: \"#d3d3d4\",\r\n  colorWhite: \"#FFF\",\r\n  switchColorPrimary: \"#fe3456\",\r\n  switchAnimationDuration: \"0.2s\",\r\n  gradient: \"linear-gradient(122deg, rgba(128,74,216,1) 0%, rgba(98,75,217,1) 100%)\",\r\n  colorGray: \"#4e4e4e\",\r\n};\r\n\r\nexport const lightTheme = {\r\n  primary: \"#ffffff\",\r\n  secondary: \"#fcfdfd\",\r\n  contrastColor: \"#eaeaea\",\r\n  hoverColor: \"#dfdfdf\",\r\n  textColor: \"#333\",\r\n  subTextColor: \"#999\",\r\n  borderColor: \"#d4d4d4\",\r\n  toastColor: \"#fff\",\r\n  ...globalTheme,\r\n};\r\n\r\nexport const darkTheme = {\r\n  primary: \"#2d2d30\",\r\n  secondary: \"#1e1e1e\",\r\n  contrastColor: \"#444444\",\r\n  hoverColor: \"#505050\",\r\n  textColor: \"#E4E6EB\",\r\n  subTextColor: \"#666\",\r\n  borderColor: \"#444\",\r\n  toastColor: \"#181818\",\r\n  ...globalTheme,\r\n};\r\n","import { createActions } from \"redux-actions\";\r\n\r\nexport const login = createActions({\r\n  loginRequest: (payload) => payload,\r\n  loginSuccess: (payload) => payload,\r\n  loginFailure: (err) => err,\r\n});\r\n\r\nexport const logout = createActions({\r\n  logoutRequest: undefined,\r\n  logoutSuccess: undefined,\r\n});\r\n","import { createActions, createAction } from \"redux-actions\";\r\n\r\nexport const interactUser = createActions({\r\n  interactUserRequest: (payload) => payload,\r\n  interactUserSuccess: (payload) => payload,\r\n  interactUserFailure: (err) => err,\r\n});\r\n\r\nexport const getCurrentUser = createAction(\"GET_CURRENT_USER\", (payload) => payload);\r\n\r\nexport const getProfileUser = createAction(\"GET_PROFILE_USER\", (payload) => payload);\r\n","import { createAction, createActions } from \"redux-actions\";\r\n\r\nexport const resetPosts = createAction(\"RESET_POSTS\");\r\n\r\nexport const getPosts = createActions({\r\n  getPostsRequest: undefined,\r\n  getPostsSuccess: (payload) => payload,\r\n  getPostsFailure: (err) => err,\r\n});\r\n\r\nexport const getPostsLoadMore = createActions({\r\n  getPostsLoadMoreRequest: (payload) => payload,\r\n  getPostsLoadMoreSuccess: (payload) => payload,\r\n});\r\n\r\nexport const getProfilePosts = createActions({\r\n  getProfilePostsRequest: (payload) => payload,\r\n  getProfilePostsSuccess: (payload) => payload,\r\n  getProfilePostsFailure: (err) => err,\r\n});\r\n\r\nexport const getTopLikedPosts = createActions({\r\n  getTopLikedPostsRequest: undefined,\r\n  getTopLikedPostsSuccess: (payload) => payload,\r\n});\r\n\r\nexport const searchPosts = createActions({\r\n  searchPostsRequest: (payload) => payload,\r\n  searchPostsSuccess: (payload) => payload,\r\n});\r\n\r\nexport const createPost = createActions({\r\n  createPostRequest: (payload) => payload,\r\n  createPostSuccess: (payload) => payload,\r\n  createPostFailure: (err) => err,\r\n});\r\n\r\nexport const updatePost = createAction(\"UPDATE_POST\", (payload) => payload);\r\n\r\nexport const reactPost = createActions({\r\n  reactPostRequest: (payload) => payload,\r\n  reactPostSuccess: (payload) => payload,\r\n  reactPostFailure: (err) => err,\r\n});\r\n\r\nexport const deletePost = createActions({\r\n  deletePostRequest: (payload) => payload,\r\n  deletePostSuccess: (payload) => payload,\r\n});\r\n","import { createActions } from \"redux-actions\";\r\n\r\nexport const showBoxComment = createActions({\r\n  showBoxCommentRequest: (payload) => payload,\r\n  showBoxCommentSuccess: (payload) => payload,\r\n});\r\n\r\nexport const fetchComments = createActions({\r\n  fetchCommentsSuccess: (payload) => payload,\r\n});\r\n\r\nexport const createComment = createActions({\r\n  createCommentRequest: (payload) => payload,\r\n  createCommentSuccess: (payload) => payload,\r\n  createCommentFailure: (err) => err,\r\n});\r\n\r\nexport const deleteComment = createActions({\r\n  deleteCommentSuccess: (payload) => payload,\r\n  deleteCommentFailure: (err) => err,\r\n});\r\n\r\nexport const createReply = createActions({\r\n  createReplyRequest: (payload) => payload,\r\n  createReplySuccess: (payload) => payload,\r\n  createReplyFailure: (err) => err,\r\n});\r\n\r\nexport const deleteReply = createActions({\r\n  deleteReplySuccess: (payload) => payload,\r\n  deleteReplyFailure: (err) => err,\r\n});\r\n","import { createActions } from \"redux-actions\";\r\n\r\nexport const fetchNotifications = createActions({\r\n  fetchNotificationsSuccess: (payload) => payload,\r\n});\r\n","import { createActions } from \"redux-actions\";\r\n\r\nexport const toast = createActions({\r\n  showToast: (payload) => payload,\r\n});\r\n","import { createAction } from \"redux-actions\";\r\nimport { login, logout } from \"./auth\";\r\nimport { interactUser, getProfileUser, getCurrentUser } from \"./users\";\r\nimport {\r\n  getPosts,\r\n  getPostsLoadMore,\r\n  getProfilePosts,\r\n  getTopLikedPosts,\r\n  searchPosts,\r\n  createPost,\r\n  updatePost,\r\n  reactPost,\r\n  resetPosts,\r\n  deletePost,\r\n} from \"./posts\";\r\nimport {\r\n  showBoxComment,\r\n  fetchComments,\r\n  createComment,\r\n  deleteComment,\r\n  createReply,\r\n  deleteReply,\r\n} from \"./comments\";\r\nimport { fetchNotifications } from \"./notifications\";\r\nimport { toast } from \"./toast\";\r\n\r\nexport const getType = (reduxAction) => {\r\n  return reduxAction().type;\r\n};\r\n\r\nexport const showModal = createAction(\"SHOW_CREATE_POST_MODAL\");\r\n\r\nexport const hideModal = createAction(\"HIDE_CREATE_POST_MODAL\");\r\n\r\nexport {\r\n  toast,\r\n  login,\r\n  logout,\r\n  resetPosts,\r\n  getProfileUser,\r\n  getCurrentUser,\r\n  interactUser,\r\n  getPosts,\r\n  getPostsLoadMore,\r\n  getProfilePosts,\r\n  getTopLikedPosts,\r\n  searchPosts,\r\n  createPost,\r\n  updatePost,\r\n  reactPost,\r\n  deletePost,\r\n  showBoxComment,\r\n  fetchComments,\r\n  createComment,\r\n  deleteComment,\r\n  createReply,\r\n  deleteReply,\r\n  fetchNotifications,\r\n};\r\n","import { Card, Skeleton } from \"@mui/material\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: ${({ direction }) => (direction === \"left\" ? \"0 20px 0 0\" : \"0 0 0 20px\")};\r\n  max-width: calc((var(--max-width) * 1.8 / 3) - 20px);\r\n  width: 100%;\r\n  z-index: 1;\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 0 20px;\r\n    margin: 0 auto;\r\n    order: 2;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 100%;\r\n    padding: 0 4px;\r\n  }\r\n`;\r\n\r\nexport const PostTopTitle = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n  padding: 0 16px;\r\n  & > h3 {\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    margin-right: 10px;\r\n    font-weight: 400;\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n\r\n  & > span {\r\n    display: block;\r\n    height: 1.8px;\r\n    width: 100%;\r\n    opacity: 1;\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n    user-select: none;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    padding: 0 8px;\r\n  }\r\n`;\r\n\r\nexport const CustomCard = styled(Card)`\r\n  && {\r\n    background-color: ${({ theme }) => theme.primary};\r\n    margin-bottom: 20px;\r\n    margin: 0 16px;\r\n  }\r\n`;\r\n\r\nexport const CustomSkeleton = styled(Skeleton)`\r\n  && {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const ActionContainer = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  margin: 0 4px;\r\n`;\r\n\r\n// Action\r\n\r\nconst Action = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 6px 8px;\r\n  margin: 4px 0;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n  /* min-width: 100px; */\r\n  cursor: pointer;\r\n  user-select: none;\r\n  border-radius: 4px;\r\n  transition: background 0.1s ease;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  & > .iconify {\r\n    font-size: 1.4rem;\r\n  }\r\n\r\n  & > .iconify + span {\r\n    font-size: 0.8rem;\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nexport const LikeAction = styled.div`\r\n  ${Action}\r\n`;\r\n\r\nexport const CommentAction = styled.div`\r\n  ${Action}\r\n`;\r\n\r\nexport const MoreAction = styled.div`\r\n  ${Action}\r\n  position: relative;\r\n  z-index: 0;\r\n`;\r\n\r\n// ------------\r\n\r\nexport const ActionMenu = styled.ul`\r\n  display: ${({ isOpen }) => (isOpen ? \"block\" : \"none\")};\r\n  position: absolute;\r\n  bottom: 120%;\r\n  right: 5px;\r\n  min-width: 150px;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  box-shadow: 0px 0px 10px 0 rgba(0, 0, 0, 0.2);\r\n  background-color: ${({ theme }) => theme.primary};\r\n  cursor: default;\r\n`;\r\n\r\nexport const MenuItem = styled.li`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px;\r\n  border-radius: 5px;\r\n  transition: all 0.1s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  &.danger {\r\n    color: #ed4956;\r\n  }\r\n\r\n  & .iconify {\r\n    font-size: 1.2rem;\r\n    margin-right: 8px;\r\n  }\r\n\r\n  & .iconify:last-child {\r\n    position: absolute;\r\n    right: 0px;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-weight: 500;\r\n  font-size: 0.8rem;\r\n`;\r\n","export const authState$ = (state) => state.auth;\r\n\r\nexport const modalState$ = (state) => state.modal;\r\n\r\nexport const postState$ = (state) => state.posts;\r\n\r\nexport const commentState$ = (state) => state.comments;\r\n\r\nexport const notificationState$ = (state) => state.notifications;\r\n\r\nexport const toastState$ = (state) => state.toast;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\n// import { useHistory } from \"react-router-dom\";\r\nimport {\r\n  ActionContainer,\r\n  LikeAction,\r\n  CommentAction,\r\n  MoreAction,\r\n  ActionMenu,\r\n  MenuItem,\r\n  Title,\r\n} from \"./ListActionElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\nimport { authState$ } from \"redux/selectors\";\r\n\r\nconst ListAction = ({ showComment, post, downloadImage, handleEdit, handleReport }) => {\r\n  // const history = useHistory();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const menuNode = useRef();\r\n  const dispatch = useDispatch();\r\n  const { currentUser } = useSelector(authState$);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initialLike = () => {\r\n      if (currentUser) {\r\n        const isLiked = post.likes.find((like) => {\r\n          return like._id === currentUser._id;\r\n        });\r\n        if (isLiked) setIsLiked(true);\r\n      }\r\n    };\r\n    initialLike();\r\n    return () => {\r\n      setIsLiked(false);\r\n    };\r\n  }, [currentUser, post]);\r\n\r\n  useEffect(() => {\r\n    const handleOutSide = (e) => {\r\n      if (!menuNode.current.contains(e.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleOutSide);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleOutSide);\r\n    };\r\n  }, [setIsOpen]);\r\n\r\n  const handleReact = async () => {\r\n    // Check Log in status - if false redirect to login page\r\n    if (currentUser) {\r\n      setIsLiked(!isLiked);\r\n      dispatch(actions.reactPost.reactPostRequest(post._id));\r\n    } else {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = () => {\r\n    if (currentUser) {\r\n      dispatch(actions.deletePost.deletePostRequest(post._id));\r\n    } else {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ActionContainer>\r\n      <LikeAction onClick={handleReact}>\r\n        {isLiked ? (\r\n          <Icon icon=\"ant-design:heart-filled\" style={{ color: \"var(--primary-color)\" }} />\r\n        ) : (\r\n          <Icon icon=\"ant-design:heart-outlined\" />\r\n        )}\r\n        <span>{post.likes.length}</span>\r\n      </LikeAction>\r\n\r\n      <CommentAction onClick={showComment}>\r\n        <Icon icon=\"fluent:comment-24-regular\" />\r\n        {/* <span>Comment</span> */}\r\n      </CommentAction>\r\n\r\n      <MoreAction ref={menuNode} onClick={() => setIsOpen(!isOpen)}>\r\n        <Icon icon=\"carbon:overflow-menu-horizontal\" />\r\n        <ActionMenu isOpen={isOpen}>\r\n          {post?.userId._id === currentUser?._id && (\r\n            <MenuItem onClick={() => handleEdit(true)}>\r\n              <Icon icon=\"ant-design:edit-outlined\" />\r\n              <Title>Edit Post</Title>\r\n            </MenuItem>\r\n          )}\r\n          <MenuItem\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              downloadImage();\r\n            }}\r\n          >\r\n            <Icon icon=\"fluent:arrow-download-16-filled\" />\r\n            <Title>Download</Title>\r\n          </MenuItem>\r\n          {post?.userId._id === currentUser?._id && (\r\n            <MenuItem\r\n              className=\"danger\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                handleDeletePost();\r\n              }}\r\n            >\r\n              <Icon icon=\"feather:delete\" />\r\n              <Title>Delete post</Title>\r\n            </MenuItem>\r\n          )}\r\n          <MenuItem className=\"danger\" onClick={() => handleReport(true)}>\r\n            <Icon icon=\"jam:triangle-danger\" />\r\n            <Title>Report</Title>\r\n          </MenuItem>\r\n        </ActionMenu>\r\n      </MoreAction>\r\n    </ActionContainer>\r\n  );\r\n};\r\n\r\nexport default ListAction;\r\n","export default __webpack_public_path__ + \"static/media/Loading.f2f6f97f.svg\";","import styled from \"styled-components\";\r\nimport Loading from \"images/Loading.svg\";\r\n\r\nexport const Container = styled.div`\r\n  border-top: 1px solid ${({ theme }) => theme.contrastColor};\r\n  padding: 8px 12px;\r\n  margin: 0 4px;\r\n`;\r\n\r\nexport const LoadingSection = styled.div`\r\n  width: 100%;\r\n  height: 80px;\r\n  background: url(${Loading}) no-repeat center center;\r\n  background-size: 60px;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const CommentForm = styled.form`\r\n  display: flex;\r\n  margin-left: ${({ isReply }) => (isReply ? \"8px\" : \"\")};\r\n`;\r\n\r\nexport const CommentArea = styled.textarea`\r\n  flex: 1;\r\n  width: 100%;\r\n  border: 0;\r\n  outline: 0;\r\n  overflow: hidden;\r\n  min-height: 28px;\r\n  resize: none;\r\n  background: transparent;\r\n  border-bottom: 2px solid ${({ theme }) => theme.contrastColor};\r\n  font-size: 14px;\r\n  height: 32px;\r\n  line-height: 20px;\r\n  padding: 4px 0 8px 0;\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: border 0.15s ease-out 0s;\r\n\r\n  &:focus,\r\n  &:not(:placeholder-shown) {\r\n    border-bottom: 2px solid ${({ theme }) => theme.subTextColor};\r\n  }\r\n  &::placeholder {\r\n    font-style: italic;\r\n  }\r\n`;\r\n\r\nexport const RightSide = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const SubmitButton = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  outline: none;\r\n  border: none;\r\n  background: transparent;\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: 1.6rem;\r\n  cursor: pointer;\r\n\r\n  &.disable {\r\n    opacity: 0.3;\r\n    cursor: default;\r\n  }\r\n`;\r\n\r\nexport const TextCount = styled.p`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  margin: 4px 0 0;\r\n  width: 50px;\r\n  text-align: center;\r\n  font-size: 0.8rem;\r\n  user-select: none;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { CommentForm, CommentArea, RightSide, SubmitButton, TextCount } from \"./BoxCommentElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nexport default function BoxComment({ boxComment, isReply, post, comment, socket }) {\r\n  const [text, setText] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setText(\"\");\r\n    };\r\n  }, []);\r\n\r\n  const handleTextarea = (e) => {\r\n    if (e.target.value.length <= 200) {\r\n      setText(e.target.value);\r\n      e.target.style.height = \"32px\";\r\n      e.target.style.height = e.target.scrollHeight + \"px\";\r\n    }\r\n  };\r\n\r\n  const handleTextareaEnter = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (currentUser) {\r\n      if (post._id && text.length > 0) {\r\n        dispatch(\r\n          actions.createComment.createCommentRequest({\r\n            postId: post._id,\r\n            comment: text.trim(),\r\n            receiverId: post.userId._id,\r\n          })\r\n        );\r\n\r\n        setText(\"\");\r\n\r\n        socket?.emit(\"sendUpdateCommentPost\", {\r\n          postId: post._id,\r\n        });\r\n      } else if (comment && text.length > 0) {\r\n        dispatch(\r\n          actions.createReply.createReplyRequest({\r\n            commentId: comment._id,\r\n            comment: text.trim(),\r\n          })\r\n        );\r\n        socket?.emit(\"sendUpdateCommentPost\", {\r\n          postId: comment.postId,\r\n        });\r\n\r\n        setText(\"\");\r\n      }\r\n    } else {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <CommentForm isReply={isReply}>\r\n      <CommentArea\r\n        ref={boxComment}\r\n        type=\"text\"\r\n        placeholder=\"Leave your comment ...\"\r\n        onChange={handleTextarea}\r\n        onKeyDown={handleTextareaEnter}\r\n        value={text}\r\n      />\r\n      <RightSide>\r\n        <SubmitButton\r\n          className={text.length > 0 ? \"\" : \"disable\"}\r\n          disabled={text.length > 0 ? false : true}\r\n          onClick={handleSubmit}\r\n        >\r\n          <Icon icon=\"fluent:send-16-regular\" />\r\n        </SubmitButton>\r\n        <TextCount>{text.length}/200</TextCount>\r\n      </RightSide>\r\n    </CommentForm>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  margin-top: 8px;\r\n`;\r\n\r\nexport const LeftSide = styled.div``;\r\n\r\nexport const AvatarLink = styled(Link)`\r\n  display: flex;\r\n  margin-top: 2px;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const RightSide = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nexport const CommentContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n`;\r\n\r\nexport const CommentWrapper = styled.div`\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  margin-left: 8px;\r\n`;\r\n\r\nexport const CommentContent = styled.div`\r\n  display: inline-block;\r\n  line-height: 20px;\r\n\r\n  &.replying {\r\n    padding: 4px 8px;\r\n    background: ${({ theme }) => theme.contrastColor};\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nexport const Name = styled(Link)`\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  text-decoration: none;\r\n  margin-right: 4px;\r\n  color: ${({ theme }) => theme.textColor};\r\n`;\r\n\r\nexport const Comment = styled.div`\r\n  display: inline;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  line-height: 20px;\r\n`;\r\n\r\nexport const BottomComment = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n`;\r\n\r\nexport const ReplyCount = styled.div`\r\n  display: inline;\r\n  font-size: 0.8rem;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  font-style: italic;\r\n`;\r\n\r\nexport const Time = styled.div`\r\n  font-size: 0.8rem;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n`;\r\n\r\nexport const ReplyButton = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  transition: all 0.05s ease-in-out;\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  &:hover {\r\n    color: ${({ theme }) => theme.textColor};\r\n    filter: brightness(0.8);\r\n  }\r\n`;\r\n\r\nexport const ButtonWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: 18px;\r\n  opacity: 0;\r\n  transition: opacity 0.1s ease-in-out, background 0.05s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  ${CommentContainer}:hover & {\r\n    opacity: 1;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n\r\nexport const MenuActions = styled.ul`\r\n  display: ${({ isOpen }) => (isOpen ? \"block\" : \"none\")};\r\n  position: absolute;\r\n  bottom: 120%;\r\n  right: 0;\r\n  padding: 4px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  border: 1px solid ${({ theme }) => theme.borderColor};\r\n  box-shadow: 0 0 8px 0 rgba(0 0 0 / 30%);\r\n  border-radius: 5px;\r\n  user-select: none;\r\n  z-index: 9999;\r\n`;\r\n\r\nexport const MenuItem = styled.li`\r\n  width: 150px;\r\n  font-size: 14px;\r\n  white-space: nowrap;\r\n  padding: 6px 8px;\r\n  border-radius: 4px;\r\n  color: var(--danger-color);\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n\r\nexport const ReplyWrapper = styled.div`\r\n  margin-bottom: 8px;\r\n`;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst AuthAPI = {\r\n  login: async (payload) => {\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/user/login`, payload);\r\n      localStorage.setItem(\"access_token\", `Bearer ${res.data.accessToken}`);\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n\r\n  logout: () => axios.get(`${BASE_URL}/user/logout`),\r\n\r\n  getUserInfo: () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = axios.get(`${BASE_URL}/user`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  checkPassword: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = await axios.get(`${BASE_URL}/user/check_password`, {\r\n        params: payload,\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default AuthAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst UserAPI = {\r\n  interact: async (payload) => {\r\n    const TOKEN = localStorage.getItem(\"access_token\");\r\n    try {\r\n      const res = await axios.put(\r\n        `${BASE_URL}/user/${payload}/interact`,\r\n        {},\r\n        {\r\n          headers: { Authorization: TOKEN },\r\n        }\r\n      );\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  register: async (payload) => {\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/user/register`, payload);\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  getProfileUser: async (payload) => {\r\n    try {\r\n      const res = await axios.get(`${BASE_URL}/user/${payload}/profile`);\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  updateUser: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.put(`${BASE_URL}/user`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  checkEmail: async (payload) => {\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/user/check_email`, payload);\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  checkPinCode: async (payload) => {\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/user/check_pincode`, payload);\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  changePassword: async (payload) => {\r\n    try {\r\n      const res = await axios.put(`${BASE_URL}/user/change_password`, payload);\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  searchUsers: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.get(`${BASE_URL}/user/search?query=${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default UserAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst PostAPI = {\r\n  fetchPost: (payload) => axios.get(`${BASE_URL}/api/post/${payload}`),\r\n  fetchRelativePosts: (payload) => axios.get(`${BASE_URL}/api/post/${payload}/relative`),\r\n  fetchPosts: (payload) => axios.get(`${BASE_URL}/api/post?page=${payload || 1}`),\r\n  fetchPostsTimeline: () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = axios.get(`${BASE_URL}/api/post/timeline`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  fetchProfilePosts: (payload) =>\r\n    axios.get(`${BASE_URL}/api/post/profile/${payload.userId}?page=${payload.page}`),\r\n  fetchTopLikedPosts: () => axios.get(`${BASE_URL}/api/post/top_liked`),\r\n  searchPosts: (payload) => axios.get(`${BASE_URL}/api/post/search?query=${payload}`),\r\n  createPost: (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = axios.post(`${BASE_URL}/api/post`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  updatePost: (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = axios.put(`${BASE_URL}/api/post/${payload.postId}`, payload.data, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  reactPost: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = await axios.put(\r\n        `${BASE_URL}/api/post/${payload}/react`,\r\n        {},\r\n        {\r\n          headers: { Authorization: TOKEN },\r\n        }\r\n      );\r\n      return res;\r\n    } catch (err) {\r\n      return err;\r\n    }\r\n  },\r\n  deletePost: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = await axios.delete(`${BASE_URL}/api/post/${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (err) {\r\n      return err;\r\n    }\r\n  },\r\n};\r\n\r\nexport default PostAPI;\r\n","import axios from \"axios\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst UPLOAD = {\r\n  uploadImage: async (payload) => {\r\n    try {\r\n      let file = await fetch(payload)\r\n        .then((r) => r.blob())\r\n        .then((blobFile) => new File([blobFile], uuid(), { type: \"image/png\" }));\r\n\r\n      // Upload file\r\n      return new Promise(async (resolve, reject) => {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", file);\r\n\r\n        const res = await axios.post(`${BASE_URL}/api/detect`, formData, {\r\n          headers: {\r\n            \"content-type\": \"multipart/form-data\",\r\n          },\r\n        });\r\n\r\n        let categories = res.data.Labels.reduce((result, label, index) => {\r\n          if (index < 6) result.push(label.Name);\r\n          return result;\r\n        }, []);\r\n        console.log(categories);\r\n\r\n        const image = await axios.post(`${BASE_URL}/api/upload`, formData, {\r\n          headers: {\r\n            \"content-type\": \"multipart/form-data\",\r\n          },\r\n        });\r\n\r\n        return resolve({ categories, image: image.data });\r\n      });\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  uploadAvatar: async (payload) => {\r\n    try {\r\n      const url = await axios.post(`${BASE_URL}/api/upload`, payload, {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n      return url;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default UPLOAD;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst CommentAPI = {\r\n  fetchComments: async (payload) => {\r\n    try {\r\n      const res = await axios\r\n        .get(`${BASE_URL}/api/comment/${payload}`)\r\n        .then((res) => res)\r\n        .catch((err) => {\r\n          return err.response;\r\n        });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  createComment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.post(`${BASE_URL}/api/comment`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  deleteComment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.delete(`${BASE_URL}/api/comment/${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n  createReplyComment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.put(\r\n        `${BASE_URL}/api/comment/${payload.commentId}/reply`,\r\n        { reply: payload.comment },\r\n        {\r\n          headers: { Authorization: TOKEN },\r\n        }\r\n      );\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n  deleteReplyComment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.delete(\r\n        `${BASE_URL}/api/comment/${payload.commentId}/reply`,\r\n        {\r\n          data: {\r\n            replyId: payload.replyId,\r\n          },\r\n          headers: { Authorization: TOKEN },\r\n        }\r\n      );\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n};\r\n\r\nexport default CommentAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst ReportAPI = {\r\n  getAllReports: () => axios.get(`${BASE_URL}/api/report`),\r\n  createNewReport: (payload) => {\r\n    /*\r\n        payload: {\r\n            postId: \"\",\r\n            reason: \"\",\r\n        }\r\n        */\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = axios.post(`${BASE_URL}/api/report`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  deleteReport: (payload) => {\r\n    /*\r\n        payload: \"\"\r\n        */\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = axios.delete(`${BASE_URL}/api/report/${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  refuseReport: (payload) => {\r\n    /*\r\n        payload: \"\"\r\n        */\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = axios.delete(`${BASE_URL}/api/report/${payload}/refuse`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default ReportAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst AdminAPI = {\r\n  getTotal: async () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = await axios.get(`${BASE_URL}/api/dashboard`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n};\r\n\r\nexport default AdminAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst NotificationAPI = {\r\n  fetchNotifications: async () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios\r\n        .get(`${BASE_URL}/api/noti`, { headers: { Authorization: TOKEN } })\r\n        .then((res) => res)\r\n        .catch((err) => {\r\n          return err.response;\r\n        });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  createNotification: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.post(`${BASE_URL}/api/noti`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n  seenNotifications: async () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.put(\r\n        `${BASE_URL}/api/noti`,\r\n        {},\r\n        {\r\n          headers: { Authorization: TOKEN },\r\n        }\r\n      );\r\n\r\n      return res;\r\n    } catch (error) {\r\n      return error.response;\r\n    }\r\n  },\r\n};\r\n\r\nexport default NotificationAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst ConversationAPI = {\r\n  getConversations: async () => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = await axios.get(`${BASE_URL}/api/conversation`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  findConversation: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n\r\n      const res = await axios.get(`${BASE_URL}/api/conversation/${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default ConversationAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst MessageAPI = {\r\n  getMessages: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.get(`${BASE_URL}/api/message/${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  createMessage: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.post(`${BASE_URL}/api/message`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default MessageAPI;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst MomoAPI = {\r\n  getPayUrl: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.post(`${BASE_URL}/api/momo`, payload, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  confirmMomoPayment: async (payload) => {\r\n    try {\r\n      const TOKEN = localStorage.getItem(\"access_token\");\r\n      const res = await axios.get(`${BASE_URL}/api/momo/confirm?${payload}`, {\r\n        headers: { Authorization: TOKEN },\r\n      });\r\n      return res;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default MomoAPI;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  margin-top: 8px;\r\n  margin-left: 8px;\r\n\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 20px;\r\n    top: 10px;\r\n    bottom: 10px;\r\n    left: 0;\r\n    transform: translate(-25px, -30%);\r\n    border-radius: 0 0 0 5px;\r\n    border-bottom: 2px solid ${({ theme }) => theme.borderColor};\r\n    border-left: 2px solid ${({ theme }) => theme.borderColor};\r\n  }\r\n\r\n  &:first-child ~ &:after {\r\n    top: -25px;\r\n    bottom: 0px;\r\n  }\r\n`;\r\n","export default \"data:image/png;base64,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\"","import { Icon } from \"@iconify/react\";\r\nimport { CommentAPI } from \"api\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  Avatar,\r\n  AvatarLink,\r\n  BottomComment,\r\n  Button,\r\n  ButtonWrapper,\r\n  Comment,\r\n  CommentContainer,\r\n  CommentContent,\r\n  CommentWrapper,\r\n  LeftSide,\r\n  MenuActions,\r\n  MenuItem,\r\n  Name,\r\n  RightSide,\r\n  Time,\r\n} from \"../CommentItemElements\";\r\nimport { Container } from \"./ReplyCommentElements\";\r\nimport * as actions from \"redux/actions\";\r\nimport moment from \"moment\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\n\r\nexport default function ReplyComment({ reply, commentId, currentUser, post, socket }) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const menuNode = useRef();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (!menuNode.current?.contains(e.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const handleDeleteComment = async () => {\r\n    const res = await CommentAPI.deleteReplyComment({\r\n      replyId: reply._id,\r\n      commentId,\r\n    });\r\n    if (res.status === 200) {\r\n      dispatch(actions.deleteReply.deleteReplySuccess(res.data));\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Comment deleted\",\r\n          type: \"success\",\r\n        })\r\n      );\r\n      socket?.emit(\"sendDeleteReply\", {\r\n        comment: res.data,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"getDeleteReply\", (data) => {\r\n      if (commentId === data.comment._id) {\r\n        dispatch(actions.deleteReply.deleteReplySuccess(data.comment));\r\n      }\r\n    });\r\n  }, [commentId, socket, dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <LeftSide>\r\n        <AvatarLink to={`/profile/${reply.user._id}`}>\r\n          <Avatar src={reply.user.avatar ? reply.user.avatar : DefaultAvatar} alt=\"avatar\" />\r\n        </AvatarLink>\r\n      </LeftSide>\r\n\r\n      <RightSide>\r\n        <CommentContainer>\r\n          <CommentWrapper>\r\n            <CommentContent>\r\n              <Name to={`/profile/${reply.user._id}`}>@{reply.user.name}</Name>\r\n              <Comment>{reply.replyComment}</Comment>\r\n            </CommentContent>\r\n            <BottomComment>\r\n              <Time>{moment(reply?.createdAt).fromNow()}</Time>\r\n            </BottomComment>\r\n          </CommentWrapper>\r\n\r\n          {currentUser &&\r\n            (currentUser._id === reply.user._id || currentUser._id === post.userId._id) && (\r\n              <ButtonWrapper ref={menuNode}>\r\n                <Button onClick={() => setIsOpen(!isOpen)}>\r\n                  <Icon icon=\"akar-icons:more-horizontal\" />\r\n                </Button>\r\n                <MenuActions isOpen={isOpen}>\r\n                  <MenuItem onClick={handleDeleteComment}>Delete comment</MenuItem>\r\n                </MenuActions>\r\n              </ButtonWrapper>\r\n            )}\r\n        </CommentContainer>\r\n      </RightSide>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport BoxComment from \"../BoxComment\";\r\nimport {\r\n  Container,\r\n  LeftSide,\r\n  AvatarLink,\r\n  Avatar,\r\n  RightSide,\r\n  CommentContainer,\r\n  CommentContent,\r\n  Name,\r\n  Comment,\r\n  BottomComment,\r\n  ReplyButton,\r\n  Time,\r\n  ButtonWrapper,\r\n  Button,\r\n  CommentWrapper,\r\n  MenuActions,\r\n  MenuItem,\r\n  ReplyWrapper,\r\n  ReplyCount,\r\n} from \"./CommentItemElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport moment from \"moment\";\r\nimport * as actions from \"redux/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authState$, commentState$ } from \"redux/selectors\";\r\nimport { CommentAPI } from \"api\";\r\nimport ReplyComment from \"./ReplyComment\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\n\r\nconst CommentItem = ({ comment, post, socket }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const currentReply = useRef();\r\n  const menuNode = useRef();\r\n  const dispatch = useDispatch();\r\n  const { commentId } = useSelector(commentState$);\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  const handleReply = () => {\r\n    const prevReply = document.querySelectorAll(\".post__comment.replying\");\r\n    if (prevReply.length > 0) {\r\n      [].forEach.call(prevReply, (el) => {\r\n        el.classList.remove(\"replying\");\r\n      });\r\n    }\r\n\r\n    currentReply.current.classList.add(\"replying\");\r\n    dispatch(actions.showBoxComment.showBoxCommentRequest(comment._id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (!menuNode.current?.contains(e.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n      setIsOpen(false);\r\n    };\r\n  }, []);\r\n\r\n  const handleDeleteComment = async () => {\r\n    const res = await CommentAPI.deleteComment(comment._id);\r\n    if (res.status === 200) {\r\n      dispatch(actions.deleteComment.deleteCommentSuccess(res.data));\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Comment deleted\",\r\n          type: \"success\",\r\n        })\r\n      );\r\n      socket?.emit(\"sendDeleteComment\", {\r\n        comment: res.data,\r\n      });\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"getDeleteComment\", (data) => {\r\n      if (comment._id === data.comment._id) {\r\n        dispatch(actions.deleteComment.deleteCommentSuccess(data.comment));\r\n      }\r\n    });\r\n  }, [comment, socket, dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <LeftSide>\r\n        <AvatarLink to={`/profile/${comment.userId._id}`}>\r\n          <Avatar src={comment.userId.avatar ? comment.userId.avatar : DefaultAvatar} />\r\n        </AvatarLink>\r\n      </LeftSide>\r\n\r\n      <RightSide>\r\n        <CommentContainer>\r\n          <CommentWrapper>\r\n            <CommentContent ref={currentReply} className=\"post__comment\">\r\n              <Name to={`/profile/${comment.userId._id}`} className=\"name__author\">\r\n                @{comment.userId.name}\r\n              </Name>\r\n              <Comment>{comment.comment}</Comment>\r\n            </CommentContent>\r\n\r\n            <BottomComment>\r\n              <ReplyButton onClick={handleReply}>Reply</ReplyButton>\r\n              <Time>{moment(comment.createdAt).fromNow()}</Time>\r\n              <ReplyCount>\r\n                {comment.reply.length === 0\r\n                  ? null\r\n                  : comment.reply.length + [comment.reply.length > 1 ? \" replies\" : \" reply\"]}\r\n              </ReplyCount>\r\n            </BottomComment>\r\n          </CommentWrapper>\r\n\r\n          {currentUser &&\r\n            (currentUser._id === comment.userId._id || currentUser._id === post.userId._id) && (\r\n              <ButtonWrapper ref={menuNode}>\r\n                <Button onClick={() => setIsOpen(!isOpen)}>\r\n                  <Icon icon=\"akar-icons:more-horizontal\" />\r\n                </Button>\r\n                <MenuActions isOpen={isOpen}>\r\n                  <MenuItem onClick={handleDeleteComment}>Delete comment</MenuItem>\r\n                </MenuActions>\r\n              </ButtonWrapper>\r\n            )}\r\n        </CommentContainer>\r\n\r\n        {/* Reply Comment */}\r\n\r\n        {commentId === comment._id ? (\r\n          <>\r\n            <ReplyWrapper>\r\n              {comment.reply.map((reply) => (\r\n                <ReplyComment\r\n                  key={reply._id}\r\n                  reply={reply}\r\n                  commentId={comment._id}\r\n                  currentUser={currentUser}\r\n                  post={post}\r\n                  socket={socket}\r\n                />\r\n              ))}\r\n            </ReplyWrapper>\r\n\r\n            <BoxComment isReply={true} comment={comment} socket={socket} />\r\n          </>\r\n        ) : null}\r\n\r\n        {/* ---------------------- */}\r\n      </RightSide>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CommentItem;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Container, LoadingSection } from \"./ListCommentElements\";\r\nimport CommentItem from \"./CommentItem\";\r\nimport BoxComment from \"./BoxComment\";\r\nimport CommentAPI from \"api/comments\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchComments } from \"redux/actions\";\r\nimport { commentState$ } from \"redux/selectors\";\r\nimport { SocketContext } from \"context/socketContext\";\r\n\r\nconst ListComment = ({ boxComment, post }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const { data } = useSelector(commentState$);\r\n  const socket = useContext(SocketContext);\r\n\r\n  useEffect(() => {\r\n    const fetchCommentsByPostId = async () => {\r\n      const res = await CommentAPI.fetchComments(post._id);\r\n\r\n      if (res.status === 200) {\r\n        dispatch(fetchComments.fetchCommentsSuccess(res.data));\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchCommentsByPostId();\r\n  }, [dispatch, setIsLoading, post._id]);\r\n\r\n  useEffect(() => {\r\n    const fetchCommentsByPostId = async (postId) => {\r\n      const res = await CommentAPI.fetchComments(postId);\r\n\r\n      if (res.status === 200) {\r\n        dispatch(fetchComments.fetchCommentsSuccess(res.data));\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n    socket?.on(\"getUpdateCommentPost\", ({ postId }) => {\r\n      if (postId === post._id) {\r\n        fetchCommentsByPostId(postId);\r\n      }\r\n    });\r\n  }, [socket, post, dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      {isLoading ? (\r\n        <LoadingSection />\r\n      ) : (\r\n        <>\r\n          <BoxComment boxComment={boxComment} post={post} socket={socket} />\r\n\r\n          {data &&\r\n            data.map((comment) => {\r\n              return (\r\n                comment.postId === post._id && (\r\n                  <CommentItem key={comment._id} comment={comment} post={post} socket={socket} />\r\n                )\r\n              );\r\n            })}\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ListComment;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, InputAdornment, InputLabel, OutlinedInput } from \"@mui/material\";\r\n\r\nexport const PostContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: auto;\r\n  border-radius: 5px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  margin-bottom: 20px;\r\n  box-shadow: var(--box-shadow);\r\n  overflow: hidden;\r\n\r\n  @media (max-width: 700px) {\r\n    margin-bottom: 8px;\r\n  }\r\n`;\r\n\r\nexport const PostTop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: auto;\r\n  border-bottom: 0.5px solid ${({ theme }) => theme.contrastColor};\r\n`;\r\n\r\nexport const PostAuthor = styled.div`\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: all 0.2s ease-in-out 0s;\r\n  border-bottom: 0.5px solid ${({ theme }) => theme.contrastColor};\r\n`;\r\n\r\nexport const PostImage = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n  object-fit: contain;\r\n  max-height: 550px;\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  user-select: none;\r\n  pointer-events: none;\r\n`;\r\n\r\nexport const AuthorInfo = styled.div`\r\n  display: flex;\r\n  padding: 12px 16px 0;\r\n`;\r\n\r\nexport const AvatarLink = styled(Link)`\r\n  display: flex;\r\n  margin-right: 8px;\r\n  text-decoration: none;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const AvatarLetter = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  color: #fff;\r\n  font-weight: 700;\r\n  background-color: var(--primary-color);\r\n`;\r\n\r\nexport const RightSide = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nexport const AuthorName = styled(Link)`\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nexport const PostCreated = styled.div`\r\n  margin-top: 6px;\r\n  font-size: 12px;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n`;\r\n\r\nexport const Description = styled.div`\r\n  color: #fff;\r\n  margin: 12px 0 8px;\r\n  padding: 0 16px;\r\n  font-size: 0.9rem;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.textColor};\r\n\r\n  & .post__desc {\r\n    display: block;\r\n    line-height: 1.2rem;\r\n    width: 100%;\r\n  }\r\n\r\n  & > div > textarea {\r\n    width: 100%;\r\n    resize: none;\r\n    font-size: 0.9rem;\r\n    padding: 0 4px;\r\n    outline: none;\r\n    border: 1px solid ${({ theme }) => theme.contrastColor};\r\n    color: ${({ theme }) => theme.textColor};\r\n    background: none;\r\n    border-radius: 3px;\r\n\r\n    &:focus {\r\n      outline: 2px solid ${({ theme }) => theme.contrastColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ToggleButton = styled.div`\r\n  color: #aaa;\r\n  font-weight: 700;\r\n  font-size: 0.8rem;\r\n  padding: 4px 0;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  display: inline-block;\r\n\r\n  ${Description} .post__desc:hidden {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const CustomButton = styled(Button)`\r\n  && {\r\n    height: 30px;\r\n  }\r\n`;\r\n\r\nexport const CustomInputLabel = styled(InputLabel)`\r\n  && {\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n`;\r\n\r\nexport const CustomInputAdornment = styled(InputAdornment)`\r\n  && {\r\n    & > p {\r\n      color: ${({ theme }) => theme.textColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CustomOutlinedInput = styled(OutlinedInput)`\r\n  && {\r\n    color: ${({ theme }) => theme.textColor};\r\n\r\n    & > fieldset {\r\n      border-color: ${({ theme }) => theme.contrastColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DescriptionWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & > pre {\r\n    flex: 1;\r\n  }\r\n\r\n  & > .post-price {\r\n    color: #fefefe;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    min-width: 60px;\r\n    text-align: center;\r\n    padding: 8px;\r\n    background-color: var(--primary-color);\r\n    border-radius: 6px;\r\n\r\n    @media (max-width: 1024px) {\r\n      font-size: 14px;\r\n      min-width: 60px;\r\n    }\r\n  }\r\n`;\r\n","import { LoadingButton } from \"@mui/lab\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 100%;\r\n  max-width: 350px;\r\n  border-radius: 4px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  box-shadow: 0 2px 5px 0 rgba(0 0 0 / 40%);\r\n`;\r\n\r\nexport const ModalTop = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 16px 0;\r\n  border-bottom: 1px solid ${({ theme }) => theme.contrastColor};\r\n`;\r\n\r\nexport const ModalTitle = styled.h3`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport const ButtonCloseModal = styled.div`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 34px;\r\n  height: 34px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const ButtonCloseModalWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  font-size: 1.2rem;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: all 0.1s ease-in-out 0s;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  &:active {\r\n    font-size: 1.1rem;\r\n    width: 32px;\r\n    height: 32px;\r\n  }\r\n`;\r\n\r\nexport const ReportContent = styled.div`\r\n  margin: 6px;\r\n`;\r\n\r\nexport const ReportOption = styled.p`\r\n  transition: all 0.1s ease;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  [type=\"radio\"]:checked,\r\n  [type=\"radio\"]:not(:checked) {\r\n    position: absolute;\r\n    left: -9999px;\r\n  }\r\n  [type=\"radio\"]:checked + label,\r\n  [type=\"radio\"]:not(:checked) + label {\r\n    position: relative;\r\n    padding-left: 36px;\r\n    cursor: pointer;\r\n    line-height: 20px;\r\n    display: inline-block;\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n  [type=\"radio\"]:checked + label:before,\r\n  [type=\"radio\"]:not(:checked) + label:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    left: 8px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 18px;\r\n    height: 18px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 100%;\r\n    background: #fff;\r\n  }\r\n  [type=\"radio\"]:checked + label:after,\r\n  [type=\"radio\"]:not(:checked) + label:after {\r\n    content: \"\";\r\n    width: 12px;\r\n    height: 12px;\r\n    background: var(--primary-color);\r\n    position: absolute;\r\n    top: calc(50%);\r\n    left: 11px;\r\n    transform: translateY(-50%);\r\n    border-radius: 100%;\r\n    -webkit-transition: all 0.2s ease;\r\n    transition: all 0.2s ease;\r\n  }\r\n  [type=\"radio\"]:not(:checked) + label:after {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translateY(-50%);\r\n    transform: scale(0) translateY(-50%);\r\n  }\r\n  [type=\"radio\"]:checked + label:after {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translateY(-50%);\r\n    transform: scale(1) translateY(-50%);\r\n  }\r\n`;\r\n\r\nexport const ReportOptionLabel = styled.label`\r\n  /* margin-left: 8px; */\r\n  width: 100%;\r\n  padding: 14px 8px;\r\n`;\r\n\r\nexport const ReasonAreaWrapper = styled.div`\r\n  padding: 0 6px 6px;\r\n`;\r\n\r\nexport const ReasonArea = styled.textarea`\r\n  padding: 4px 8px;\r\n  width: 100%;\r\n  resize: none;\r\n  font-size: 1rem;\r\n  border: 1px solid ${({ theme }) => theme.borderColor};\r\n  outline: none;\r\n  border-radius: 3px;\r\n  background: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n\r\n  &:focus {\r\n    outline: 2px solid ${({ theme }) => theme.hoverColor};\r\n  }\r\n  &:disabled {\r\n    background: ${({ theme }) => theme.hoverColor};\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n`;\r\n\r\nexport const ReportBottom = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 0 6px 10px;\r\n`;\r\n\r\nexport const CustomLoadingButton = styled(LoadingButton)`\r\n  && {\r\n    color: #fefefe;\r\n    width: 100%;\r\n    max-width: 120px;\r\n    background-color: ${({ loading, theme }) =>\r\n      loading ? theme.hoverColor : \"var(--primary-color)\"};\r\n\r\n    &:hover {\r\n      background-color: var(--primary-color);\r\n    }\r\n\r\n    & svg {\r\n      color: #fefefe;\r\n    }\r\n\r\n    @media (max-width: 700px) {\r\n      max-width: unset;\r\n    }\r\n  }\r\n`;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  ButtonCloseModal,\r\n  ButtonCloseModalWrapper,\r\n  CustomLoadingButton,\r\n  ModalContainer,\r\n  ModalTitle,\r\n  ModalTop,\r\n  ReasonArea,\r\n  ReasonAreaWrapper,\r\n  ReportBottom,\r\n  ReportContent,\r\n  ReportOption,\r\n  ReportOptionLabel,\r\n} from \"./PostReportModalElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport * as actions from \"redux/actions\";\r\nimport * as api from \"api\";\r\n\r\nconst reportOptions = [\r\n  {\r\n    id: \"rpt1\",\r\n    label: \"Bad quality\",\r\n    value: \"Quality of photo is so bad\",\r\n  },\r\n  {\r\n    id: \"rpt2\",\r\n    label: \"Nude photos\",\r\n    value: \"Nude photos\",\r\n  },\r\n  {\r\n    id: \"rpt3\",\r\n    label: \"Violence\",\r\n    value: \"The image contains violent content\",\r\n  },\r\n  {\r\n    id: \"rpt4\",\r\n    label: \"Suicidal/Seft-injury\",\r\n    value: \"Suicidal/Seft-injury\",\r\n  },\r\n];\r\n\r\nconst initialState = {\r\n  postId: \"\",\r\n  reason: \"\",\r\n};\r\n\r\nexport default function PostReportModal({ handleClose, postId }) {\r\n  const { currentUser } = useSelector(authState$);\r\n  const [isOther, setIsOther] = useState(true);\r\n  const [report, setReport] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const areaRef = useRef(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setReport({ ...initialState, postId: postId });\r\n\r\n    return () => {\r\n      setReport(null);\r\n    };\r\n  }, [postId]);\r\n\r\n  const handleOther = (e) => {\r\n    setReport({ ...report, reason: \"\" });\r\n    if (e.target.checked && e.target.id === \"is-other\") {\r\n      setIsOther(false);\r\n      setReport({ ...report, reason: areaRef.current.value });\r\n    } else {\r\n      setIsOther(true);\r\n      setReport({ ...report, reason: e.target.value });\r\n    }\r\n  };\r\n\r\n  const handleChangeValue = (e) => {\r\n    setReport({ ...report, reason: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    // Check if user does not log in\r\n    if (!currentUser) {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    //Check if reason is empty\r\n    if (!report.reason) {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Type your reason\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    try {\r\n      await api.ReportAPI.createNewReport(report)\r\n        .then((res) => {\r\n          dispatch(\r\n            actions.toast.showToast({\r\n              message: res.data.msg,\r\n              type: \"success\",\r\n            })\r\n          );\r\n          handleClose(false);\r\n        })\r\n        .catch((err) => {\r\n          dispatch(\r\n            actions.toast.showToast({\r\n              message: err.response.data.msg,\r\n              type: \"warning\",\r\n            })\r\n          );\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ModalContainer>\r\n        <ModalTop>\r\n          <ModalTitle>Report</ModalTitle>\r\n          <ButtonCloseModal onClick={() => handleClose(false)}>\r\n            <ButtonCloseModalWrapper>\r\n              <Icon icon=\"eva:close-fill\" />\r\n            </ButtonCloseModalWrapper>\r\n          </ButtonCloseModal>\r\n        </ModalTop>\r\n        <ReportContent onChange={handleOther}>\r\n          {reportOptions.map((option) => (\r\n            <ReportOption key={option.id}>\r\n              <input name=\"report-option\" type=\"radio\" value={option.value} id={option.id} />\r\n              <ReportOptionLabel htmlFor={option.id}>{option.label}</ReportOptionLabel>\r\n            </ReportOption>\r\n          ))}\r\n          <ReportOption>\r\n            <input name=\"report-option\" type=\"radio\" id=\"is-other\" />\r\n            <ReportOptionLabel htmlFor=\"is-other\">Others</ReportOptionLabel>\r\n          </ReportOption>\r\n        </ReportContent>\r\n        <ReasonAreaWrapper>\r\n          <ReasonArea\r\n            onChange={handleChangeValue}\r\n            ref={areaRef}\r\n            rows=\"4\"\r\n            placeholder=\"Report here...\"\r\n            disabled={isOther}\r\n          />\r\n        </ReasonAreaWrapper>\r\n        <ReportBottom>\r\n          <CustomLoadingButton loading={loading} onClick={handleSubmit}>\r\n            Submit\r\n          </CustomLoadingButton>\r\n        </ReportBottom>\r\n      </ModalContainer>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport ListAction from \"./ListAction\";\r\nimport ListComment from \"./ListComment\";\r\nimport {\r\n  PostContainer,\r\n  PostTop,\r\n  PostImage,\r\n  PostAuthor,\r\n  AuthorInfo,\r\n  AvatarLink,\r\n  Avatar,\r\n  RightSide,\r\n  AuthorName,\r\n  PostCreated,\r\n  Description,\r\n  CustomButton,\r\n  CustomInputLabel,\r\n  CustomInputAdornment,\r\n  CustomOutlinedInput,\r\n  DescriptionWrapper,\r\n} from \"./PostItemElements\";\r\nimport moment from \"moment\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { PaymentAPI } from \"api\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { FormControl, Stack, Switch } from \"@mui/material\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { PostAPI } from \"api\";\r\nimport * as actions from \"redux/actions\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\nimport PostReportModal from \"./PostReportModal\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// const getFirstLetter = (name) => {\r\n//   return name.charAt(0).toUpperCase();\r\n// };\r\n\r\nconst PostItem = ({ post }) => {\r\n  const [newPost, setNewPost] = useState(null);\r\n  const [isShowComment, setIsShowComment] = useState(false);\r\n  const [isOnEdit, setIsOnEdit] = useState(false);\r\n  const [isReporting, setIsReporting] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const { currentUser } = useSelector(authState$);\r\n  const boxComment = useRef();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      setNewPost(post);\r\n    }\r\n    return () => {\r\n      setNewPost(null);\r\n    };\r\n  }, [post]);\r\n\r\n  const handleShowComment = () => {\r\n    if (!isShowComment) {\r\n      setIsShowComment(true);\r\n    } else {\r\n      boxComment.current.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n        inline: \"center\",\r\n      });\r\n      boxComment.current.focus({ preventScroll: true });\r\n    }\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    if (post.isPaymentRequired) {\r\n      if (currentUser) {\r\n        if (post.userId._id === currentUser._id) {\r\n          saveAs(post.image.url, `${post.image.public_id}.png`);\r\n        } else {\r\n          const isPaid = await PaymentAPI.checkPayment(post._id);\r\n\r\n          if (isPaid.data) {\r\n            saveAs(post.image.url, `${post.image.public_id}.png`);\r\n          } else {\r\n            history.push(\"/checkout\", { post });\r\n          }\r\n        }\r\n      } else {\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Please Login\",\r\n            type: \"warning\",\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      saveAs(post.image.url, `${post.image.public_id}.png`);\r\n    }\r\n  };\r\n\r\n  const handleChangeValue = (e) => {\r\n    const { name, value, checked } = e.target;\r\n    if (name === \"isPaymentRequired\") {\r\n      setNewPost({ ...newPost, [name]: checked });\r\n    } else {\r\n      setNewPost({ ...newPost, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await PostAPI.updatePost({\r\n        data: {\r\n          desc: newPost.desc,\r\n          isPaymentRequired: newPost.isPaymentRequired,\r\n          price: newPost.price,\r\n        },\r\n        postId: newPost._id,\r\n      });\r\n      if (res.status === 200) {\r\n        dispatch(actions.updatePost(res.data));\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Update post success\",\r\n            type: \"success\",\r\n          })\r\n        );\r\n      } else {\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Update post failed\",\r\n            type: \"warning\",\r\n          })\r\n        );\r\n      }\r\n      setIsOnEdit(false);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PostContainer>\r\n        <PostTop>\r\n          <PostAuthor>\r\n            <AuthorInfo>\r\n              {/* {post.price} */}\r\n              <AvatarLink to={`/profile/${post.userId._id}`}>\r\n                <Avatar src={post.userId.avatar ? post.userId.avatar : DefaultAvatar} />\r\n              </AvatarLink>\r\n              <RightSide>\r\n                <AuthorName to={`/profile/${post.userId._id}`}>\r\n                  @{post.userId.name ? post.userId.name : post.userId.email}\r\n                </AuthorName>\r\n                <PostCreated>{moment(post.createdAt).fromNow()}</PostCreated>\r\n              </RightSide>\r\n\r\n              {post.userId._id === currentUser?._id && isOnEdit && (\r\n                <Stack spacing={1} direction=\"row\">\r\n                  <CustomButton\r\n                    size=\"small\"\r\n                    variant=\"string\"\r\n                    onClick={() => setIsOnEdit(!isOnEdit)}\r\n                  >\r\n                    Cancel\r\n                  </CustomButton>\r\n                  <LoadingButton\r\n                    size=\"small\"\r\n                    sx={{ height: 30 }}\r\n                    loading={loading}\r\n                    variant=\"outlined\"\r\n                    color=\"success\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Update\r\n                  </LoadingButton>\r\n                </Stack>\r\n              )}\r\n            </AuthorInfo>\r\n            <Description>\r\n              {isOnEdit ? (\r\n                <Stack spacing={1} direction=\"row\">\r\n                  <textarea name=\"desc\" onChange={handleChangeValue} value={newPost.desc} />\r\n\r\n                  <Stack spacing={1} alignItems=\"center\" direction=\"column\">\r\n                    <Switch\r\n                      checked={newPost.isPaymentRequired}\r\n                      name=\"isPaymentRequired\"\r\n                      onChange={handleChangeValue}\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                    />\r\n                    <FormControl>\r\n                      <CustomInputLabel\r\n                        style={{ color: `${({ theme }) => theme.textColor}` }}\r\n                        htmlFor=\"outlined-adornment-amount\"\r\n                      >\r\n                        Price\r\n                      </CustomInputLabel>\r\n                      <CustomOutlinedInput\r\n                        id=\"outlined-adornment-amount\"\r\n                        name=\"price\"\r\n                        value={newPost.price}\r\n                        disabled={!newPost.isPaymentRequired}\r\n                        onChange={handleChangeValue}\r\n                        startAdornment={\r\n                          <CustomInputAdornment position=\"start\">$</CustomInputAdornment>\r\n                        }\r\n                        label=\"Price\"\r\n                        style={{ color: `${({ theme }) => theme.textColor}` }}\r\n                        sx={{ width: 100, height: 40 }}\r\n                      />\r\n                    </FormControl>\r\n                  </Stack>\r\n                </Stack>\r\n              ) : (\r\n                <DescriptionWrapper>\r\n                  <pre className=\"post__desc\">{post.desc}</pre>\r\n                  <div className=\"post-price\">\r\n                    {post.isPaymentRequired ? \"$\" + post.price : \"Free\"}\r\n                  </div>\r\n                </DescriptionWrapper>\r\n              )}\r\n            </Description>\r\n          </PostAuthor>\r\n          <Link style={{ display: \"flex\" }} to={`/post/${post._id}`}>\r\n            <PostImage src={post.image.url} />\r\n          </Link>\r\n        </PostTop>\r\n        <ListAction\r\n          showComment={handleShowComment}\r\n          post={post}\r\n          downloadImage={handleDownload}\r\n          handleEdit={setIsOnEdit}\r\n          handleReport={setIsReporting}\r\n        />\r\n        {isShowComment && <ListComment boxComment={boxComment} post={post} />}\r\n      </PostContainer>\r\n      {isReporting && <PostReportModal handleClose={setIsReporting} postId={post._id} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  margin-bottom: 20px;\r\n  margin-left: 16px;\r\n  width: calc(100% - 32px);\r\n  height: auto;\r\n  box-shadow: var(--box-shadow);\r\n  border-radius: 5px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n`;\r\n\r\nexport const AvatarLink = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const OverLay = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  transition: all 0.1s ease-in-out 0s;\r\n\r\n  ${AvatarLink}:hover > & {\r\n    background-color: #ffffff20;\r\n  }\r\n`;\r\n\r\nexport const DescSection = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  height: 40px;\r\n  border-radius: 20px;\r\n  margin-left: 8px;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  transition: all 0.1s ease-in-out 0s;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  & > div {\r\n    flex-grow: 1;\r\n    font-size: 1.1rem;\r\n    color: ${({ theme }) => theme.textColor};\r\n    opacity: 0.4;\r\n    margin-left: 12px;\r\n    user-select: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Container, AvatarLink, Avatar, OverLay, DescSection } from \"./PostUpdateElements\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { showModal } from \"redux/actions\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\n\r\nconst PostUpdate = () => {\r\n  const dispatch = useDispatch();\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  const handleModal = React.useCallback(() => {\r\n    dispatch(showModal());\r\n  }, [dispatch]);\r\n  return (\r\n    <Container>\r\n      <AvatarLink to={`/profile/${currentUser._id}`}>\r\n        <Avatar src={currentUser.avatar ? currentUser.avatar : DefaultAvatar} alt=\"avatar\" />\r\n        <OverLay></OverLay>\r\n      </AvatarLink>\r\n      <DescSection onClick={handleModal}>\r\n        <div>What do you want to talk about?</div>\r\n      </DescSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PostUpdate;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Container, CustomCard, CustomSkeleton, PostTopTitle } from \"./PostElements\";\r\nimport PostItem from \"./PostItem\";\r\nimport PostUpdate from \"./PostUpdate\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authState$, postState$ } from \"../../../redux/selectors\";\r\nimport { useParams } from \"react-router\";\r\nimport { CardContent, CardHeader } from \"@mui/material\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nconst Posts = ({ direction }) => {\r\n  const [page, setPage] = useState(1);\r\n  const { data } = useSelector(postState$);\r\n  const { currentUser } = useSelector(authState$);\r\n  const dispatch = useDispatch();\r\n\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (page !== 1) {\r\n      if (userId) {\r\n        dispatch(actions.getProfilePosts.getProfilePostsRequest({ userId, page }));\r\n      } else {\r\n        dispatch(actions.getPostsLoadMore.getPostsLoadMoreRequest(page));\r\n      }\r\n    }\r\n  }, [page, dispatch, userId]);\r\n\r\n  return (\r\n    <>\r\n      <Container direction={direction}>\r\n        {userId\r\n          ? [userId === currentUser?._id && <PostUpdate key=\"0\" />]\r\n          : [currentUser && <PostUpdate key=\"1\" />]}\r\n\r\n        <PostTopTitle>\r\n          <h3>Activities Recently</h3>\r\n          <span></span>\r\n        </PostTopTitle>\r\n\r\n        <InfiniteScroll\r\n          style={{ padding: \"20px 16px 0\" }}\r\n          dataLength={data.length}\r\n          next={() => setPage(page + 1)}\r\n          hasMore={true}\r\n        >\r\n          {data.map((post, i) => (\r\n            <div key={i}>\r\n              <PostItem post={post} />\r\n            </div>\r\n          ))}\r\n        </InfiniteScroll>\r\n\r\n        {[...Array(1)].map((item, index) => (\r\n          <PostLoading key={index} />\r\n        ))}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nconst PostLoading = () => {\r\n  return (\r\n    <>\r\n      <CustomCard>\r\n        <CardHeader\r\n          avatar={<CustomSkeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />}\r\n          title={\r\n            <CustomSkeleton animation=\"wave\" height={10} width=\"40%\" style={{ marginBottom: 6 }} />\r\n          }\r\n          subheader={<CustomSkeleton animation=\"wave\" height={10} width=\"20%\" />}\r\n        />\r\n        <CardContent sx={{ padding: \"0 16px 16px\" }}>\r\n          <React.Fragment>\r\n            <CustomSkeleton animation=\"wave\" height={10} style={{ marginBottom: 6 }} />\r\n            <CustomSkeleton animation=\"wave\" height={10} width=\"80%\" />\r\n          </React.Fragment>\r\n        </CardContent>\r\n\r\n        <CustomSkeleton sx={{ height: 190 }} animation=\"wave\" variant=\"rectangular\" />\r\n      </CustomCard>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import styled from \"styled-components\";\r\nimport Loading from \"images/Loading.svg\";\r\n\r\nexport const OverLay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  opacity: ${({ isShow }) => (isShow ? \"1\" : \"0\")};\r\n  visibility: ${({ isShow }) => (isShow ? \"visible\" : \"hidden\")};\r\n  transition: all 0.2s ease-in-out;\r\n  z-index: 49;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  max-width: 597.5px;\r\n  width: 95%;\r\n  height: auto;\r\n  top: ${({ isShow }) => (isShow ? \"50%\" : \"40%\")};\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  box-shadow: var(--box-shadow);\r\n  transition: all 0.1s linear 0.1s;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const LoadingSection = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0, 0, 0, 0.3) url(${Loading}) no-repeat center center;\r\n  background-size: 100px;\r\n`;\r\n\r\nexport const Top = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 20px 0;\r\n  border-bottom: 1px solid ${({ theme }) => theme.contrastColor};\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport const ButtonWrapper = styled.div`\r\n  position: absolute;\r\n  right: 14px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 40px;\r\n  height: 40px;\r\n`;\r\n\r\nexport const CloseButton = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  border: 0;\r\n  font-size: 1.2rem;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: all 0.1s ease-in-out 0s;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  &:active {\r\n    font-size: 1.1rem;\r\n    width: 38px;\r\n    height: 38px;\r\n  }\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  padding: 14px 14px 0 14px;\r\n  position: relative;\r\n  max-height: 400px;\r\n  overflow: hidden;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nexport const DescArea = styled.textarea`\r\n  width: 100%;\r\n  height: 115px;\r\n  margin-top: 8px;\r\n  resize: none;\r\n  border: none;\r\n  outline: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: ${({ isSmall }) => (isSmall ? \"1.2rem\" : \"1.6rem\")};\r\n  font-weight: 300;\r\n  background-color: transparent;\r\n  transition: all 0.1s ease-in-out 0s;\r\n`;\r\n\r\nexport const UserWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const Name = styled.div`\r\n  font-weight: 500;\r\n  margin-left: 8px;\r\n`;\r\n\r\nexport const LetterCount = styled.div`\r\n  position: absolute;\r\n  top: 170px;\r\n  right: 14px;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n`;\r\n\r\nexport const PhotoWrapper = styled.div`\r\n  position: relative;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  color: #ccc;\r\n`;\r\n\r\nexport const Photo = styled.img`\r\n  width: 100%;\r\n  max-height: 500px;\r\n  object-fit: contain;\r\n`;\r\n\r\nexport const RemovePhotoButton = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: -100%;\r\n  width: 100%;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  font-size: 2rem;\r\n  transition: all 0.2s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  ${PhotoWrapper}:hover & {\r\n    right: 0;\r\n  }\r\n\r\n  & > span {\r\n    font-size: 1.4rem;\r\n  }\r\n`;\r\n\r\nexport const Actions = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 14px 10px 14px;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const UploadButtonWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 40px;\r\n  font-size: 1.4rem;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nexport const UploadButton = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 40px;\r\n  transition: all 0.15s ease-in-out 0s;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  border: 1px solid ${({ theme }) => theme.subTextColor};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n\r\nexport const PostButtonWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n`;\r\n\r\nexport const PostButton = styled.button`\r\n  width: 100%;\r\n  background-color: var(--primary-color);\r\n  border: 0;\r\n  padding: 10px 24px;\r\n  border-radius: 5px;\r\n  text-transform: uppercase;\r\n  color: #fff;\r\n  transition: all 0.15s ease-in-out 0s;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n\r\n  &:disabled {\r\n    background: ${({ theme }) => theme.contrastColor};\r\n    color: ${({ theme }) => theme.subTextColor};\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  &:disabled:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const PostPayment = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: auto;\r\n  align-items: flex-end;\r\n`;\r\n\r\nexport const SwitchWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  font-size: 14px;\r\n\r\n  & > span {\r\n    color: ${({ isChecked, theme }) => (isChecked ? \"var(--success-color)\" : theme.subTextColor)};\r\n  }\r\n`;\r\nexport const InputPrice = styled.input`\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  width: 100%;\r\n  max-width: 140px;\r\n  padding: 4px 8px;\r\n  border: 1px solid ${({ theme }) => theme.borderColor};\r\n  outline: none;\r\n  background: none;\r\n  border-radius: 2px;\r\n  color: ${({ theme }) => theme.textColor};\r\n\r\n  &:disabled {\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n\r\n  &:focus {\r\n    outline: 2px solid ${({ theme }) => theme.borderColor};\r\n  }\r\n`;\r\n","import { useRef } from \"react\";\r\n\r\nconst safeDocument = typeof document !== \"undefined\" ? document : {};\r\n\r\n/**\r\n * Usage:\r\n * const [blockScroll, allowScroll] = useScrollBlock();\r\n */\r\nconst useScrollBlock = () => {\r\n  const scrollBlocked = useRef();\r\n  const html = safeDocument.documentElement;\r\n  const { body } = safeDocument;\r\n  const header = document.getElementById(\"header\");\r\n\r\n  const blockScroll = () => {\r\n    if (!body || !body.style || scrollBlocked.current) return;\r\n    if (!header) return;\r\n\r\n    const scrollBarWidth = window.innerWidth - html.clientWidth;\r\n    const bodyPaddingRight =\r\n      parseInt(window.getComputedStyle(body).getPropertyValue(\"padding-right\")) || 0;\r\n\r\n    /**\r\n     * 1. Fixes a bug in iOS and desktop Safari whereby setting\r\n     *    `overflow: hidden` on the html/body does not prevent scrolling.\r\n     * 2. Fixes a bug in desktop Safari where `overflowY` does not prevent\r\n     *    scroll if an `overflow-x` style is also applied to the body.\r\n     */\r\n    html.style.position = \"relative\"; /* [1] */\r\n    html.style.overflow = \"hidden\"; /* [2] */\r\n    // body.style.position = \"relative\"; /* [1] */\r\n    // body.style.overflow = \"hidden\"; /* [2] */\r\n    body.style.paddingRight = `${bodyPaddingRight + scrollBarWidth}px`;\r\n\r\n    header.style.right = `${scrollBarWidth}px`;\r\n\r\n    scrollBlocked.current = true;\r\n  };\r\n\r\n  const allowScroll = () => {\r\n    if (!body || !body.style || !scrollBlocked.current) return;\r\n\r\n    html.style.position = \"\";\r\n    html.style.overflow = \"\";\r\n    // body.style.position = \"\";\r\n    // body.style.overflow = \"\";\r\n    body.style.paddingRight = \"\";\r\n\r\n    header.style.right = \"\";\r\n\r\n    scrollBlocked.current = false;\r\n  };\r\n\r\n  return [blockScroll, allowScroll];\r\n};\r\n\r\nexport default useScrollBlock;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport {\r\n  OverLay,\r\n  Container,\r\n  Top,\r\n  Title,\r\n  ButtonWrapper,\r\n  CloseButton,\r\n  Content,\r\n  UserWrapper,\r\n  AvatarWrapper,\r\n  Avatar,\r\n  Name,\r\n  DescArea,\r\n  LetterCount,\r\n  PhotoWrapper,\r\n  Photo,\r\n  RemovePhotoButton,\r\n  Actions,\r\n  UploadButtonWrapper,\r\n  UploadButton,\r\n  PostButtonWrapper,\r\n  PostButton,\r\n  LoadingSection,\r\n  PostPayment,\r\n  SwitchWrapper,\r\n  InputPrice,\r\n} from \"./PostUpdateModalElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createPost, hideModal } from \"redux/actions\";\r\nimport { authState$, modalState$, postState$ } from \"redux/selectors\";\r\nimport Switch from \"@mui/material/Switch\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\nimport useScrollBlock from \"hooks/useScrollBlock\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nconst initial_post = {\r\n  desc: \"\",\r\n  category: [],\r\n  image: \"\",\r\n  isPaymentRequired: false,\r\n  price: 0,\r\n};\r\n\r\nconst PostUpdateModal = ({ user }) => {\r\n  const overlayRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const { isShow } = useSelector(modalState$);\r\n  const { isLoading } = useSelector(postState$);\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  const [post, setPost] = useState(initial_post);\r\n  const [isSmall, setIsSmall] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [blockScroll, allowScroll] = useScrollBlock();\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      setPost(initial_post);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  useEffect(() => {\r\n    if (isShow) {\r\n      blockScroll();\r\n    }\r\n\r\n    return () => allowScroll();\r\n  }, [isShow, blockScroll, allowScroll]);\r\n\r\n  const handleChangeValue = React.useCallback(\r\n    (e) => {\r\n      if (e.target.value.length <= 250) {\r\n        setPost({ ...post, desc: e.target.value });\r\n        if (post.desc.length > 100) {\r\n          setIsSmall(true);\r\n        } else {\r\n          setIsSmall(false);\r\n        }\r\n      }\r\n    },\r\n    [post]\r\n  );\r\n\r\n  const handleUpload = async (e) => {\r\n    setPost({ ...post, image: URL.createObjectURL(e.target.files[0]) });\r\n  };\r\n\r\n  const handleRemovePhoto = () => {\r\n    setPost({ ...post, image: \"\" });\r\n  };\r\n\r\n  const handlePayment = () => {\r\n    if (!post.isPaymentRequired) {\r\n      if (currentUser.creditCard) {\r\n        setPost({ ...post, isPaymentRequired: !post.isPaymentRequired });\r\n      } else {\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Please update your Paypal\",\r\n            type: \"warning\",\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      setPost({ ...post, isPaymentRequired: !post.isPaymentRequired });\r\n    }\r\n  };\r\n\r\n  const handlePrice = (e) => {\r\n    setPost({ ...post, price: e.target.value });\r\n  };\r\n\r\n  const closeModal = React.useCallback(\r\n    (e) => {\r\n      if (overlayRef.current === e.target) {\r\n        dispatch(hideModal());\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const onSubmit = React.useCallback(() => {\r\n    dispatch(createPost.createPostRequest({ ...post }));\r\n  }, [post, dispatch]);\r\n\r\n  return (\r\n    <OverLay ref={overlayRef} onMouseDown={closeModal} isShow={isShow}>\r\n      <Container isShow={isShow}>\r\n        <Top>\r\n          <Title>New Post</Title>\r\n          <ButtonWrapper>\r\n            <CloseButton onClick={() => dispatch(hideModal())}>\r\n              <Icon icon=\"akar-icons:cross\" />\r\n            </CloseButton>\r\n          </ButtonWrapper>\r\n        </Top>\r\n        <Content>\r\n          <UserWrapper>\r\n            <AvatarWrapper>\r\n              <Avatar src={user.avatar ? user.avatar : DefaultAvatar} alt=\"avatar\" />\r\n            </AvatarWrapper>\r\n            <Name>@{user.name}</Name>\r\n            <PostPayment>\r\n              <SwitchWrapper isChecked={post.isPaymentRequired}>\r\n                <span>Payment Required</span>\r\n                <Switch checked={post.isPaymentRequired} onChange={handlePayment} size=\"small\" />\r\n                <InputPrice\r\n                  onChange={handlePrice}\r\n                  type=\"number\"\r\n                  disabled={post.isPaymentRequired ? \"\" : \"disabled\"}\r\n                ></InputPrice>\r\n              </SwitchWrapper>\r\n            </PostPayment>\r\n          </UserWrapper>\r\n          <DescArea\r\n            className=\"desc-area\"\r\n            placeholder=\"What do you want to talk about?\"\r\n            onChange={handleChangeValue}\r\n            value={post.desc}\r\n            isSmall={isSmall}\r\n          />\r\n          <LetterCount>{post.desc.length}/250</LetterCount>\r\n\r\n          {post.image && (\r\n            <PhotoWrapper>\r\n              <Photo\r\n                style={isLoaded ? {} : { display: \"none\" }}\r\n                onLoad={() => setIsLoaded(true)}\r\n                src={post.image}\r\n              />\r\n              <RemovePhotoButton onClick={handleRemovePhoto}>\r\n                <Icon icon=\"fluent:delete-16-regular\" />\r\n                <span>Remove</span>\r\n              </RemovePhotoButton>\r\n            </PhotoWrapper>\r\n          )}\r\n        </Content>\r\n        <Actions>\r\n          {!post.image && (\r\n            <UploadButtonWrapper>\r\n              <UploadButton htmlFor=\"upload-btn\">\r\n                <input\r\n                  id=\"upload-btn\"\r\n                  type=\"file\"\r\n                  hidden\r\n                  accept=\"image/*\"\r\n                  onChange={handleUpload}\r\n                />\r\n                <Icon icon=\"carbon:image\" />\r\n              </UploadButton>\r\n            </UploadButtonWrapper>\r\n          )}\r\n\r\n          <PostButtonWrapper>\r\n            <PostButton\r\n              disabled={post.desc.length === 0 || !post.image ? \"disabled\" : null}\r\n              onClick={onSubmit}\r\n            >\r\n              Post\r\n            </PostButton>\r\n          </PostButtonWrapper>\r\n        </Actions>\r\n        {isLoading && <LoadingSection />}\r\n      </Container>\r\n    </OverLay>\r\n  );\r\n};\r\n\r\nexport default PostUpdateModal;\r\n","import { Card, Skeleton } from \"@mui/material\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const PostChartContainer = styled.div`\r\n  position: relative;\r\n  top: 0;\r\n  right: 0;\r\n  width: 332px;\r\n  background: ${({ theme }) => theme.primary};\r\n  box-shadow: var(--box-shadow);\r\n  border-radius: 5px;\r\n  padding: 12px;\r\n  margin-right: 16px;\r\n\r\n  @media (max-width: 1024px) {\r\n    position: relative;\r\n    order: 1;\r\n    top: 0;\r\n    left: 0;\r\n    margin: 0 auto 20px;\r\n    transform: translateX(0);\r\n    width: 100%;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nexport const PostTopTitle = styled.div`\r\n  width: 100%;\r\n\r\n  & > .title {\r\n    white-space: nowrap;\r\n    margin-right: 12px;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n\r\n  & > div:last-child {\r\n    width: 30%;\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n    padding-bottom: 2px;\r\n    margin: 10px 0 12px;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    padding: 0 8px;\r\n  }\r\n`;\r\n\r\nexport const PostChartWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  grid-template-rows: repeat(4, 70px);\r\n  grid-gap: 10px;\r\n  grid-template-areas:\r\n    \"h1 h1 h2 h2\"\r\n    \"h1 h1 h3 h3\"\r\n    \"h4 h4 h6 h6\"\r\n    \"h5 h5 h6 h6\";\r\n\r\n  @media (max-width: 1024px) {\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    overflow-x: auto;\r\n    box-sizing: content-box;\r\n\r\n    & > div {\r\n      flex-shrink: 0;\r\n      width: 140px;\r\n      height: 140px;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    margin: 0 -6px 0px;\r\n    padding: 10px;\r\n  }\r\n\r\n  @media (min-width: 1025px) {\r\n    & > div:first-child {\r\n      grid-area: h1;\r\n    }\r\n\r\n    & > div:nth-child(2) {\r\n      grid-area: h2;\r\n    }\r\n\r\n    & > div:nth-child(3) {\r\n      grid-area: h3;\r\n    }\r\n\r\n    & > div:nth-child(4) {\r\n      grid-area: h4;\r\n    }\r\n\r\n    & > div:nth-child(5) {\r\n      grid-area: h5;\r\n    }\r\n\r\n    & > div:last-child {\r\n      grid-area: h6;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PostChartItem = styled.div`\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  border-radius: 10px;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.6);\r\n  }\r\n`;\r\n\r\nexport const CustomCard = styled(Card)`\r\n  && {\r\n    background-color: ${({ theme }) => theme.primary};\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nexport const CustomSkeleton = styled(Skeleton)`\r\n  && {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ModalContainer = styled.div`\r\n  display: ${({ isShow }) => (isShow ? \"block\" : \"none\")};\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  z-index: 100;\r\n`;\r\n\r\nexport const ModalForm = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 4px;\r\n  background: ${({ theme }) => theme.primary};\r\n  overflow: hidden;\r\n\r\n  @media (max-width: 800px) {\r\n    flex-direction: column;\r\n  }\r\n\r\n  @media (max-width: 512px) {\r\n    /* flex-direction: column; */\r\n    height: 100%;\r\n    width: 100%;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nexport const ModalPhotoWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 60%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.1);\r\n\r\n  @media (max-width: 800px) {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nexport const ModalPhoto = styled.div`\r\n  width: 100%;\r\n  max-width: 1000px;\r\n  height: 100%;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n\r\n  @media (max-width: 800px) {\r\n    height: 300px;\r\n  }\r\n\r\n  @media (max-width: 512px) {\r\n    height: 280px;\r\n  }\r\n`;\r\n\r\nexport const ModalContentContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 320px;\r\n\r\n  @media (max-width: 800px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const ModalContentWrapper = styled.div`\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n\r\n  @media (max-width: 800px) {\r\n    height: calc(80vh - 300px - 60px);\r\n  }\r\n\r\n  @media (max-width: 512px) {\r\n    height: calc(100vh - 280px - 60px);\r\n  }\r\n`;\r\n\r\nexport const ModalCloseWrapper = styled.div`\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  width: 60px;\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const ModalCloseButton = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  background: ${({ theme }) => theme.contrastColor};\r\n  transform: scale(1);\r\n  border-radius: 20px;\r\n  transition: all 0.1s ease;\r\n  cursor: pointer;\r\n\r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  gap: 10px;\r\n  width: 100%;\r\n  padding-left: 10px;\r\n`;\r\n\r\nexport const ButtonWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 60px;\r\n  padding: 10px 0;\r\n`;\r\n\r\nexport const ButtonTooltip = styled.div`\r\n  position: absolute;\r\n  bottom: -30%;\r\n  left: 50%;\r\n  transform: translateX(-50%) scale(0.5);\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  padding: 4px 8px;\r\n  border-radius: 5px;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  user-select: none;\r\n  pointer-events: none;\r\n  transition: all 0.1s ease;\r\n\r\n  ${ButtonWrapper}:hover > & {\r\n    opacity: 0.8;\r\n    visibility: visible;\r\n    transform: translateX(-50%) scale(1);\r\n  }\r\n\r\n  &.danger {\r\n    color: var(--danger-color);\r\n  }\r\n`;\r\n\r\nexport const Button = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  border-radius: 20px;\r\n  background: ${({ theme }) => theme.contrastColor};\r\n  transform: scale(1);\r\n  transition: all 0.1s ease;\r\n  cursor: pointer;\r\n\r\n  &.danger {\r\n    color: var(--danger-color);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Button, ButtonTooltip, ButtonWrapper, Container } from \"./ModalActionsElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { PaymentAPI } from \"api\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nexport default function ModalActions({ post, handleEdit }) {\r\n  const { currentUser } = useSelector(authState$);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const handleDownload = async () => {\r\n    // saveAs(post.image.url, post.image.public_id + \".png\");\r\n    if (post.isPaymentRequired) {\r\n      if (currentUser) {\r\n        if (post.userId._id === currentUser._id) {\r\n          saveAs(post.image.url, `${post.image.public_id}.png`);\r\n        } else {\r\n          const isPaid = await PaymentAPI.checkPayment(post._id);\r\n\r\n          if (isPaid.data) {\r\n            saveAs(post.image.url, `${post.image.public_id}.png`);\r\n          } else {\r\n            history.push(`/checkout/${post._id}`);\r\n          }\r\n        }\r\n      } else {\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Please Login\",\r\n            type: \"warning\",\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      await saveAs(post.image.url, `${post.image.public_id}.png`);\r\n    }\r\n  };\r\n  return (\r\n    <Container>\r\n      <ButtonWrapper>\r\n        <Button onClick={handleDownload}>\r\n          <Icon icon=\"fe:download\" />\r\n        </Button>\r\n        <ButtonTooltip>Download</ButtonTooltip>\r\n      </ButtonWrapper>\r\n\r\n      <ButtonWrapper onClick={() => handleEdit(true)}>\r\n        <Button className=\"danger\">\r\n          <Icon icon=\"jam:triangle-danger\" />\r\n        </Button>\r\n        <ButtonTooltip className=\"danger\">Report</ButtonTooltip>\r\n      </ButtonWrapper>\r\n\r\n      {currentUser && post.userId._id === currentUser._id && (\r\n        <ButtonWrapper>\r\n          <Button className=\"danger\">\r\n            <Icon icon=\"feather:delete\" />\r\n          </Button>\r\n          <ButtonTooltip className=\"danger\">Delete</ButtonTooltip>\r\n        </ButtonWrapper>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { Button, InputAdornment, InputLabel, OutlinedInput } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  padding: 10px 10px 4px;\r\n  border-top: 1px solid ${({ theme }) => theme.borderColor};\r\n`;\r\n\r\nexport const ContentTop = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div``;\r\n\r\nexport const AvatarLink = styled(Link)``;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 20px;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const AuthorWrapper = styled.div`\r\n  margin-left: 10px;\r\n  flex-grow: 1;\r\n  flex-shrink: 0;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const AuthorName = styled(Link)`\r\n  color: ${({ theme }) => theme.textColor};\r\n  text-decoration: none;\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n`;\r\n\r\nexport const CreatedDate = styled.div`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  font-size: 14px;\r\n  margin-top: 4px;\r\n`;\r\n\r\nexport const DescWrapper = styled.div`\r\n  margin: 12px 0 0px;\r\n\r\n  & > div > textarea {\r\n    width: 100%;\r\n    resize: none;\r\n    font-size: 0.9rem;\r\n    padding: 0 4px;\r\n    outline: none;\r\n    border: 1px solid ${({ theme }) => theme.contrastColor};\r\n    color: ${({ theme }) => theme.textColor};\r\n    background: none;\r\n    border-radius: 3px;\r\n\r\n    &:focus {\r\n      outline: 2px solid ${({ theme }) => theme.contrastColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Desc = styled.div`\r\n  line-height: 1.4rem;\r\n`;\r\n\r\nexport const CustomButton = styled(Button)`\r\n  && {\r\n    height: 30px;\r\n  }\r\n`;\r\n\r\nexport const CustomInputLabel = styled(InputLabel)`\r\n  && {\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n`;\r\n\r\nexport const CustomInputAdornment = styled(InputAdornment)`\r\n  && {\r\n    & > p {\r\n      color: ${({ theme }) => theme.textColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CustomOutlinedInput = styled(OutlinedInput)`\r\n  && {\r\n    color: ${({ theme }) => theme.textColor};\r\n\r\n    & > fieldset {\r\n      border-color: ${({ theme }) => theme.contrastColor};\r\n    }\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  AuthorName,\r\n  AuthorWrapper,\r\n  Avatar,\r\n  AvatarLink,\r\n  AvatarWrapper,\r\n  Container,\r\n  ContentTop,\r\n  CreatedDate,\r\n  CustomButton,\r\n  CustomInputAdornment,\r\n  CustomInputLabel,\r\n  CustomOutlinedInput,\r\n  Desc,\r\n  DescWrapper,\r\n} from \"./ModalContentElements\";\r\nimport moment from \"moment\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { FormControl, Stack, Switch } from \"@mui/material\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { PostAPI } from \"api\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nexport default function ModalContent({ post }) {\r\n  const [newPost, setNewPost] = useState(null);\r\n  const [isOnEdit, setIsOnEdit] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const { currentUser } = useSelector(authState$);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      setNewPost(post);\r\n    }\r\n    return () => {\r\n      setNewPost(null);\r\n    };\r\n  }, [post]);\r\n\r\n  const handleChangeValue = (e) => {\r\n    const { name, value, checked } = e.target;\r\n    if (name === \"isPaymentRequired\") {\r\n      setNewPost({ ...newPost, [name]: checked });\r\n    } else {\r\n      setNewPost({ ...newPost, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await PostAPI.updatePost({\r\n        data: {\r\n          desc: newPost.desc,\r\n          isPaymentRequired: newPost.isPaymentRequired,\r\n          price: newPost.price,\r\n        },\r\n        postId: newPost._id,\r\n      });\r\n      if (res.status === 200) {\r\n        dispatch(actions.updatePost(res.data));\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Update post success\",\r\n            type: \"success\",\r\n          })\r\n        );\r\n      } else {\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Update post failed\",\r\n            type: \"warning\",\r\n          })\r\n        );\r\n      }\r\n      setIsOnEdit(false);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ContentTop>\r\n        {isOnEdit ? null : (\r\n          <>\r\n            <AvatarWrapper>\r\n              <AvatarLink to={`/profile/${post.userId._id}`}>\r\n                <Avatar src={`${post.userId.avatar}`} />\r\n              </AvatarLink>\r\n            </AvatarWrapper>\r\n\r\n            <AuthorWrapper>\r\n              <AuthorName to={`/profile/${post.userId._id}`}>@{post.userId.name}</AuthorName>\r\n              <CreatedDate>{moment(post.createdAt).fromNow()}</CreatedDate>\r\n            </AuthorWrapper>\r\n          </>\r\n        )}\r\n\r\n        {post.userId._id === currentUser?._id &&\r\n          (isOnEdit ? (\r\n            <Stack spacing={1} direction=\"row\" alignItems=\"flex-end\">\r\n              <CustomButton size=\"small\" variant=\"string\" onClick={() => setIsOnEdit(!isOnEdit)}>\r\n                Cancel\r\n              </CustomButton>\r\n              <LoadingButton\r\n                size=\"small\"\r\n                sx={{ height: 30 }}\r\n                loading={loading}\r\n                variant=\"outlined\"\r\n                color=\"success\"\r\n                onClick={handleSubmit}\r\n              >\r\n                Update\r\n              </LoadingButton>\r\n            </Stack>\r\n          ) : (\r\n            <>\r\n              <CustomButton size=\"small\" variant=\"string\" onClick={() => setIsOnEdit(!isOnEdit)}>\r\n                Edit\r\n              </CustomButton>\r\n            </>\r\n          ))}\r\n      </ContentTop>\r\n      <DescWrapper>\r\n        {isOnEdit ? (\r\n          <Stack spacing={1} direction=\"row\">\r\n            <textarea name=\"desc\" onChange={handleChangeValue} value={newPost.desc} />\r\n\r\n            <Stack spacing={1} alignItems=\"center\" direction=\"column\">\r\n              <Switch\r\n                checked={newPost.isPaymentRequired}\r\n                name=\"isPaymentRequired\"\r\n                onChange={handleChangeValue}\r\n                size=\"small\"\r\n                color=\"primary\"\r\n              />\r\n              <FormControl>\r\n                <CustomInputLabel htmlFor=\"outlined-adornment-amount\">Price</CustomInputLabel>\r\n                <CustomOutlinedInput\r\n                  id=\"outlined-adornment-amount\"\r\n                  name=\"price\"\r\n                  value={newPost.price}\r\n                  disabled={!newPost.isPaymentRequired}\r\n                  onChange={handleChangeValue}\r\n                  startAdornment={<CustomInputAdornment position=\"start\">$</CustomInputAdornment>}\r\n                  label=\"Price\"\r\n                  sx={{ width: 100, height: 40 }}\r\n                />\r\n              </FormControl>\r\n            </Stack>\r\n          </Stack>\r\n        ) : (\r\n          <Desc>{post.desc}</Desc>\r\n        )}\r\n      </DescWrapper>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const InfoWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin: 0 10px;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  color: #999;\r\n`;\r\n\r\nexport const Likes = styled.div`\r\n  display: inline-block;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nexport const LikeButtonWrapper = styled.div`\r\n  color: ${({ theme }) => theme.textColor};\r\n\r\n  & > * {\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n\r\nexport const LikeButton = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  font-size: 30px;\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n  user-select: none;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { InfoWrapper, LikeButton, LikeButtonWrapper, Likes } from \"./ModalInfoElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nexport default function ModalInfo({ post, comments }) {\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const { currentUser } = useSelector(authState$);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const initialLike = () => {\r\n      if (currentUser) {\r\n        const isLiked = post.likes.find((like) => {\r\n          return like._id === currentUser._id;\r\n        });\r\n        if (isLiked) setIsLiked(true);\r\n      }\r\n    };\r\n    initialLike();\r\n    return () => {\r\n      setIsLiked(false);\r\n    };\r\n  }, [currentUser, post]);\r\n\r\n  const handleReact = () => {\r\n    // Check Log in status - if false redirect to login page\r\n    if (currentUser) {\r\n      setIsLiked(!isLiked);\r\n      dispatch(actions.reactPost.reactPostRequest(post._id));\r\n    } else {\r\n      // history.push(\"/login\");\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const countComments = () => {\r\n    let count = 0;\r\n    comments.forEach((comment) => {\r\n      count = count + 1 + comment.reply.length;\r\n    });\r\n    return count;\r\n  };\r\n\r\n  return (\r\n    <InfoWrapper>\r\n      <LikeButtonWrapper>\r\n        <LikeButton onClick={handleReact}>\r\n          {isLiked ? (\r\n            <Icon icon=\"ant-design:heart-filled\" style={{ color: \"var(--primary-color)\" }} />\r\n          ) : (\r\n            <Icon icon=\"ant-design:heart-outlined\" />\r\n          )}\r\n        </LikeButton>\r\n      </LikeButtonWrapper>\r\n      <div>\r\n        <Likes>\r\n          {post.likes.length} {post.likes.length > 1 ? \"likes\" : \"like\"}\r\n        </Likes>{\" \"}\r\n         {countComments()} {countComments() > 1 ? \"comments\" : \"comment\"}\r\n      </div>\r\n    </InfoWrapper>\r\n  );\r\n}\r\n","import BoxComment from \"components/NewsfeedPage/Post/PostItem/ListComment/BoxComment\";\r\nimport CommentItem from \"components/NewsfeedPage/Post/PostItem/ListComment/CommentItem\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  padding: 10px;\r\n  border-top: 1px solid ${({ theme }) => theme.borderColor};\r\n`;\r\n\r\nexport default function ModalComments({ comments, post }) {\r\n  return (\r\n    <Container>\r\n      <BoxComment postId={post._id} />\r\n      {comments.map((comment, index) => (\r\n        <CommentItem key={index} comment={comment} post={post} />\r\n      ))}\r\n    </Container>\r\n  );\r\n}\r\n","import { LoadingButton } from \"@mui/lab\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const ModalContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const ModalTop = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 16px 0;\r\n  border-bottom: 1px solid ${({ theme }) => theme.contrastColor};\r\n`;\r\n\r\nexport const ModalTitle = styled.h3`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport const ButtonCloseModal = styled.div`\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 34px;\r\n  height: 34px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const ButtonCloseModalWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  font-size: 1.2rem;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: all 0.1s ease-in-out 0s;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  &:active {\r\n    font-size: 1.1rem;\r\n    width: 32px;\r\n    height: 32px;\r\n  }\r\n`;\r\n\r\nexport const ReportContent = styled.div`\r\n  margin: 6px;\r\n`;\r\n\r\nexport const ReportOption = styled.p`\r\n  transition: all 0.1s ease;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  [type=\"radio\"]:checked,\r\n  [type=\"radio\"]:not(:checked) {\r\n    position: absolute;\r\n    left: -9999px;\r\n  }\r\n  [type=\"radio\"]:checked + label,\r\n  [type=\"radio\"]:not(:checked) + label {\r\n    position: relative;\r\n    padding-left: 36px;\r\n    cursor: pointer;\r\n    line-height: 20px;\r\n    display: inline-block;\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n  [type=\"radio\"]:checked + label:before,\r\n  [type=\"radio\"]:not(:checked) + label:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    left: 8px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 18px;\r\n    height: 18px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 100%;\r\n    background: #fff;\r\n  }\r\n  [type=\"radio\"]:checked + label:after,\r\n  [type=\"radio\"]:not(:checked) + label:after {\r\n    content: \"\";\r\n    width: 12px;\r\n    height: 12px;\r\n    background: var(--primary-color);\r\n    position: absolute;\r\n    top: calc(50%);\r\n    left: 11px;\r\n    transform: translateY(-50%);\r\n    border-radius: 100%;\r\n    -webkit-transition: all 0.2s ease;\r\n    transition: all 0.2s ease;\r\n  }\r\n  [type=\"radio\"]:not(:checked) + label:after {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translateY(-50%);\r\n    transform: scale(0) translateY(-50%);\r\n  }\r\n  [type=\"radio\"]:checked + label:after {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translateY(-50%);\r\n    transform: scale(1) translateY(-50%);\r\n  }\r\n`;\r\n\r\nexport const ReportOptionLabel = styled.label`\r\n  /* margin-left: 8px; */\r\n  width: 100%;\r\n  padding: 14px 8px;\r\n`;\r\n\r\nexport const ReasonAreaWrapper = styled.div`\r\n  padding: 0 6px 6px;\r\n`;\r\n\r\nexport const ReasonArea = styled.textarea`\r\n  padding: 4px 8px;\r\n  width: 100%;\r\n  resize: none;\r\n  font-size: 1rem;\r\n  border: 1px solid ${({ theme }) => theme.borderColor};\r\n  outline: none;\r\n  border-radius: 3px;\r\n  background: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n\r\n  &:focus {\r\n    outline: 2px solid ${({ theme }) => theme.hoverColor};\r\n  }\r\n  &:disabled {\r\n    background: ${({ theme }) => theme.hoverColor};\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n`;\r\n\r\nexport const ReportBottom = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 0 6px 10px;\r\n`;\r\n\r\nexport const CustomLoadingButton = styled(LoadingButton)`\r\n  && {\r\n    color: #fefefe;\r\n    width: 100%;\r\n    max-width: 120px;\r\n    background-color: ${({ loading, theme }) =>\r\n      loading ? theme.hoverColor : \"var(--primary-color)\"};\r\n\r\n    &:hover {\r\n      background-color: var(--primary-color);\r\n    }\r\n\r\n    & svg {\r\n      color: #fefefe;\r\n    }\r\n\r\n    @media (max-width: 700px) {\r\n      max-width: unset;\r\n    }\r\n  }\r\n`;\r\n","import { Icon } from \"@iconify/react\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport {\r\n  ButtonCloseModal,\r\n  ButtonCloseModalWrapper,\r\n  CustomLoadingButton,\r\n  ModalContainer,\r\n  ModalTitle,\r\n  ModalTop,\r\n  ReasonArea,\r\n  ReasonAreaWrapper,\r\n  ReportBottom,\r\n  ReportContent,\r\n  ReportOption,\r\n  ReportOptionLabel,\r\n} from \"./ModalReportElements\";\r\nimport * as actions from \"redux/actions\";\r\nimport * as api from \"api\";\r\n\r\nconst reportOptions = [\r\n  {\r\n    id: \"rpt1\",\r\n    label: \"Bad quality\",\r\n    value: \"Quality of photo is so bad\",\r\n  },\r\n  {\r\n    id: \"rpt2\",\r\n    label: \"Nude photos\",\r\n    value: \"Nude photos\",\r\n  },\r\n  {\r\n    id: \"rpt3\",\r\n    label: \"Violence\",\r\n    value: \"The image contains violent content\",\r\n  },\r\n  {\r\n    id: \"rpt4\",\r\n    label: \"Suicidal/Seft-injury\",\r\n    value: \"Suicidal/Seft-injury\",\r\n  },\r\n];\r\n\r\nconst initialState = {\r\n  postId: \"\",\r\n  reason: \"\",\r\n};\r\n\r\nexport default function ModalReport({ postId, handleEdit }) {\r\n  const { currentUser } = useSelector(authState$);\r\n  const [isOther, setIsOther] = useState(true);\r\n  const [report, setReport] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const areaRef = useRef(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setReport({ ...initialState, postId: postId });\r\n\r\n    return () => {\r\n      setReport(null);\r\n    };\r\n  }, [postId]);\r\n\r\n  const handleOther = (e) => {\r\n    setReport({ ...report, reason: \"\" });\r\n    if (e.target.checked && e.target.id === \"is-other\") {\r\n      setIsOther(false);\r\n      setReport({ ...report, reason: areaRef.current.value });\r\n    } else {\r\n      setIsOther(true);\r\n      setReport({ ...report, reason: e.target.value });\r\n    }\r\n  };\r\n\r\n  const handleChangeValue = (e) => {\r\n    setReport({ ...report, reason: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    // Check if user does not log in\r\n    if (!currentUser) {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    //Check if reason is empty\r\n    if (!report.reason) {\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Type your reason\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    try {\r\n      await api.ReportAPI.createNewReport(report)\r\n        .then((res) => {\r\n          dispatch(\r\n            actions.toast.showToast({\r\n              message: res.data.msg,\r\n              type: \"success\",\r\n            })\r\n          );\r\n          handleEdit(false);\r\n        })\r\n        .catch((err) => {\r\n          dispatch(\r\n            actions.toast.showToast({\r\n              message: err.response.data.msg,\r\n              type: \"warning\",\r\n            })\r\n          );\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ModalContainer>\r\n        <ModalTop>\r\n          <ModalTitle>Report</ModalTitle>\r\n          <ButtonCloseModal onClick={() => handleEdit(false)}>\r\n            <ButtonCloseModalWrapper>\r\n              <Icon icon=\"eva:arrow-back-outline\" />\r\n            </ButtonCloseModalWrapper>\r\n          </ButtonCloseModal>\r\n        </ModalTop>\r\n        <ReportContent onChange={handleOther}>\r\n          {reportOptions.map((option) => (\r\n            <ReportOption key={option.id}>\r\n              <input name=\"report-option\" type=\"radio\" value={option.value} id={option.id} />\r\n              <ReportOptionLabel htmlFor={option.id}>{option.label}</ReportOptionLabel>\r\n            </ReportOption>\r\n          ))}\r\n          <ReportOption>\r\n            <input name=\"report-option\" type=\"radio\" id=\"is-other\" />\r\n            <ReportOptionLabel htmlFor=\"is-other\">Others</ReportOptionLabel>\r\n          </ReportOption>\r\n        </ReportContent>\r\n        <ReasonAreaWrapper>\r\n          <ReasonArea\r\n            onChange={handleChangeValue}\r\n            ref={areaRef}\r\n            rows=\"4\"\r\n            placeholder=\"Report here...\"\r\n            disabled={isOther}\r\n          />\r\n        </ReasonAreaWrapper>\r\n        <ReportBottom>\r\n          <CustomLoadingButton loading={loading} onClick={handleSubmit}>\r\n            Submit\r\n          </CustomLoadingButton>\r\n        </ReportBottom>\r\n      </ModalContainer>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  ModalCloseButton,\r\n  ModalCloseWrapper,\r\n  ModalContainer,\r\n  ModalContentContainer,\r\n  ModalContentWrapper,\r\n  ModalForm,\r\n  ModalPhoto,\r\n  ModalPhotoWrapper,\r\n} from \"./ModalElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport ModalActions from \"./ModalActions\";\r\nimport ModalContent from \"./ModalContent\";\r\nimport ModalInfo from \"./ModalInfo\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { commentState$ } from \"redux/selectors\";\r\nimport { fetchComments } from \"redux/actions\";\r\nimport CommentAPI from \"api/comments\";\r\nimport ModalComments from \"./ModalComments\";\r\nimport ModalReport from \"./ModalReport\";\r\nimport useScrollBlock from \"hooks/useScrollBlock\";\r\n\r\nexport default function Modal({ post, isShow, closeModal }) {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const comments = useSelector(commentState$);\r\n  const [blockScroll, allowScroll] = useScrollBlock();\r\n\r\n  useEffect(() => {\r\n    blockScroll();\r\n\r\n    return () => allowScroll();\r\n  }, [blockScroll, allowScroll]);\r\n\r\n  useEffect(() => {\r\n    const fetchCommentsByPostId = async () => {\r\n      const res = await CommentAPI.fetchComments(post._id);\r\n\r\n      if (res.status === 200) {\r\n        dispatch(fetchComments.fetchCommentsSuccess(res.data));\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n    if (isLoading) {\r\n      fetchCommentsByPostId();\r\n    }\r\n  }, [dispatch, isLoading, post]);\r\n\r\n  return (\r\n    <ModalContainer isShow={isShow}>\r\n      <ModalForm>\r\n        <ModalPhotoWrapper>\r\n          <ModalPhoto\r\n            style={{\r\n              backgroundImage: `url(${post.image.url})`,\r\n            }}\r\n          />\r\n        </ModalPhotoWrapper>\r\n\r\n        <ModalContentContainer>\r\n          <ModalActions post={post} handleEdit={setIsEditing} />\r\n          <ModalContentWrapper>\r\n            {!isEditing ? (\r\n              <>\r\n                <ModalContent post={post} />\r\n                <ModalInfo\r\n                  post={post}\r\n                  comments={comments.data.filter(\r\n                    (comment) => comment.postId === post._id && comment\r\n                  )}\r\n                />\r\n                <ModalComments\r\n                  post={post}\r\n                  comments={comments.data.filter(\r\n                    (comment) => comment.postId === post._id && comment\r\n                  )}\r\n                />\r\n              </>\r\n            ) : (\r\n              <ModalReport handleEdit={setIsEditing} postId={post._id} />\r\n            )}\r\n          </ModalContentWrapper>\r\n        </ModalContentContainer>\r\n\r\n        <ModalCloseWrapper>\r\n          <ModalCloseButton onClick={closeModal}>\r\n            <Icon icon=\"eva:close-fill\" />\r\n          </ModalCloseButton>\r\n        </ModalCloseWrapper>\r\n      </ModalForm>\r\n    </ModalContainer>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { postState$ } from \"redux/selectors\";\r\nimport {\r\n  CustomCard,\r\n  CustomSkeleton,\r\n  PostChartContainer,\r\n  PostChartItem,\r\n  PostChartWrapper,\r\n  PostTopTitle,\r\n} from \"./PostChartElements\";\r\nimport Modal from \"components/Modal\";\r\n\r\nexport default function PostChart() {\r\n  const [index, setIndex] = useState(null);\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  const { topLiked } = useSelector(postState$);\r\n\r\n  const handleViewPost = (index) => {\r\n    setIndex(index);\r\n    handleModal();\r\n  };\r\n\r\n  const handleModal = () => {\r\n    if (isShowModal) {\r\n      setIsShowModal(false);\r\n    } else {\r\n      setIsShowModal(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PostChartContainer>\r\n        <PostTopTitle>\r\n          <div className=\"title\">Top Liked</div>\r\n          <div></div>\r\n        </PostTopTitle>\r\n        <PostChartWrapper>\r\n          {topLiked\r\n            ? topLiked.map((post, index) => (\r\n                <PostChartItem\r\n                  key={index}\r\n                  onClick={() => handleViewPost(index)}\r\n                  style={{\r\n                    backgroundImage: `url(${post.image.url})`,\r\n                  }}\r\n                />\r\n              ))\r\n            : [...Array(6)].map((item, index) => <PostChartItemLoading key={index} />)}\r\n        </PostChartWrapper>\r\n      </PostChartContainer>\r\n      {(index || index === 0) && isShowModal && (\r\n        <Modal post={topLiked[index]} isShow={isShowModal} closeModal={handleModal} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst PostChartItemLoading = () => {\r\n  return (\r\n    <>\r\n      <CustomCard>\r\n        <CustomSkeleton variant=\"rectangular\" animation=\"wave\" height=\"100%\" width=\"100%\" />\r\n      </CustomCard>\r\n    </>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const OnlineUserContainer = styled.div`\r\n  position: sticky;\r\n  top: 64px;\r\n  margin-top: 16px;\r\n\r\n  & > .contact-title {\r\n    margin-left: 6px;\r\n    color: ${({ theme }) => theme.subTextColor};\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nexport const ListOnlineUser = styled.ul`\r\n  margin-top: 4px;\r\n`;\r\n\r\nexport const OnlineUserItemContainer = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  transition: all 0.1s ease;\r\n  padding: 8px 6px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const OUAvatarWrapper = styled.div`\r\n  display: flex;\r\n  width: 34px;\r\n  height: 34px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const OUAvatar = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  filter: opacity(${({ online }) => (online ? 1 : 0.5)});\r\n`;\r\n\r\nexport const OUName = styled.div`\r\n  margin-left: 10px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  user-select: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n  filter: opacity(${({ online }) => (online ? 1 : 0.5)});\r\n`;\r\n","import { SocketContext } from \"context/socketContext\";\r\nimport React, { useContext, useEffect, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport {\r\n  ListOnlineUser,\r\n  OnlineUserContainer,\r\n  OnlineUserItemContainer,\r\n  OUAvatar,\r\n  OUAvatarWrapper,\r\n  OUName,\r\n} from \"./OnlineUserSectionElements\";\r\n\r\nexport default function OnlineUserSection() {\r\n  const user = useSelector(authState$);\r\n  const socket = useContext(SocketContext);\r\n\r\n  let listOnlineUsers = useRef([]);\r\n\r\n  useEffect(() => {\r\n    listOnlineUsers.current = user.currentUser ? user.currentUser.followings : [];\r\n  }, [user.currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (user.currentUser) socket?.emit(\"sendOnlineUsers\");\r\n  }, [socket, user]);\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"getOnlineUsers\", ({ onlineUsers }) => {\r\n      listOnlineUsers.current = user?.currentUser?.followings?.reduce((acc, element) => {\r\n        if (onlineUsers.some((ou) => ou.userId === element._id)) {\r\n          element.online = true;\r\n          return [element, ...acc];\r\n        }\r\n        element.online = false;\r\n        return [...acc, element];\r\n      }, []);\r\n    });\r\n  }, [socket, user]);\r\n\r\n  return (\r\n    <OnlineUserContainer>\r\n      <div className=\"contact-title\">Contacts</div>\r\n      <ListOnlineUser>\r\n        {listOnlineUsers.current.map((user) => (\r\n          <OnlineUserItem key={user._id} user={user} />\r\n        ))}\r\n      </ListOnlineUser>\r\n    </OnlineUserContainer>\r\n  );\r\n}\r\n\r\nconst OnlineUserItem = ({ user }) => {\r\n  return (\r\n    <OnlineUserItemContainer>\r\n      <OUAvatarWrapper>\r\n        <OUAvatar src={user.avatar} alt=\"OU-avatar\" online={user.online} />\r\n      </OUAvatarWrapper>\r\n      <OUName online={user.online}>@{user.name}</OUName>\r\n    </OnlineUserItemContainer>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport PostList from \"./Post\";\r\nimport PostUpdateModal from \"./Post/PostUpdateModal\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useSelector } from \"react-redux\";\r\nimport PostChart from \"./PostChart\";\r\nimport OnlineUserSection from \"./OnlineUserSection\";\r\n\r\nconst NewsFeedContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  max-width: var(--max-width);\r\n  width: 100%;\r\n  padding: 72px 0px 0;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 1024px) {\r\n    flex-direction: column;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    padding: 54px 0 0;\r\n  }\r\n`;\r\n\r\nconst NewsFeedRight = styled.div``;\r\n\r\nconst NewsFeed = () => {\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  return (\r\n    <NewsFeedContainer>\r\n      <PostList direction=\"left\" />\r\n      <NewsFeedRight>\r\n        <PostChart />\r\n        <OnlineUserSection />\r\n      </NewsFeedRight>\r\n      {currentUser && <PostUpdateModal user={currentUser} />}\r\n    </NewsFeedContainer>\r\n  );\r\n};\r\n\r\nexport default NewsFeed;\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const HeaderContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  height: 54px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  border-bottom: 1px solid ${({ theme }) => theme.contrastColor};\r\n  box-shadow: var(--box-shadow);\r\n  z-index: 48;\r\n`;\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  width: 100%;\r\n  max-width: var(--max-width);\r\n  margin: 0 auto;\r\n  padding: 0 16px;\r\n  z-index: 101;\r\n`;\r\n\r\nexport const HeaderLeft = styled.div`\r\n  display: flex;\r\n  width: 300px;\r\n`;\r\n\r\nexport const HeaderRight = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nexport const NotificationContainer = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const SideBarContainer = styled.div`\r\n  position: relative;\r\n\r\n  #activeCheckBox {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const LogoLink = styled(Link)`\r\n  color: var(--primary-color);\r\n  text-decoration: none;\r\n`;\r\n\r\n// Round Button\r\n\r\nconst roundButton = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 50%;\r\n  font-size: 1.1rem;\r\n  margin-left: 8px;\r\n  color: ${({ theme }) => theme.textColor};\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  transition: all 0.1s ease-in-out 0s;\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  & > span.tooltip {\r\n    position: absolute;\r\n    top: 110%;\r\n    font-size: 12px;\r\n    padding: 4px;\r\n    border-radius: 4px;\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n    opacity: 0;\r\n    transform: scale(0);\r\n    transition: all 0.1s ease;\r\n    user-select: none;\r\n    pointer-events: none;\r\n    z-index: 1;\r\n    cursor: default;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  &:hover > span {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nexport const RoundLabelButton = styled.label`\r\n  ${roundButton}\r\n  position: relative;\r\n\r\n  &.fs-14 {\r\n    font-size: 1.4rem;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  & > span.badge {\r\n    position: absolute;\r\n    top: -2px;\r\n    right: -2px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 11px;\r\n    font-weight: 700;\r\n    min-width: 16px;\r\n    height: 16px;\r\n    padding: 2px 4px;\r\n    border-radius: 9px;\r\n    color: white;\r\n    background-color: var(--danger-color);\r\n    user-select: none;\r\n    pointer-events: none;\r\n    cursor: default;\r\n  }\r\n`;\r\n\r\nexport const RoundActionButton = styled(Link)`\r\n  ${roundButton}\r\n  position: relative;\r\n  font-size: 1.4rem;\r\n`;\r\n\r\n// -----------------\r\n\r\nexport const RoundButtonLink = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 35px;\r\n  border-radius: 20px;\r\n  text-decoration: none;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  padding: 2px 4px;\r\n  transition: all 0.1s ease-in-out 0s;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const UserName = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  padding: 0 4px 0 4px;\r\n  color: ${({ theme }) => theme.textColor};\r\n  max-width: 125px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const AuthGroupButton = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 135px;\r\n\r\n  @media (max-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const SignIn = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  height: 32px;\r\n  padding: 0 16px;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  border-radius: 16px;\r\n  transition: all 0.1s ease-in-out 0s;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n\r\nexport const SignUp = styled(Link)`\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n  padding: 2px 4px;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const OverLay = styled.div`\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  opacity: ${({ isOpen }) => (isOpen ? \"1\" : \"0\")};\r\n  visibility: ${({ isOpen }) => (isOpen ? \"visible\" : \"hidden\")};\r\n\r\n  @media (max-width: 1024px) {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    left: 0;\r\n    transition: all 0.25s ease-out 0s;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  top: 42px;\r\n  right: 0;\r\n  border-radius: 5px;\r\n  padding: 8px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  box-shadow: var(--box-shadow);\r\n  transition: right 0.2s ease-in-out 0s, top 0.1s linear 0s;\r\n  opacity: 1;\r\n\r\n  @media (max-width: 1024px) {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: ${({ isOpen }) => (isOpen ? \"0\" : \"-100%\")};\r\n    width: 280px;\r\n    border-radius: 0;\r\n    transition: right 0.4s ease-in-out 0s, top 0.1s linear 0s;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Top = styled.div`\r\n  display: flex;\r\n\r\n  /* &.md {\r\n    @media (max-width: 1024px) {\r\n      display: flex;\r\n    }\r\n  } */\r\n`;\r\n\r\n// MenuItem\r\n\r\nconst menuItem = css`\r\n  display: flex;\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.textColor};\r\n  border-radius: 5px;\r\n  min-width: 250px;\r\n  width: 100%;\r\n  padding: 8px;\r\n  transition: all 0.2s ease-out 0s;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const MenuItem = styled.label`\r\n  cursor: pointer;\r\n  user-select: none;\r\n  ${menuItem}\r\n`;\r\n\r\nexport const MenuItemLink = styled(Link)`\r\n  display: flex;\r\n  text-decoration: none;\r\n  ${menuItem}\r\n\r\n  &.justify__center {\r\n    justify-content: center;\r\n  }\r\n\r\n  &.lg {\r\n    height: 40px;\r\n  }\r\n`;\r\n\r\n//-----------\r\n\r\nexport const UserInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-right: 8px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const User = styled.div`\r\n  white-space: nowrap;\r\n  & > .side-bar__view {\r\n    color: #999;\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nexport const UserName = styled.div`\r\n  margin-bottom: 4px;\r\n  color: ${({ theme }) => theme.textColor}!important;\r\n  font-weight: 700;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nexport const Separate = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  margin: 8px 0;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n\r\n  /* &.md {\r\n    display: none;\r\n\r\n    @media (max-width: 1024px) {\r\n      display: flex;\r\n    }\r\n  } */\r\n`;\r\n\r\nexport const MenuIcon = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-right: 12px;\r\n  font-size: 1.2rem;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 50%;\r\n    background-color: currentColor;\r\n    opacity: 0.1;\r\n  }\r\n`;\r\n\r\nexport const MenuTitle = styled.div`\r\n  font-weight: 700;\r\n  font-size: 0.8rem;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useThemeContext } from \"../../../context/themeContext\";\r\n\r\nconst Switch = styled.div`\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  align-items: center;\r\n  position: absolute;\r\n  right: 20px;\r\n  width: ${({ theme }) => theme.switchWidth};\r\n  height: ${({ theme }) => theme.switchHeight};\r\n  border-radius: 50em;\r\n  padding: ${({ theme }) => theme.switchPadding} 0;\r\n  .switch__input,\r\n  .switch__label {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n  }\r\n  .switch__input {\r\n    margin: 0;\r\n    padding: 0;\r\n    opacity: 0;\r\n    height: 0;\r\n    width: 0;\r\n    pointer-events: none;\r\n    &:checked + .switch__label {\r\n      background-color: ${({ theme }) => theme.colorWhite};\r\n    }\r\n    &:checked + .switch__label + .switch__marker {\r\n      left: calc(\r\n        100% - (${({ theme }) => theme.switchHeight}) +\r\n          (${({ theme }) => theme.switchPadding})\r\n      );\r\n    }\r\n    &:focus + .switch__label,\r\n    &:active + .switch__label {\r\n      box-shadow: 0 0 0 3px alpha(${({ theme }) => theme.primary}, 0.2);\r\n    }\r\n  }\r\n  .switch__label {\r\n    width: 100%;\r\n    height: 100%;\r\n    color: transparent;\r\n    user-select: none;\r\n    background-color: ${({ theme }) => theme.textColor};\r\n    border-radius: inherit;\r\n    z-index: 1;\r\n    transition: background ${({ theme }) => theme.switchAnimationDuration};\r\n  }\r\n  .switch__marker {\r\n    position: relative;\r\n    background-color: ${({ theme }) => theme.primary};\r\n    width: calc(\r\n      (${({ theme }) => theme.switchHeight}) -\r\n        (${({ theme }) => theme.switchPadding}) * 2\r\n    );\r\n    height: calc(\r\n      (${({ theme }) => theme.switchHeight}) -\r\n        (${({ theme }) => theme.switchPadding}) * 2\r\n    );\r\n    border-radius: 50%;\r\n    z-index: 2;\r\n    pointer-events: none;\r\n    box-shadow: 0 1px 1px hsla(0, 0%, 0%, 0.25);\r\n    left: ${({ theme }) => theme.switchPadding};\r\n    transition: left ${({ theme }) => theme.switchAnimationDuration};\r\n    will-change: left;\r\n  }\r\n`;\r\n\r\nconst ToggleSwitch = ({ idCheckBox }) => {\r\n  const { toggleTheme } = useThemeContext();\r\n\r\n  React.useEffect(() => {\r\n    const checkTheme = () => {\r\n      const theme = localStorage.getItem(\"theme\");\r\n      if (theme === \"dark\") {\r\n        document.getElementById(idCheckBox).checked = true;\r\n      }\r\n    };\r\n    checkTheme();\r\n  }, [idCheckBox]);\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <input\r\n          className=\"switch__input\"\r\n          type=\"checkbox\"\r\n          id={idCheckBox}\r\n          onClick={toggleTheme}\r\n        />\r\n        <label\r\n          aria-hidden=\"true\"\r\n          className=\"switch__label\"\r\n          htmlFor={idCheckBox}\r\n        >\r\n          On\r\n        </label>\r\n        <div aria-hidden=\"true\" className=\"switch__marker\"></div>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToggleSwitch;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  OverLay,\r\n  Container,\r\n  Separate,\r\n  Top,\r\n  MenuItemLink,\r\n  MenuItem,\r\n  UserInfo,\r\n  Avatar,\r\n  User,\r\n  UserName,\r\n  MenuIcon,\r\n  MenuTitle,\r\n} from \"./SideBarElements\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\nimport ToggleSwitch from \"./ToggleSwitch\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\nimport useScrollBlock from \"hooks/useScrollBlock\";\r\n\r\nconst SideBar = ({ isOpen, handleSideBar, user }) => {\r\n  const dispatch = useDispatch();\r\n  const [blockScroll, allowScroll] = useScrollBlock();\r\n\r\n  useEffect(() => {\r\n    if (isOpen && window.innerWidth <= 1024) {\r\n      blockScroll();\r\n    }\r\n\r\n    return () => allowScroll();\r\n  }, [isOpen, blockScroll, allowScroll]);\r\n\r\n  const handleLogout = React.useCallback(() => {\r\n    dispatch(actions.logout.logoutRequest());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <OverLay isOpen={isOpen} onClick={handleSideBar}>\r\n      <Container className=\"side-bar\" isOpen={isOpen}>\r\n        <Top className=\"md\">\r\n          {user.currentUser ? (\r\n            <MenuItemLink to={`/profile/${user.currentUser._id}`}>\r\n              <UserInfo>\r\n                <Avatar src={user.currentUser.avatar ? user.currentUser.avatar : DefaultAvatar} />\r\n                <User>\r\n                  <UserName>@{user.currentUser.name}</UserName>\r\n                  <div className=\"side-bar__view\">View your profile</div>\r\n                </User>\r\n              </UserInfo>\r\n            </MenuItemLink>\r\n          ) : (\r\n            <MenuItemLink className=\"justify__center lg\" to=\"/home\">\r\n              <MenuTitle>Sign in</MenuTitle>\r\n            </MenuItemLink>\r\n          )}\r\n        </Top>\r\n\r\n        <Separate className=\"md\" />\r\n\r\n        <MenuItemLink to=\"/search\">\r\n          <MenuIcon>\r\n            <Icon icon=\"bx:bx-search\" />\r\n          </MenuIcon>\r\n\r\n          <MenuTitle>Search</MenuTitle>\r\n        </MenuItemLink>\r\n\r\n        <MenuItemLink to=\"/\">\r\n          <MenuIcon>\r\n            <Icon icon=\"bx:bx-news\" />\r\n          </MenuIcon>\r\n\r\n          <MenuTitle>Newsfeed</MenuTitle>\r\n        </MenuItemLink>\r\n\r\n        <MenuItem htmlFor=\"switchSideBar\">\r\n          <MenuIcon>\r\n            <Icon icon=\"ic:outline-dark-mode\" />\r\n          </MenuIcon>\r\n\r\n          <MenuTitle>Dark mode</MenuTitle>\r\n\r\n          <ToggleSwitch idCheckBox=\"switchSideBar\" />\r\n        </MenuItem>\r\n\r\n        {user.currentUser ? (\r\n          <>\r\n            <MenuItemLink to=\"/setting/info\">\r\n              <MenuIcon>\r\n                <Icon icon=\"uil:setting\" />\r\n              </MenuIcon>\r\n\r\n              <MenuTitle>Setting</MenuTitle>\r\n            </MenuItemLink>\r\n\r\n            <Separate />\r\n\r\n            <MenuItem onClick={() => handleLogout()}>\r\n              <MenuIcon>\r\n                <Icon icon=\"mdi:exit-to-app\" />\r\n              </MenuIcon>\r\n\r\n              <MenuTitle>Log out</MenuTitle>\r\n            </MenuItem>\r\n          </>\r\n        ) : null}\r\n      </Container>\r\n    </OverLay>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const NotificationContainer = styled.div`\r\n  position: absolute;\r\n  top: 42px;\r\n  right: -43px;\r\n  min-width: 340px;\r\n  max-height: calc(100vh - 100px);\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n  border-radius: 5px;\r\n  padding: 8px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  box-shadow: var(--box-shadow);\r\n  opacity: ${({ isOpen }) => (isOpen ? 1 : 0)};\r\n  visibility: ${({ isOpen }) => (isOpen ? \"visible\" : \"hidden\")};\r\n\r\n  & > .notify-title {\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    margin: 10px;\r\n  }\r\n`;\r\n\r\nexport const ListNotification = styled.ul``;\r\n\r\nexport const NotificationItemContainer = styled.li`\r\n  border-radius: 5px;\r\n  transition: all 0.1s ease;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const NotifyWrapper = styled(Link)`\r\n  display: flex;\r\n  padding: 10px;\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n`;\r\n\r\nexport const NotifyAvatarWrapper = styled.div`\r\n  display: flex;\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const NotifyAvatar = styled.img`\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const NotifyContent = styled.div`\r\n  margin-left: 8px;\r\n`;\r\n\r\nexport const NotifyText = styled.div`\r\n  display: -webkit-box;\r\n  max-width: calc(340px - 104px);\r\n  -webkit-line-clamp: 3;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  color: ${({ seen, theme }) => (seen ? theme.subTextColor : theme.textColor)};\r\n  font-weight: 300;\r\n  font-size: 15px;\r\n\r\n  & > .notify-sender {\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nexport const NotifyTime = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-top: 4px;\r\n  color: ${({ seen, theme }) => (seen ? theme.subTextColor : \"var(--primary-color)\")};\r\n`;\r\n","import { SocketContext } from \"context/socketContext\";\r\nimport React, { useContext, useEffect } from \"react\";\r\nimport {\r\n  ListNotification,\r\n  NotificationContainer,\r\n  NotificationItemContainer,\r\n  NotifyAvatar,\r\n  NotifyAvatarWrapper,\r\n  NotifyContent,\r\n  NotifyText,\r\n  NotifyTime,\r\n  NotifyWrapper,\r\n} from \"./NotificationSectionElements\";\r\nimport * as api from \"api\";\r\nimport * as actions from \"redux/actions\";\r\nimport moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport default function NotificationSection({ isOpen, notifications }) {\r\n  const socket = useContext(SocketContext);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"getNotification\", async () => {\r\n      await api.NotificationAPI.fetchNotifications().then((res) =>\r\n        dispatch(actions.fetchNotifications.fetchNotificationsSuccess(res.data))\r\n      );\r\n    });\r\n  }, [socket, dispatch]);\r\n  return (\r\n    <NotificationContainer isOpen={isOpen}>\r\n      <div className=\"notify-title\">Notification</div>\r\n      <ListNotification>\r\n        {notifications.map((noti) => (\r\n          <NotificationItem key={noti._id} notification={noti} />\r\n        ))}\r\n      </ListNotification>\r\n    </NotificationContainer>\r\n  );\r\n}\r\n\r\nconst NotificationItem = ({ notification }) => {\r\n  const displayText = (type) => {\r\n    let action;\r\n\r\n    if (type === 0) {\r\n      action = \"liked your post\";\r\n    } else if (type === 1) {\r\n      action = \"commented your post\";\r\n    } else if (type === 2) {\r\n      action = \"followed your profile\";\r\n    }\r\n\r\n    return `just ${action}.`;\r\n  };\r\n\r\n  return (\r\n    <NotificationItemContainer>\r\n      <NotifyWrapper to=\"#\">\r\n        <NotifyAvatarWrapper>\r\n          <NotifyAvatar src={notification.senderId.avatar} alt=\"notify-avatar\" />\r\n        </NotifyAvatarWrapper>\r\n\r\n        <NotifyContent>\r\n          <NotifyText seen={notification.seen}>\r\n            <span className=\"notify-sender\">\r\n              {notification.senderId.fullName || notification.senderId.name}\r\n            </span>{\" \"}\r\n            {displayText(notification.type)}\r\n          </NotifyText>\r\n\r\n          <NotifyTime seen={notification.seen}>\r\n            {moment(notification.createdAt).fromNow()}\r\n          </NotifyTime>\r\n        </NotifyContent>\r\n      </NotifyWrapper>\r\n    </NotificationItemContainer>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  HeaderContainer,\r\n  HeaderWrapper,\r\n  HeaderRight,\r\n  HeaderLeft,\r\n  LogoLink,\r\n  SideBarContainer,\r\n  RoundLabelButton,\r\n  RoundButtonLink,\r\n  Avatar,\r\n  UserName,\r\n  AuthGroupButton,\r\n  SignIn,\r\n  SignUp,\r\n  RoundActionButton,\r\n  NotificationContainer,\r\n} from \"./HeaderElements\";\r\nimport SideBar from \"./SideBar\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authState$, notificationState$ } from \"redux/selectors\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\nimport NotificationSection from \"./NotificationSection\";\r\nimport * as api from \"api\";\r\nimport * as action from \"redux/actions\";\r\n\r\nconst Header = ({ toggle }) => {\r\n  let initialState = {\r\n    notify: false,\r\n    sideBar: false,\r\n  };\r\n  const [isOpen, setIsOpen] = useState(initialState);\r\n  const domNode = useRef();\r\n  const notiNode = useRef();\r\n  const user = useSelector(authState$);\r\n  const notification = useSelector(notificationState$);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSideBar = (e) => {\r\n    setIsOpen({ sideBar: !isOpen.sideBar, notify: false });\r\n  };\r\n\r\n  const handleNotifyPopup = async () => {\r\n    if (isOpen.notify && countNotifications(notification.data) !== 0) {\r\n      await api.NotificationAPI.seenNotifications()\r\n        .then((res) => {\r\n          dispatch(action.fetchNotifications.fetchNotificationsSuccess(res.data));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n\r\n    setIsOpen({ sideBar: false, notify: !isOpen.notify });\r\n  };\r\n\r\n  const countNotifications = (data) => {\r\n    const unseenNoti = data.filter((noti) => !noti.seen);\r\n\r\n    return unseenNoti.length;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchNotifications = async () => {\r\n      if (user.currentUser) {\r\n        await api.NotificationAPI.fetchNotifications()\r\n          .then((res) => {\r\n            dispatch(action.fetchNotifications.fetchNotificationsSuccess(res.data));\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    };\r\n\r\n    fetchNotifications();\r\n  }, [dispatch, user]);\r\n\r\n  useEffect(() => {\r\n    let handleOutSide = (e) => {\r\n      if (!domNode.current.contains(e.target) && !notiNode?.current?.contains(e.target)) {\r\n        document.body.style.overflowY = null;\r\n        setIsOpen(initialState);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleOutSide);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleOutSide);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <HeaderContainer id=\"header\">\r\n      <HeaderWrapper>\r\n        <HeaderLeft>\r\n          <LogoLink to=\"/\" onClick={() => window.scrollTo(0, 0)}>\r\n            <h2>Photoos</h2>\r\n          </LogoLink>\r\n        </HeaderLeft>\r\n\r\n        <HeaderRight>\r\n          {user.currentUser ? (\r\n            <>\r\n              <RoundButtonLink to={`/profile/${user.currentUser._id}`}>\r\n                <Avatar\r\n                  src={user.currentUser.avatar ? user.currentUser.avatar : DefaultAvatar}\r\n                  alt=\"Photo\"\r\n                />\r\n                <UserName>@{user.currentUser.name}</UserName>\r\n              </RoundButtonLink>\r\n\r\n              {user.currentUser.isAdmin && (\r\n                <RoundActionButton to=\"/administrator/dashboard\">\r\n                  <Icon icon=\"eos-icons:admin-outlined\" />\r\n                  <span className=\"tooltip\">Administrator</span>\r\n                </RoundActionButton>\r\n              )}\r\n\r\n              <RoundActionButton to=\"/messages\">\r\n                <Icon icon=\"ant-design:message-outlined\" />\r\n                <span className=\"tooltip\">Message</span>\r\n              </RoundActionButton>\r\n\r\n              <NotificationContainer ref={notiNode}>\r\n                <RoundLabelButton\r\n                  htmlFor=\"notify-checkbox\"\r\n                  className=\"mg-r fs-14\"\r\n                  onClick={handleNotifyPopup}\r\n                >\r\n                  <Icon icon=\"codicon:bell\" />\r\n                  <span className=\"tooltip\">Notification</span>\r\n                  {countNotifications(notification.data) !== 0 && (\r\n                    <span className=\"badge\">{countNotifications(notification.data)}</span>\r\n                  )}\r\n                </RoundLabelButton>\r\n                <input type=\"checkbox\" id=\"notify-checkbox\" hidden />\r\n\r\n                <NotificationSection isOpen={isOpen.notify} notifications={notification.data} />\r\n              </NotificationContainer>\r\n            </>\r\n          ) : (\r\n            <AuthGroupButton>\r\n              <SignIn to=\"/home\" onClick={toggle}>\r\n                Sign in\r\n              </SignIn>\r\n              <SignUp to=\"/signup\">Sign up</SignUp>\r\n            </AuthGroupButton>\r\n          )}\r\n\r\n          <SideBarContainer ref={domNode}>\r\n            <RoundLabelButton htmlFor=\"activeCheckBox\" onClick={handleSideBar}>\r\n              <Icon icon=\"feather:menu\" />\r\n            </RoundLabelButton>\r\n            {/* <input type=\"checkbox\" id=\"activeCheckBox\"></input> */}\r\n\r\n            <SideBar isOpen={isOpen.sideBar} handleSideBar={handleSideBar} user={user} />\r\n          </SideBarContainer>\r\n        </HeaderRight>\r\n      </HeaderWrapper>\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\nimport NewsFeed from \"components/NewsfeedPage\";\r\n// import { postState$ } from \"redux/selectors\";\r\nimport Header from \"components/Header\";\r\n\r\nconst NewsFeedPage = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.getPosts.getPostsRequest());\r\n    dispatch(actions.getTopLikedPosts.getTopLikedPostsRequest());\r\n\r\n    return () => {\r\n      dispatch(actions.resetPosts());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <NewsFeed />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewsFeedPage;\r\n","export default __webpack_public_path__ + \"static/media/NotFound.f934069e.svg\";","import styled from \"styled-components\";\r\nimport NotFound from \"images/NotFound.svg\";\r\n\r\nexport const NotFoundContainer = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: url(${NotFound}) no-repeat center center;\r\n  background-size: 300px;\r\n`;\r\n","import React from \"react\";\r\nimport { NotFoundContainer } from \"./NotFoundPageElements\";\r\n\r\nexport default function NotFound() {\r\n  return <NotFoundContainer></NotFoundContainer>;\r\n}\r\n","import React from \"react\";\r\nimport NotFound from \"components/NotFoundPage\";\r\nimport Header from \"components/Header\";\r\n\r\nexport default function NotFoundPage() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <NotFound />\r\n    </>\r\n  );\r\n}\r\n","import { Card, CardContent, Skeleton } from \"@mui/material\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const AccountContainer = styled.aside`\r\n  flex-shrink: 0;\r\n\r\n  @media (max-width: 1024px) {\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nexport const AccountWrapper = styled.div`\r\n  position: fixed;\r\n  width: 330px;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.1);\r\n  background-color: ${({ theme }) => theme.primary};\r\n\r\n  @media (max-width: 1024px) {\r\n    position: relative;\r\n    display: flex;\r\n    width: 100%;\r\n    border-radius: 0;\r\n    padding: 16px;\r\n  }\r\n`;\r\n\r\nexport const ProfileLoadingContainer = styled.div`\r\n  width: 300px;\r\n  height: 320px;\r\n\r\n  @media (max-width: 1024px) {\r\n    width: 100%;\r\n    height: 150px;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nexport const CustomCard = styled(Card)`\r\n  && {\r\n    background: ${({ theme }) => theme.primary};\r\n\r\n    @media (max-width: 1024px) {\r\n      display: flex;\r\n      flex-direction: row;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ProfileLoadingWrapper = styled.div`\r\n  width: 100%;\r\n\r\n  @media (max-width: 1024px) {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 30px;\r\n  }\r\n`;\r\n\r\nexport const CustomCardContent = styled(CardContent)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 12px;\r\n\r\n    @media (max-width: 1024px) {\r\n      ${ProfileLoadingWrapper} & {\r\n        align-items: flex-start;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CustomSkeleton = styled(Skeleton)`\r\n  && {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n","import { Avatar, AvatarGroup } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const AvatarWrapper = styled.div`\r\n  position: relative;\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  margin: 16px 0 8px;\r\n  box-shadow: 0 0 10px 0px rgba(0, 0, 0, 0.2);\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n\r\n  @media (max-width: 1024px) {\r\n    top: 0;\r\n    left: 0;\r\n    transform: translate(0);\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport const AvatarUser = styled.img`\r\n  width: 110px;\r\n  height: 110px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  transition: all 0.1s ease;\r\n\r\n  /* &:hover {\r\n    filter: brightness(1.1);\r\n  } */\r\n`;\r\n\r\nexport const EditButton = styled(Link)`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  color: ${({ theme }) => theme.textColor};\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  transition: all 0.05s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n\r\nexport const AccountInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 0 16px 16px;\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 0;\r\n    margin-left: 20px;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const AccountName = styled.div`\r\n  font-weight: 400;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nexport const Desc = styled.div`\r\n  margin-top: 4px;\r\n  font-style: italic;\r\n  text-align: center;\r\n  font-size: 0.9rem;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n\r\n  @media (max-width: 1024px) {\r\n    text-align: left;\r\n  }\r\n`;\r\n\r\nexport const Details = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: ${({ isYourAccount }) =>\r\n    isYourAccount ? \"repeat(2, 1fr)\" : \"repeat(3, 1fr)\"};\r\n  grid-row-gap: 12px;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    grid-template-rows: repeat(2, 1fr);\r\n  }\r\n`;\r\n\r\nexport const DetailItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n\r\n  ${Details} &:nth-child(3) {\r\n    grid-column: span 3/4;\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    align-items: flex-start;\r\n    margin-top: 0;\r\n    ${Details} &:nth-child(3) {\r\n      grid-column: auto;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  text-transform: uppercase;\r\n  font-size: 0.7rem;\r\n  font-weight: 700;\r\n  margin-top: 6px;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n\r\n  ${DetailItem}:nth-child(1):hover &,\r\n  ${DetailItem}:nth-child(2):hover & {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  ${DetailItem}:nth-child(1) &,\r\n  ${DetailItem}:nth-child(2) & {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const Detail = styled.div``;\r\n\r\nexport const ButtonWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  grid-column: span 3/4;\r\n  flex: 1;\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-column: auto;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  width: 100%;\r\n  border: 1px solid var(--primary-color);\r\n  border-radius: 5px;\r\n  padding: 8px 16px;\r\n  text-transform: capitalize;\r\n  background: ${({ isFollowed }) => (isFollowed ? \"transparent\" : \"var(--primary-color)\")};\r\n  color: ${({ isFollowed, theme }) => (isFollowed ? theme.textColor : \"#fff\")};\r\n  transition: all 0.1s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    filter: brightness(0.9);\r\n  }\r\n\r\n  & .iconify {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nexport const CustomAvatar = styled(Avatar)``;\r\n\r\nexport const CustomAvatarGroup = styled(AvatarGroup)`\r\n  && {\r\n    & > .MuiAvatar-root {\r\n      width: 20px;\r\n      height: 20px;\r\n      border-color: ${({ theme }) => theme.contrastColor} !important;\r\n      font-size: 0.8rem;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  AvatarWrapper,\r\n  EditButton,\r\n  AccountInfo,\r\n  AccountName,\r\n  Desc,\r\n  Details,\r\n  DetailItem,\r\n  Title,\r\n  Detail,\r\n  ButtonWrapper,\r\n  Button,\r\n  AvatarUser,\r\n  CustomAvatar,\r\n  CustomAvatarGroup,\r\n} from \"./AccountInfoElements\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { authState$, postState$ } from \"redux/selectors\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nexport default function UserInfo() {\r\n  const dispatch = useDispatch();\r\n  const { profile } = useSelector(postState$);\r\n  const { currentUser } = useSelector(authState$);\r\n  const isYourAccount = profile?._id === currentUser?._id;\r\n\r\n  const handleInteract = async () => {\r\n    if (currentUser) {\r\n      dispatch(actions.interactUser.interactUserRequest(profile?._id));\r\n    } else {\r\n      // history.push(\"/login\");\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Please Login\",\r\n          type: \"warning\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AvatarWrapper>\r\n        <AvatarUser src={profile?.avatar ? profile.avatar : DefaultAvatar} />\r\n        {profile?._id === currentUser?._id && (\r\n          <EditButton to=\"/setting/info\">\r\n            <Icon icon=\"akar-icons:edit\" />\r\n          </EditButton>\r\n        )}\r\n      </AvatarWrapper>\r\n\r\n      <AccountInfo>\r\n        <AccountName>@{profile?.name}</AccountName>\r\n        <Desc>{profile?.desc}</Desc>\r\n        <Details isYourAccount={isYourAccount}>\r\n          <DetailItem>\r\n            <Detail>\r\n              <CustomAvatarGroup max={4}>\r\n                {profile?.followers.map((user) => {\r\n                  return <CustomAvatar key={user._id} alt={user.name} src={user.avatar} />;\r\n                })}\r\n              </CustomAvatarGroup>\r\n            </Detail>\r\n            <Title>Followers</Title>\r\n          </DetailItem>\r\n\r\n          <DetailItem>\r\n            <Detail>\r\n              <CustomAvatarGroup max={4}>\r\n                {profile?.followings.map((user) => {\r\n                  return <CustomAvatar key={user._id} alt={user.name} src={user.avatar} />;\r\n                })}\r\n              </CustomAvatarGroup>\r\n            </Detail>\r\n            <Title>Followings</Title>\r\n          </DetailItem>\r\n\r\n          <DetailItem>\r\n            <Detail>Viet Nam</Detail>\r\n            <Title>From</Title>\r\n          </DetailItem>\r\n\r\n          {/* Check if user is current user */}\r\n          {profile?._id !== currentUser?._id && (\r\n            <ButtonWrapper onClick={handleInteract}>\r\n              {/* Check if current user is follow or following this user */}\r\n              {profile?.followers.some((follower) => follower._id === currentUser?._id) ? (\r\n                <Button isFollowed={true}>\r\n                  <Icon icon=\"akar-icons:check\" />\r\n                  <span>following</span>\r\n                </Button>\r\n              ) : (\r\n                <Button isFollowed={false}>\r\n                  <span>follow</span>\r\n                </Button>\r\n              )}\r\n            </ButtonWrapper>\r\n          )}\r\n        </Details>\r\n      </AccountInfo>\r\n    </>\r\n  );\r\n}\r\n","import { Grid } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport {\r\n  AccountContainer,\r\n  AccountWrapper,\r\n  CustomCard,\r\n  CustomCardContent,\r\n  CustomSkeleton,\r\n  ProfileLoadingContainer,\r\n  ProfileLoadingWrapper,\r\n} from \"./AccountElements\";\r\nimport UserInfo from \"./UserInfo\";\r\n\r\nexport default function Account({ isLoading }) {\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <ProfileLoading />\r\n      ) : (\r\n        <AccountContainer>\r\n          <AccountWrapper>\r\n            <UserInfo />\r\n          </AccountWrapper>\r\n        </AccountContainer>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst ProfileLoading = () => {\r\n  return (\r\n    <>\r\n      <ProfileLoadingContainer>\r\n        <CustomCard>\r\n          <CustomCardContent>\r\n            <CustomSkeleton animation=\"wave\" variant=\"circular\" width={110} height={110} />\r\n          </CustomCardContent>\r\n\r\n          <ProfileLoadingWrapper>\r\n            <CustomCardContent>\r\n              <CustomSkeleton\r\n                animation=\"wave\"\r\n                width=\"40%\"\r\n                height={20}\r\n                style={{ marginBottom: 6 }}\r\n              />\r\n              <CustomSkeleton animation=\"wave\" width=\"70%\" height={10} />\r\n            </CustomCardContent>\r\n\r\n            <CustomCardContent>\r\n              <Grid container spacing={2}>\r\n                <Grid\r\n                  item\r\n                  xs={6}\r\n                  style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\r\n                >\r\n                  <CustomSkeleton\r\n                    animation=\"wave\"\r\n                    width=\"40%\"\r\n                    height={10}\r\n                    style={{ marginBottom: 6 }}\r\n                  />\r\n                  <CustomSkeleton animation=\"wave\" width=\"70%\" height={10} />\r\n                </Grid>\r\n\r\n                <Grid\r\n                  item\r\n                  xs={6}\r\n                  style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\r\n                >\r\n                  <CustomSkeleton\r\n                    animation=\"wave\"\r\n                    width=\"40%\"\r\n                    height={10}\r\n                    style={{ marginBottom: 6 }}\r\n                  />\r\n                  <CustomSkeleton animation=\"wave\" width=\"70%\" height={10} />\r\n                </Grid>\r\n              </Grid>\r\n            </CustomCardContent>\r\n          </ProfileLoadingWrapper>\r\n        </CustomCard>\r\n      </ProfileLoadingContainer>\r\n    </>\r\n  );\r\n};\r\n","import Posts from \"components/NewsfeedPage/Post\";\r\nimport PostUpdateModal from \"components/NewsfeedPage/Post/PostUpdateModal\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport styled from \"styled-components\";\r\nimport Account from \"./Account\";\r\n\r\nconst ProfileContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  max-width: var(--max-width);\r\n  width: 100%;\r\n  padding: 72px 0px 0;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 1024px) {\r\n    flex-direction: column;\r\n    padding: 54px 0 0;\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nexport default function Profile({ isProfileLoading }) {\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  return (\r\n    <ProfileContainer>\r\n      <Account isLoading={isProfileLoading} />\r\n      <Posts direction=\"right\" />\r\n      {currentUser && <PostUpdateModal user={currentUser} />}\r\n    </ProfileContainer>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as actions from \"redux/actions\";\r\nimport { useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Profile from \"components/ProfilePage\";\r\nimport { postState$ } from \"redux/selectors\";\r\nimport { UserAPI } from \"api\";\r\nimport Header from \"components/Header\";\r\n\r\nexport default function ProfilePage() {\r\n  const { userId } = useParams();\r\n  const [page, setPage] = useState(1);\r\n  const { isLoading } = useSelector(postState$);\r\n  const [isProfileLoading, setIsProfileLoading] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    userId && dispatch(actions.getProfilePosts.getProfilePostsRequest({ userId, page }));\r\n  }, [dispatch, userId, page]);\r\n\r\n  useEffect(() => {\r\n    const scrollWindow = () => {\r\n      if (\r\n        Math.abs(\r\n          window.innerHeight +\r\n            document.documentElement.scrollTop -\r\n            document.documentElement.offsetHeight\r\n        ) <= 200\r\n      ) {\r\n        if (!isLoading) {\r\n          setPage(page + 1);\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener(\"scroll\", scrollWindow);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", scrollWindow);\r\n    };\r\n  }, [isLoading, page]);\r\n\r\n  useEffect(() => {\r\n    const getProfileUser = async () => {\r\n      try {\r\n        setIsProfileLoading(true);\r\n        const profile = await UserAPI.getProfileUser(userId);\r\n        if (profile) {\r\n          dispatch(actions.getProfileUser(profile.data));\r\n          setIsProfileLoading(false);\r\n        }\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    };\r\n    getProfileUser();\r\n    window.scrollTo(0, 0);\r\n\r\n    return () => {\r\n      dispatch(actions.resetPosts());\r\n    };\r\n  }, [userId, dispatch]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Profile isProfileLoading={isProfileLoading} />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loading from \"images/Loading.svg\";\r\n\r\nconst LoadingContainer = styled.div`\r\n  background: url(${Loading}) no-repeat center center;\r\n  background-size: 80px;\r\n  padding-bottom: 100px;\r\n  width: 100%;\r\n`;\r\n\r\nexport default function LoadingSection() {\r\n  return <LoadingContainer></LoadingContainer>;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Momo.105c1788.png\";","export default __webpack_public_path__ + \"static/media/Paypal.1e75e3dc.png\";","export default __webpack_public_path__ + \"static/media/VNPAY.4b3906bc.png\";","export default __webpack_public_path__ + \"static/media/ZaloPay.a5e5531d.png\";","import { Button } from \"@mui/material\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const PaymentContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: var(--max-width);\r\n  margin: 0 auto;\r\n  padding: 72px 16px 10px;\r\n`;\r\n\r\nexport const PaymentLeftSide = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 2;\r\n  margin-right: 10px;\r\n  gap: 20px;\r\n`;\r\n\r\nexport const PaymentRightSide = styled.div`\r\n  flex: 1;\r\n  height: fit-content;\r\n  border-radius: 5px;\r\n  border: 2px solid ${({ theme }) => theme.borderColor};\r\n  margin-left: 10px;\r\n`;\r\n\r\nexport const OrderContainer = styled.div`\r\n  padding: 16px;\r\n\r\n  & > .order-title {\r\n    display: inline-flex;\r\n    flex-direction: column;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n\r\n    &:after {\r\n      content: \"\";\r\n      padding-bottom: 2px;\r\n      background-color: ${({ theme }) => theme.borderColor};\r\n    }\r\n  }\r\n\r\n  & > .order__detail {\r\n    padding-top: 8px;\r\n\r\n    & > .order__detail-item.flex {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n\r\n    & > .order__detail-item {\r\n      margin-top: 16px;\r\n\r\n      & > .order__detail-item_title {\r\n        margin-bottom: 6px;\r\n        font-weight: 500;\r\n      }\r\n\r\n      & > .order__detail-price {\r\n        font-size: 28px;\r\n        font-weight: 500;\r\n        color: var(--success-color);\r\n      }\r\n\r\n      & > .order__detail-item_subTitle {\r\n        font-weight: 500;\r\n        color: ${({ theme }) => theme.subTextColor};\r\n      }\r\n    }\r\n  }\r\n\r\n  & > .order__detail-line {\r\n    display: flex;\r\n    padding-bottom: 2px;\r\n    background-color: ${({ theme }) => theme.borderColor};\r\n    margin: 10px 0;\r\n  }\r\n`;\r\n\r\nexport const UserBlockContainer = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  padding-bottom: 10px;\r\n\r\n  & > img {\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 15px;\r\n    object-fit: cover;\r\n  }\r\n\r\n  & > .user__block-info {\r\n    margin-top: 6px;\r\n\r\n    & > .user__block-info_name {\r\n      font-weight: 500;\r\n    }\r\n\r\n    & > .user__block-info_nickname {\r\n      margin-top: 4px;\r\n      color: ${({ theme }) => theme.subTextColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PayButtonContainer = styled(Button)`\r\n  &&& {\r\n    color: #fff;\r\n    background-color: var(--success-color);\r\n    line-height: 2;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  &&&.momo {\r\n    color: #fff;\r\n    background-color: #af1a71;\r\n    line-height: 2;\r\n  }\r\n\r\n  &&&.zalopay {\r\n    color: #fff;\r\n    background-color: #348fe4;\r\n    line-height: 2;\r\n  }\r\n\r\n  &&&.vnpay {\r\n    color: #fff;\r\n    background-color: #004a9c;\r\n    line-height: 2;\r\n  }\r\n\r\n  &&&.download {\r\n    color: #fff;\r\n    background-color: var(--primary-color);\r\n    line-height: 2;\r\n  }\r\n`;\r\n\r\nexport const TopSection = styled.div`\r\n  height: 300px;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  border: 2px solid ${({ theme }) => theme.borderColor};\r\n  padding: 16px;\r\n\r\n  & > img {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 5px;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nexport const BottomSection = styled.div`\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  border: 2px solid ${({ theme }) => theme.borderColor};\r\n  padding: 16px;\r\n\r\n  & > .payment__options {\r\n    display: flex;\r\n    gap: 16px;\r\n  }\r\n\r\n  & > .divider {\r\n    display: flex;\r\n    padding-bottom: 2px;\r\n    background-color: ${({ theme }) => theme.borderColor};\r\n    margin: 16px 0;\r\n  }\r\n\r\n  & > .payment__options-list_Ewallet {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    align-content: center;\r\n    justify-content: center;\r\n    grid-row-gap: 20px;\r\n    grid-column-gap: 40px;\r\n  }\r\n`;\r\n\r\nexport const PaymentOptionContainer = styled.label`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 10px 30px 10px 16px;\r\n  border-radius: 5px;\r\n  border: 2px solid ${({ theme }) => theme.borderColor};\r\n  cursor: pointer;\r\n\r\n  & > .payment__option-radio {\r\n    position: relative;\r\n    width: 24px;\r\n    height: 24px;\r\n    border: 2px solid ${({ theme }) => theme.borderColor};\r\n    border-radius: 50%;\r\n    transition: all 0.2s ease;\r\n\r\n    &:before {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n      width: 0;\r\n      height: 0;\r\n      border-radius: 50%;\r\n      background-color: var(--success-color);\r\n      transition: all 0.2s ease;\r\n    }\r\n  }\r\n\r\n  & > input:checked + .payment__option-radio:before {\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n\r\n  & > input:checked + .payment__option-radio {\r\n    border-color: var(--success-color);\r\n  }\r\n\r\n  & > .payment__option-content {\r\n    & > .payment__option-content_title {\r\n      font-size: 18px;\r\n      font-weight: 500;\r\n      text-transform: capitalize;\r\n    }\r\n\r\n    & > .payment__option-content_body {\r\n      font-size: 14px;\r\n      color: ${({ theme }) => theme.subTextColor};\r\n\r\n      &.green {\r\n        color: var(--success-color);\r\n      }\r\n\r\n      &.red {\r\n        color: var(--danger-color);\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const EWalletContainer = styled.label`\r\n  position: relative;\r\n  width: 150px;\r\n  height: 150px;\r\n  border: 2px solid ${({ theme }) => theme.borderColor};\r\n  border-radius: 5px;\r\n  background-position: center;\r\n  background-size: 100px;\r\n  background-repeat: no-repeat;\r\n  cursor: pointer;\r\n\r\n  & > .overlay {\r\n    position: absolute;\r\n    inset: 0;\r\n    background-color: transparent;\r\n    opacity: 0;\r\n    transition: all 0.1s ease;\r\n  }\r\n\r\n  & > input:checked + .overlay {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n    opacity: 0.4;\r\n  }\r\n`;\r\n","import { Icon } from \"@iconify/react\";\r\nimport { PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport { AuthAPI, MomoAPI, PaymentAPI } from \"api\";\r\nimport LoadingSection from \"components/LoadingSection\";\r\nimport { ThemeContext } from \"context/themeContext\";\r\nimport { saveAs } from \"file-saver\";\r\nimport Momo from \"images/Momo.png\";\r\nimport Paypal from \"images/Paypal.png\";\r\nimport VNPAY from \"images/VNPAY.png\";\r\nimport ZaloPay from \"images/ZaloPay.png\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport * as actions from \"redux/actions\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport {\r\n  BottomSection,\r\n  EWalletContainer,\r\n  OrderContainer,\r\n  PayButtonContainer,\r\n  PaymentContainer,\r\n  PaymentLeftSide,\r\n  PaymentOptionContainer,\r\n  PaymentRightSide,\r\n  TopSection,\r\n  UserBlockContainer,\r\n} from \"./PaypalElement\";\r\n\r\nconst PaySection = ({ post }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [paymentType, setPaymentType] = useState(1);\r\n  const [ewallet, setEwallet] = useState(\"paypal\");\r\n  const { currentUser } = useSelector(authState$);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const search = useLocation().search;\r\n  const query = new URLSearchParams(search).toString();\r\n  console.log(query);\r\n\r\n  useEffect(() => {\r\n    const confirmMomoPayment = async () => {\r\n      if (query) {\r\n        setLoading(true);\r\n        await MomoAPI.confirmMomoPayment(query).then((res) => {\r\n          if (res.data.isSuccess) {\r\n            dispatch(\r\n              actions.toast.showToast({\r\n                message: \"Your order is completed\",\r\n                type: \"success\",\r\n              })\r\n            );\r\n            setIsSuccess(res.data.isSuccess);\r\n          }\r\n        });\r\n        setTimeout(() => {\r\n          setLoading(false);\r\n        }, 1000);\r\n      }\r\n    };\r\n\r\n    confirmMomoPayment();\r\n  }, [query, dispatch]);\r\n\r\n  const handlePaymentType = (type) => {\r\n    setPaymentType(type);\r\n\r\n    if (type === 1) {\r\n      setEwallet(\"paypal\");\r\n    }\r\n  };\r\n\r\n  const handleChangeEWallet = (ewallet) => {\r\n    setEwallet(ewallet);\r\n  };\r\n\r\n  const handleApprove = React.useCallback(async () => {\r\n    setLoading(true);\r\n    await PaymentAPI.createPayment({\r\n      postId: post._id,\r\n      postBody: {\r\n        price: post.price,\r\n        isSuccess: true,\r\n        posterId: post.userId,\r\n        type: paymentType,\r\n      },\r\n    });\r\n\r\n    if (paymentType === 1) {\r\n      await AuthAPI.getUserInfo().then((res) => {\r\n        dispatch(actions.getCurrentUser(res.data));\r\n      });\r\n    }\r\n\r\n    setIsSuccess(true);\r\n\r\n    dispatch(\r\n      actions.toast.showToast({\r\n        message: \"Your order is completed\",\r\n        type: \"success\",\r\n      })\r\n    );\r\n\r\n    setLoading(false);\r\n  }, [post, paymentType, dispatch]);\r\n\r\n  const handleMomoCheckout = async () => {\r\n    setLoading(true);\r\n    await MomoAPI.getPayUrl({ postId: post._id, price: post.price }).then((res) => {\r\n      window.location.href = res.data;\r\n    });\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    saveAs(post.image.url, `${post.image.public_id}.png`);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PaymentContainer>\r\n        <PaymentLeftSide>\r\n          <TopSection>\r\n            <img src={post.image.url} alt=\"payment\" />\r\n          </TopSection>\r\n\r\n          <BottomSection>\r\n            <div className=\"payment__options\">\r\n              <PaymentOptionItem\r\n                name=\"payment__option\"\r\n                value={1}\r\n                onChange={handlePaymentType}\r\n                checked={true}\r\n              >\r\n                <div className=\"payment__option-content_title\">Photoos Wallet</div>\r\n                <div\r\n                  className={`payment__option-content_body ${\r\n                    currentUser && currentUser.wallet > 0 ? \"green\" : \"red\"\r\n                  }`}\r\n                >\r\n                  ${currentUser && currentUser.wallet}\r\n                </div>\r\n              </PaymentOptionItem>\r\n\r\n              <PaymentOptionItem name=\"payment__option\" value={2} onChange={handlePaymentType}>\r\n                <div className=\"payment__option-content_title\">E-Wallet</div>\r\n                <div className=\"payment__option-content_body\">(Paypal, Momo, ZaloPay,...)</div>\r\n              </PaymentOptionItem>\r\n            </div>\r\n\r\n            {paymentType === 2 && (\r\n              <>\r\n                <span className=\"divider\" />\r\n                <div className=\"payment__options-list_Ewallet\">\r\n                  <EWalletItem\r\n                    backgroundImage={Paypal}\r\n                    name=\"ewallet-option\"\r\n                    value=\"paypal\"\r\n                    onChange={handleChangeEWallet}\r\n                    checked={true}\r\n                  />\r\n                  <EWalletItem\r\n                    backgroundImage={Momo}\r\n                    name=\"ewallet-option\"\r\n                    value=\"momo\"\r\n                    onChange={handleChangeEWallet}\r\n                  />\r\n                  <EWalletItem\r\n                    backgroundImage={ZaloPay}\r\n                    name=\"ewallet-option\"\r\n                    value=\"zalopay\"\r\n                    onChange={handleChangeEWallet}\r\n                  />\r\n                  <EWalletItem\r\n                    backgroundImage={VNPAY}\r\n                    name=\"ewallet-option\"\r\n                    value=\"vnpay\"\r\n                    onChange={handleChangeEWallet}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </BottomSection>\r\n        </PaymentLeftSide>\r\n        <PaymentRightSide>\r\n          <OrderContainer>\r\n            <div className=\"order-title\">Your Order</div>\r\n\r\n            <div className=\"order__detail\">\r\n              <div className=\"order__detail-item\">\r\n                <div className=\"order__detail-item_title\">Author</div>\r\n                <UserBlock user={post.userId} />\r\n              </div>\r\n\r\n              <div className=\"order__detail-item\">\r\n                <div className=\"order__detail-item_title\">You</div>\r\n                {currentUser && <UserBlock user={currentUser} />}\r\n              </div>\r\n\r\n              <div className=\"order__detail-item flex\">\r\n                <div className=\"order__detail-item_title\">Method</div>\r\n                <div className=\"order__detail-item_subTitle\">\r\n                  {paymentType === 1 ? \"Photoos Wallet\" : \"E-wallet\"}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"order__detail-item flex\">\r\n                <div className=\"order__detail-item_title\">Price</div>\r\n                <div className=\"order__detail-price\">${post.price}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <span className=\"order__detail-line\" />\r\n\r\n            {loading ? (\r\n              <div>\r\n                <LoadingSection />\r\n              </div>\r\n            ) : isSuccess ? (\r\n              <PayButtonContainer\r\n                onClick={handleDownload}\r\n                className=\"download\"\r\n                variant=\"contained\"\r\n                startIcon={<Icon icon=\"fluent:arrow-download-16-filled\" />}\r\n                fullWidth\r\n              >\r\n                Download\r\n              </PayButtonContainer>\r\n            ) : paymentType === 1 ? (\r\n              <PayButtonContainer onClick={handleApprove} variant=\"contained\" fullWidth>\r\n                Check out\r\n              </PayButtonContainer>\r\n            ) : ewallet === \"paypal\" ? (\r\n              <PaypalCheckoutButton post={post} handleAppove={handleApprove} />\r\n            ) : ewallet === \"momo\" ? (\r\n              <PayButtonContainer\r\n                onClick={handleMomoCheckout}\r\n                className=\"momo\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n              >\r\n                Check out\r\n              </PayButtonContainer>\r\n            ) : ewallet === \"zalopay\" ? (\r\n              <PayButtonContainer className=\"zalopay\" variant=\"contained\" fullWidth>\r\n                Check out\r\n              </PayButtonContainer>\r\n            ) : (\r\n              ewallet === \"vnpay\" && (\r\n                <PayButtonContainer className=\"vnpay\" variant=\"contained\" fullWidth>\r\n                  Check out\r\n                </PayButtonContainer>\r\n              )\r\n            )}\r\n          </OrderContainer>\r\n        </PaymentRightSide>\r\n      </PaymentContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nconst UserBlock = ({ user }) => {\r\n  return (\r\n    <UserBlockContainer>\r\n      <img src={user.avatar} alt=\"avatar\" />\r\n      <div className=\"user__block-info\">\r\n        <div className=\"user__block-info_name\">{user?.fullName}</div>\r\n        <div className=\"user__block-info_nickname\">@{user.name}</div>\r\n      </div>\r\n    </UserBlockContainer>\r\n  );\r\n};\r\n\r\nconst PaymentOptionItem = (props) => {\r\n  return (\r\n    <PaymentOptionContainer onChange={() => props.onChange(props.value)}>\r\n      <input type=\"radio\" hidden name={props.name} defaultChecked={props.checked} />\r\n      <div className=\"payment__option-radio\" />\r\n      <div className=\"payment__option-content\">{props.children}</div>\r\n    </PaymentOptionContainer>\r\n  );\r\n};\r\n\r\nconst EWalletItem = (props) => {\r\n  return (\r\n    <EWalletContainer\r\n      style={{ backgroundImage: `url(${props.backgroundImage})` }}\r\n      onChange={() => props.onChange(props.value)}\r\n    >\r\n      <input type=\"radio\" hidden name={props.name} defaultChecked={props.checked} />\r\n      <span className=\"overlay\" />\r\n    </EWalletContainer>\r\n  );\r\n};\r\n\r\nconst PaypalCheckoutButton = ({ post, handleAppove, setLoading }) => {\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  return (\r\n    <PayPalButtons\r\n      style={{\r\n        color: theme === \"light\" ? \"black\" : \"white\",\r\n        layout: \"horizontal\",\r\n        height: 40,\r\n        tagline: false,\r\n        padding: 0,\r\n      }}\r\n      createOrder={(data, actions) => {\r\n        return actions.order.create({\r\n          purchase_units: [\r\n            {\r\n              description: `Buy ${post.userId.fullName}'s photo`,\r\n              amount: {\r\n                value: post.price,\r\n              },\r\n            },\r\n          ],\r\n        });\r\n      }}\r\n      onApprove={async (data, actions) => {\r\n        await actions.order.capture();\r\n        handleAppove();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PaySection;\r\n","import React from \"react\";\r\nimport PaySection from \"components/PayPage\";\r\nimport Header from \"components/Header\";\r\nimport { useParams } from \"react-router\";\r\nimport { PostAPI } from \"api\";\r\n\r\nconst PaypalPage = () => {\r\n  const [post, setPost] = React.useState(null);\r\n  const { postId } = useParams();\r\n\r\n  React.useEffect(() => {\r\n    const fetchPost = async () => {\r\n      await PostAPI.fetchPost(postId).then((res) => setPost(res.data));\r\n    };\r\n\r\n    fetchPost();\r\n  }, [postId]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {post !== null && <PaySection post={post} />}\r\n    </>\r\n  );\r\n};\r\nexport default PaypalPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ToastContainer = styled.div`\r\n  position: fixed;\r\n  display: flex;\r\n  flex-direction: column;\r\n  bottom: 32px;\r\n  left: 24px;\r\n  opacity: 0.95;\r\n  z-index: 9999;\r\n\r\n  @media (max-width: 768px) {\r\n    bottom: 24px;\r\n    left: 16px;\r\n  }\r\n\r\n  .toast {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    height: 50px;\r\n    min-width: 250px;\r\n    border-radius: 5px;\r\n    border-left: 4px solid;\r\n    box-shadow: 0 5px 8px rgba(0, 0, 0, 0.08);\r\n    background-color: ${({ theme }) => theme.toastColor};\r\n    overflow: hidden;\r\n  }\r\n\r\n  .toast + .toast {\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .toast__message {\r\n    flex: 1;\r\n    padding: 0 14px 0 0px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  .toast__icon {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 12px;\r\n    font-size: 20px;\r\n  }\r\n\r\n  .toast__close {\r\n    padding: 0 10px;\r\n    align-self: stretch;\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    border-left: 1px solid ${({ theme }) => theme.borderColor};\r\n  }\r\n\r\n  .toast__close:hover {\r\n    background-color: ${({ theme }) => theme.hoverColor};\r\n    transition: all 0.1s ease;\r\n  }\r\n\r\n  .toast--success {\r\n    border-color: var(--success-color);\r\n  }\r\n\r\n  .toast--success .toast__icon {\r\n    color: var(--success-color);\r\n  }\r\n\r\n  .toast--danger {\r\n    border-color: var(--danger-color);\r\n  }\r\n\r\n  .toast--danger .toast__icon {\r\n    color: var(--danger-color);\r\n  }\r\n\r\n  .toast--warning {\r\n    border-color: var(--warning-color);\r\n  }\r\n\r\n  .toast--warning .toast__icon {\r\n    color: var(--warning-color);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { ToastContainer } from \"./ToastElements\";\r\n\r\nexport default function Toast() {\r\n  return <ToastContainer id=\"toast\"></ToastContainer>;\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const SearchTitle = styled.div`\r\n  font-size: 30px;\r\n  font-weight: 700;\r\n  margin-right: 12px;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n`;\r\n\r\nexport const SearchBar = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 350px;\r\n  background: ${({ theme }) => theme.contrastColor};\r\n  padding: 12px 25px 12px 45px;\r\n  border-radius: 24px;\r\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nexport const SearchLabel = styled.label`\r\n  position: absolute;\r\n  left: 13px;\r\n  font-size: 20px;\r\n  transition: all 0.2s ease;\r\n`;\r\n\r\nexport const SearchInput = styled.input`\r\n  width: 100%;\r\n  background: transparent;\r\n  border: 0;\r\n  outline: 0;\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: 15px;\r\n\r\n  &:focus ~ ${SearchLabel}, &:valid ~ ${SearchLabel} {\r\n    color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nexport const SearchClose = styled.div`\r\n  position: absolute;\r\n  display: none;\r\n  right: 8px;\r\n  top: 13px;\r\n\r\n  ${SearchInput}:valid ~ & {\r\n    display: block;\r\n  }\r\n`;\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  SearchBar,\r\n  SearchClose,\r\n  SearchInput,\r\n  SearchLabel,\r\n  SearchTitle,\r\n} from \"./SearchHeaderElements\";\r\nimport { Icon } from \"@iconify/react\";\r\n\r\nexport default function SearchHeader({ onSubmit }) {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchTerm(value);\r\n\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      onSubmit(value);\r\n    }, 500);\r\n  };\r\n\r\n  const handleClearSearch = () => {\r\n    setSearchTerm(\"\");\r\n    onSubmit(\"\");\r\n  };\r\n  return (\r\n    <Container>\r\n      <SearchTitle>Search</SearchTitle>\r\n      <SearchBar>\r\n        <SearchInput\r\n          value={searchTerm}\r\n          onChange={handleSearchChange}\r\n          id=\"search-input\"\r\n          placeholder=\"Search ...\"\r\n          required\r\n          autoComplete=\"off\"\r\n        ></SearchInput>\r\n        <SearchLabel htmlFor=\"search-input\">\r\n          <Icon icon=\"akar-icons:search\" />\r\n        </SearchLabel>\r\n        <SearchClose onClick={handleClearSearch}>\r\n          <Icon icon=\"eva:close-fill\" />\r\n        </SearchClose>\r\n      </SearchBar>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const SearchItemContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 200px;\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const OverLay = styled.div`\r\n  position: absolute;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  transition: all 0.1s ease;\r\n  cursor: pointer;\r\n\r\n  ${SearchItemContainer}:hover & {\r\n    opacity: 1;\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nexport const WatchButton = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) scale(0.5);\r\n  text-transform: uppercase;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #fefefe;\r\n  white-space: nowrap;\r\n  user-select: none;\r\n  transition: all 0.2s ease;\r\n\r\n  ${SearchItemContainer}:hover & {\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { OverLay, SearchItemContainer, WatchButton } from \"./SearchItemContainerElements\";\r\n\r\nexport default function SearchItem({ post, index, showModal }) {\r\n  const handleShowModal = () => {\r\n    const indexPost = index;\r\n    showModal(indexPost);\r\n  };\r\n\r\n  return (\r\n    <SearchItemContainer\r\n      style={{\r\n        backgroundImage: `url(${post.image.url})`,\r\n      }}\r\n      onClick={handleShowModal}\r\n    >\r\n      <OverLay>\r\n        <WatchButton>Watch Now</WatchButton>\r\n      </OverLay>\r\n    </SearchItemContainer>\r\n  );\r\n}\r\n","import { Card, Skeleton } from \"@mui/material\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const SearchListContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n\r\n  @media (max-width: 512px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n`;\r\n\r\nexport const CustomCard = styled(Card)`\r\n  && {\r\n    background: ${({ theme }) => theme.primary};\r\n  }\r\n`;\r\n\r\nexport const CustomSkeleton = styled(Skeleton)`\r\n  && {\r\n    background: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport SearchItem from \"../SearchItem\";\r\nimport { CustomCard, CustomSkeleton, SearchListContainer } from \"./SearchListElements\";\r\n\r\nexport default function SearchList({ posts, showModal }) {\r\n  return (\r\n    <SearchListContainer>\r\n      {posts.length !== 0\r\n        ? posts.map((post, index) => (\r\n            <SearchItem key={index} post={post} index={index} showModal={showModal} />\r\n          ))\r\n        : [...Array(2)].map((item, index) => <LoadingItem key={index} />)}\r\n      {[...Array(3)].map((item, index) => (\r\n        <LoadingItem key={index} />\r\n      ))}\r\n    </SearchListContainer>\r\n  );\r\n}\r\n\r\nconst LoadingItem = () => {\r\n  return (\r\n    <>\r\n      <CustomCard sx={{ borderRadius: \"10px\" }}>\r\n        <CustomSkeleton animation=\"wave\" variant=\"rectangular\" width=\"100%\" height=\"200px\" />\r\n      </CustomCard>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport SearchHeader from \"./SearchHeader\";\r\nimport SearchList from \"./SearchList\";\r\nimport * as actions from \"redux/actions\";\r\nimport { postState$ } from \"redux/selectors\";\r\nimport Modal from \"components/Modal\";\r\n\r\nconst SearchContainer = styled.div`\r\n  max-width: var(--max-width);\r\n  width: 100%;\r\n  padding: 72px 16px 0;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 1024px) {\r\n    flex-direction: column;\r\n    padding: 72px 16px 0;\r\n  }\r\n`;\r\n\r\nexport default function SearchSection() {\r\n  const [index, setIndex] = useState(null);\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  // const [page, setPage] = useState(1);\r\n  const [query, setQuery] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const { data } = useSelector(postState$);\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.searchPosts.searchPostsRequest(query));\r\n    setIndex(null);\r\n  }, [dispatch, query]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(actions.resetPosts());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleSearch = (value) => {\r\n    // setPage(1);\r\n    setQuery(value);\r\n  };\r\n  const handleModal = (index) => {\r\n    if (isShowModal) {\r\n      setIsShowModal(false);\r\n      dispatch(actions.showBoxComment.showBoxCommentRequest(undefined));\r\n    } else {\r\n      setIsShowModal(true);\r\n      setIndex(index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SearchContainer>\r\n      <SearchHeader onSubmit={handleSearch} />\r\n      <SearchList posts={data} showModal={handleModal} />\r\n      {(index || index === 0) && isShowModal && (\r\n        <Modal post={data[index]} isShow={isShowModal} closeModal={handleModal} />\r\n      )}\r\n    </SearchContainer>\r\n  );\r\n}\r\n","import SearchSection from \"components/SearchPage\";\r\nimport Header from \"components/Header\";\r\nimport React from \"react\";\r\n\r\nexport default function SearchPage() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <SearchSection />\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Link as LinkR } from \"react-router-dom\";\r\n\r\nexport const Nav = styled.nav`\r\n  width: 100%;\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  height: 60px;\r\n  z-index: 10;\r\n  position: fixed;\r\n`;\r\n\r\nexport const NavContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  max-width: var(--max-width);\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0);\r\n  padding: 0 12px;\r\n`;\r\n\r\nexport const NavLogo = styled.div`\r\n  display: flex;\r\n  justify-self: flex-start;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n  cursor: pointer;\r\n`;\r\nexport const NavRight = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const Search = styled.div`\r\n  margin: 0 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #fff;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const Btn = styled(LinkR)`\r\n  color: #fff;\r\n  margin-left: 10px;\r\n  text-decoration: none;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  border-radius: 30px;\r\n  border: 2px solid white;\r\n  padding: 6px 16px;\r\n  background: black; //#fbf7f0;\r\n  &:hover {\r\n    background: #fff;\r\n    color: #000;\r\n  }\r\n  @media screen and (max-width: 550px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const BarIcon = styled.div`\r\n  display: none;\r\n  @media screen and (max-width: 550px) {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    top: 0;\r\n    right: 0;\r\n    cursor: pointer;\r\n    color: #fff;\r\n    font-size: 24px;\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Nav, NavContainer, NavLogo, NavRight, Search, Btn, BarIcon } from \"./NavbarElements\";\r\nimport { FaBars } from \"react-icons/fa\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst Navbar = ({ toggle }) => {\r\n  const history = useHistory();\r\n  const handleSearchClick = () => {\r\n    history.push(\"/search\");\r\n  };\r\n  const handleNewFeedsClick = () => {\r\n    history.push(\"\");\r\n  };\r\n  return (\r\n    <Nav>\r\n      <NavContainer>\r\n        <NavLogo onClick={handleNewFeedsClick}>Photoos</NavLogo>\r\n        <NavRight>\r\n          <Search onClick={handleSearchClick}>\r\n            <span className=\"iconify\" data-icon=\"feather:search\"></span>\r\n          </Search>\r\n          <BarIcon>\r\n            <FaBars />\r\n          </BarIcon>\r\n          <Btn to=\"/home\" onClick={toggle}>\r\n            Signin\r\n          </Btn>\r\n          <Btn to=\"/signup\">Signup</Btn>\r\n        </NavRight>\r\n      </NavContainer>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import styled from \"styled-components\";\r\nimport { Link as LinkR } from \"react-router-dom\";\r\nexport const SigninContainer = styled.div`\r\n  position: fixed;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  padding: 0 10%;\r\n  z-index: 999;\r\n  color: black;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  transition: all 0.2s ease-in-out;\r\n  visibility: ${({ isOpen }) => (isOpen ? \"visible\" : \"hidden\")};\r\n  opacity: ${({ isOpen }) => (isOpen ? \"1\" : \"0\")};\r\n`;\r\nexport const SigninMenu = styled.form`\r\n  display: flex;\r\n  position: absolute;\r\n  top: ${({ isOpen }) => (isOpen ? \"50%\" : \"40%\")};\r\n  left: 50%;\r\n  transition: top 0.1s ease-in-out 0.1s;\r\n  transform: translate(-50%, -50%);\r\n  background: #fff;\r\n  width: 400px;\r\n  height: 550px;\r\n  border-radius: 8px;\r\n  flex-direction: column;\r\n  @media screen and (max-width: 450px) {\r\n    height: 100%;\r\n    width: 100%;\r\n    border-radius: 0;\r\n  }\r\n  @media screen and (min-height: 450px) {\r\n  }\r\n`;\r\n\r\nexport const FormTop = styled.div`\r\n  display: flex;\r\n  height: 30%;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 0 15%;\r\n`;\r\nexport const Headline = styled.h1`\r\n  width: 100%;\r\n  font-size: 2rem;\r\n  margin-top: 35%;\r\n`;\r\nexport const Subline = styled.div`\r\n  width: 100%;\r\n  font-size: 0.8rem;\r\n  font-weight: bold;\r\n  margin-top: 5px;\r\n  padding-left: 5px;\r\n`;\r\n\r\nexport const FormBottom = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 70%;\r\n  align-items: center;\r\n  margin: 0 15%;\r\n`;\r\n\r\nexport const TxbWrapper = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  width: 100%;\r\n  margin: 5px 0;\r\n  border: 1px solid rgba(0, 0, 0, 0.5);\r\n  border-radius: 4px;\r\n  padding: 5px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Txb = styled.input`\r\n  display: flex;\r\n  position: relative;\r\n  bottom: 0;\r\n  width: 100%;\r\n  border: none;\r\n  height: 20px;\r\n  outline: none;\r\n`;\r\n\r\nexport const IconWrapper = styled.div`\r\n  padding: 8px 10px;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n`;\r\n\r\nexport const ButtonLogin = styled(LinkR)`\r\n  display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 7px 0;\r\n  padding: 20px 30px;\r\n  height: 30px;\r\n  width: 100%;\r\n  text-decoration: none;\r\n  color: black;\r\n  border-radius: 4px;\r\n  border: 1px solid black;\r\n  background: black;\r\n  color: #fff;\r\n  &:hover {\r\n    /* padding: -1px -1px;\r\n    border: 2px solid black;\r\n    background: #fff;\r\n    color: black;\r\n    font-weight: 700; */\r\n    :before {\r\n      background: rgba(255, 255, 255, 0.15);\r\n      position: absolute;\r\n      z-index: 3;\r\n      content: \"\";\r\n      width: 100%;\r\n      height: 40px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ButtonLoginInfo = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n`;\r\n\r\nexport const OrDiv = styled.div`\r\n  color: #000000;\r\n  font-size: 15px;\r\n  padding: 10px 0;\r\n`;\r\n\r\nexport const ButtonSignUp = styled(LinkR)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 5px 0;\r\n  width: 100%;\r\n  padding: 20px 29px;\r\n  height: 30px;\r\n  text-decoration: none;\r\n  color: black;\r\n  border-radius: 4px;\r\n  background: #fff;\r\n  border: 1px solid black;\r\n  color: black;\r\n`;\r\n\r\nexport const ButtonLoginGG = styled(LinkR)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin: 5px 0;\r\n  width: 100%;\r\n  padding: 20px 29px;\r\n  height: 30px;\r\n  text-decoration: none;\r\n  color: black;\r\n  border-radius: 4px;\r\n  background: #fff;\r\n  border: 1px solid black;\r\n  color: black;\r\n`;\r\n\r\nexport const SignupDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: flex-start;\r\n  height: 10px;\r\n  width: 100%;\r\n  margin: 5px 0;\r\n  font-size: 11px;\r\n  padding: 0 5px;\r\n`;\r\n\r\nexport const SignupInfo = styled.div`\r\n  margin-left: 5px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: black;\r\n  font-weight: 700;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nexport const ItemsWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 50px;\r\n  margin-top: 20px;\r\n\r\n  & .iconify {\r\n    font-size: 30px;\r\n    cursor: pointer;\r\n    margin: 5px 7px;\r\n  }\r\n`;\r\n\r\nexport const ErrorWrapper = styled.div`\r\n  color: red;\r\n  font-size: 12px;\r\n  width: 100%;\r\n  display: flex;\r\n  text-align: flex-start;\r\n  padding-left: 5px;\r\n`;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport {\r\n  SigninContainer,\r\n  SigninMenu,\r\n  FormTop,\r\n  FormBottom,\r\n  Txb,\r\n  TxbWrapper,\r\n  ButtonLogin,\r\n  OrDiv,\r\n  ButtonSignUp,\r\n  IconWrapper,\r\n  SignupDiv,\r\n  SignupInfo,\r\n  ItemsWrapper,\r\n  ErrorWrapper,\r\n  Headline,\r\n  Subline,\r\n} from \"./SigninElements\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { RiLockPasswordLine } from \"react-icons/ri\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Signin = ({ toggle, isOpen, handleModal }) => {\r\n  const clientId = \"828741880621-pqvtk7ei98q91lno41bclfnkjhdsou4l.apps.googleusercontent.com\";\r\n  const overlayModal = useRef();\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(authState$);\r\n  const history = useHistory();\r\n  const [hidden, setHidden] = useState(false);\r\n  const isHidden = () => {\r\n    setHidden(!hidden);\r\n    console.log(hidden);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const TOKEN = localStorage.getItem(\"access_token\");\r\n    if (TOKEN) {\r\n      history.push(\"/\");\r\n    }\r\n  });\r\n\r\n  const handleOpenForgetPWModal = () => {\r\n    toggle();\r\n    handleModal();\r\n  };\r\n\r\n  const handleCloseModal = (e) => {\r\n    if (overlayModal.current === e.target) toggle();\r\n  };\r\n\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChangeValue = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n\r\n  const isLogin = React.useCallback(() => {\r\n    console.log(\"login\");\r\n    if (user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [history, user]);\r\n\r\n  const handleLogin = React.useCallback(() => {\r\n    dispatch(\r\n      actions.login.loginRequest({\r\n        email: data.email,\r\n        password: data.password,\r\n      })\r\n    );\r\n\r\n    isLogin();\r\n  }, [dispatch, data, isLogin]);\r\n\r\n  const onLoginSuccess = (res) => {\r\n    console.log(\"Login Success: \", res);\r\n\r\n    if (res.profileObj) {\r\n      dispatch(\r\n        actions.login.loginRequest({\r\n          idToken: res.tokenId,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const onFailureSuccess = (res) => {\r\n    console.log(\"Login Failed: \", res);\r\n  };\r\n\r\n  return (\r\n    <SigninContainer id=\"home/signin\" isOpen={isOpen} onClick={handleCloseModal} ref={overlayModal}>\r\n      <SigninMenu isOpen={isOpen}>\r\n        <FormTop>\r\n          <Headline>Welcome to Icon</Headline>\r\n          <Subline>Login to experience world</Subline>\r\n        </FormTop>\r\n        <FormBottom>\r\n          <TxbWrapper>\r\n            <IconWrapper>\r\n              <span className=\"iconify\" data-icon=\"ic:round-email\"></span>\r\n            </IconWrapper>\r\n            <Txb placeholder=\"Email\" name=\"email\" onChange={handleChangeValue}></Txb>\r\n          </TxbWrapper>\r\n\r\n          <TxbWrapper>\r\n            <IconWrapper>\r\n              <RiLockPasswordLine />\r\n            </IconWrapper>\r\n            <Txb\r\n              type={hidden ? \"text\" : \"password\"}\r\n              placeholder=\"Password\"\r\n              name=\"password\"\r\n              onChange={handleChangeValue}\r\n            ></Txb>\r\n            <i onClick={isHidden} name=\"repwd\" style={{ cursor: \"pointer\" }}>\r\n              <Icon icon=\"dashicons:hidden\" />\r\n            </i>\r\n          </TxbWrapper>\r\n          <SignupDiv>\r\n            <SignupInfo onClick={handleOpenForgetPWModal}>Forget password ?</SignupInfo>\r\n          </SignupDiv>\r\n          {user.errMsg ? <ErrorWrapper>{user.errMsg}</ErrorWrapper> : null}\r\n          <ButtonLogin to=\"#\" onClick={handleLogin}>\r\n            Sign in\r\n          </ButtonLogin>\r\n          <OrDiv>OR</OrDiv>\r\n          <ButtonSignUp to=\"/signup\">Create a new account</ButtonSignUp>\r\n          {/* <ButtonLoginGG>\r\n            <IconWrapper>\r\n              <FcGoogle />\r\n            </IconWrapper>\r\n            <ButtonLoginInfo>Sign in with google</ButtonLoginInfo>\r\n          </ButtonLoginGG> */}\r\n\r\n          <ItemsWrapper>\r\n            {/* <span className=\"iconify\" data-icon=\"akar-icons:facebook-fill\"></span>\r\n            <span className=\"iconify\" data-icon=\"fa-brands:instagram\"></span>\r\n            <span className=\"iconify\" data-icon=\"entypo-social:twitter-with-circle\"></span> */}\r\n            <GoogleLogin\r\n              clientId={clientId}\r\n              buttonText=\"Sign In with Google\"\r\n              onSuccess={onLoginSuccess}\r\n              onFailure={onFailureSuccess}\r\n              cookiePolicy={\"single_host_origin\"}\r\n            />\r\n          </ItemsWrapper>\r\n        </FormBottom>\r\n      </SigninMenu>\r\n    </SigninContainer>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","export default __webpack_public_path__ + \"static/media/video2.9a4cc337.mp4\";","import styled from \"styled-components\";\r\n//import { Link as LinkR } from \"react-router-dom\";\r\nimport { MdArrowForward, MdKeyboardArrowRight } from \"react-icons/md\";\r\nimport { Link as LinkS } from \"react-scroll\";\r\n\r\nexport const HomePgContainer = styled.div`\r\n  display: flex;\r\n  z-index: 1;\r\n  width: 100%;\r\n  height: 100vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n\r\n  :before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.2) 100%),\r\n      linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0%, transparent 100%);\r\n    z-index: 3;\r\n  }\r\n`;\r\n\r\nexport const VideoHpg = styled.video`\r\n  width: 100%;\r\n  height: 100%;\r\n  -o-object-fit: cover;\r\n  object-fit: cover;\r\n  z-index: 2;\r\n`;\r\n\r\nexport const HeroBg = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  z-index: 2;\r\n`;\r\n\r\nexport const InfoContainer = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  flex-direction: column;\r\n  z-index: 3;\r\n  max-width: var(--max-width);\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n  padding: 60px 20px;\r\n\r\n  @media screen and (max-width: 550px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const InfoHeadline = styled.h1`\r\n  color: #fff;\r\n  margin-top: 320px;\r\n  margin-bottom: 15px;\r\n  font-size: 45px;\r\n  @media screen and (max-width: 550px) {\r\n    margin-top: 270px;\r\n    font-size: 37px;\r\n  }\r\n  @media screen and (max-width: 414px) {\r\n    margin-top: 237px;\r\n    font-size: 40px;\r\n  }\r\n  @media screen and (max-width: 375px) {\r\n    margin-top: 200px;\r\n    font-size: 32px;\r\n  }\r\n`;\r\n\r\nexport const InfoDescrip = styled.p`\r\n  color: #fff;\r\n  font-size: 18px;\r\n  width: 60%;\r\n  margin-top: 10px;\r\n  margin-bottom: 15px;\r\n  @media screen and (max-width: 550px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nexport const InfoWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const InfoBtn = styled(LinkS)`\r\n  display: flex;\r\n  background: #fff;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  border-radius: 50px;\r\n  padding: 8px 14px;\r\n  color: #000;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const ArrowForward = styled(MdArrowForward)`\r\n  margin-left: 8px;\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const ArrowRight = styled(MdKeyboardArrowRight)`\r\n  margin-left: 8px;\r\n  font-size: 16px;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport video from \"../../../videos/video2.mp4\";\r\nimport {\r\n  HomePgContainer,\r\n  HeroBg,\r\n  VideoHpg,\r\n  InfoContainer,\r\n  InfoHeadline,\r\n  InfoDescrip,\r\n  InfoWrapper,\r\n  InfoBtn,\r\n  ArrowForward,\r\n  ArrowRight,\r\n} from \"./HomePageElements\";\r\n\r\nconst HomePageSection = ({ toggle }) => {\r\n  const [hover, setHover] = useState(false);\r\n  const onHover = () => {\r\n    setHover(!hover);\r\n  };\r\n  return (\r\n    <HomePgContainer>\r\n      <HeroBg>\r\n        <VideoHpg autoPlay loop muted src={video} type=\"video/mp4\" />\r\n      </HeroBg>\r\n      <InfoContainer>\r\n        <InfoHeadline>Our dream is unlimited</InfoHeadline>\r\n        <InfoDescrip>\r\n          Where to get new adventure and traveling around the world\r\n        </InfoDescrip>\r\n        <InfoWrapper>\r\n          <InfoBtn\r\n            onMouseEnter={onHover}\r\n            onMouseLeave={onHover}\r\n            onClick={toggle}\r\n            to=\"home/signin\"\r\n            smooth={true}\r\n            duration={500}\r\n            spy={true}\r\n            exact=\"true\"\r\n            offset={-80}\r\n          >\r\n            Get started {hover ? <ArrowForward /> : <ArrowRight />}\r\n          </InfoBtn>\r\n        </InfoWrapper>\r\n      </InfoContainer>\r\n    </HomePgContainer>\r\n  );\r\n};\r\n\r\nexport default HomePageSection;\r\n","import React, { useState } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport Signin from \"./SigninForm\";\r\nimport HomePageSection from \"./HomePageSection\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { Box, Stepper, Typography, Step, StepLabel, Button, TextField } from \"@mui/material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport * as api from \"api\";\r\nimport * as actions from \"redux/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: \"100%\",\r\n  maxWidth: \"700px\",\r\n  bgcolor: \"background.paper\",\r\n  boxShadow: 24,\r\n  border: \"2px solid #000\",\r\n  p: 4,\r\n};\r\n\r\nconst steps = [\"Enter your Email\", \"Verify\", \"Create a new password\"];\r\n\r\nconst errorState = {\r\n  email: \"\",\r\n  pin: \"\",\r\n  newPW: \"\",\r\n  confirmPW: \"\",\r\n};\r\n\r\nconst initialState = {\r\n  email: \"\",\r\n  pin: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n};\r\n\r\nconst Home = ({ toggle, isOpen }) => {\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [errors, setErrors] = useState(errorState);\r\n  const [state, setState] = useState(initialState);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleNext = async () => {\r\n    setIsLoading(true);\r\n    if (activeStep === 0) {\r\n      if (\r\n        !state.email.match(\r\n          /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n        )\r\n      ) {\r\n        setIsLoading(false);\r\n\r\n        setErrors({ ...errors, email: \"Format is incorrect.\" });\r\n        return;\r\n      } else {\r\n        try {\r\n          const res = await api.UserAPI.checkEmail({\r\n            email: state.email,\r\n          });\r\n          if (!res.data) {\r\n            setIsLoading(false);\r\n\r\n            setErrors({ ...errors, email: \"Email does not exist.\" });\r\n            return;\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (activeStep === 1) {\r\n      try {\r\n        const res = await api.UserAPI.checkPinCode({\r\n          email: state.email,\r\n          pin: state.pin,\r\n        });\r\n        if (!res.data) {\r\n          setIsLoading(false);\r\n\r\n          setErrors({ ...errors, pin: \"PIN is incorrect.\" });\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n    if (activeStep === 2) {\r\n      if (state.password.length < 6) {\r\n        setIsLoading(false);\r\n\r\n        setErrors({ ...errors, newPW: \"Password is at least 6 letters.\" });\r\n        return;\r\n      } else {\r\n        if (state.password === state.confirmPassword) {\r\n          try {\r\n            await api.UserAPI.changePassword({\r\n              email: state.email,\r\n              password: state.password,\r\n            });\r\n\r\n            handleModal();\r\n            toggle();\r\n\r\n            dispatch(\r\n              actions.toast.showToast({\r\n                message: \"Password has been changed\",\r\n                type: \"success\",\r\n              })\r\n            );\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n        } else {\r\n          setIsLoading(false);\r\n\r\n          setErrors({ ...errors, confirmPW: \"Incorrect password.\" });\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    setIsLoading(false);\r\n    setErrors(errorState);\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleChangeValue = (e) => {\r\n    var { name, value } = e.target;\r\n    setErrors(errorState);\r\n    setState({ ...state, [name]: value });\r\n  };\r\n\r\n  const handleModal = () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar toggle={toggle} />\r\n      <Signin isOpen={isOpen} toggle={toggle} handleModal={handleModal} />\r\n      <HomePageSection toggle={toggle} />\r\n\r\n      <Modal\r\n        open={openModal}\r\n        onClose={handleModal}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Box sx={style}>\r\n          <Stepper activeStep={activeStep}>\r\n            {steps.map((label) => {\r\n              const stepProps = {};\r\n              const labelProps = {};\r\n\r\n              return (\r\n                <Step key={label} {...stepProps}>\r\n                  <StepLabel {...labelProps}>{label}</StepLabel>\r\n                </Step>\r\n              );\r\n            })}\r\n          </Stepper>\r\n\r\n          {activeStep === 0 ? (\r\n            <React.Fragment>\r\n              <Typography sx={{ mt: 2, mb: 1, color: \"text.secondary\" }}>\r\n                Step {activeStep + 1}\r\n              </Typography>\r\n              <TextField\r\n                name=\"email\"\r\n                error={errors.email ? true : false}\r\n                label=\"Email\"\r\n                value={state.email}\r\n                onChange={handleChangeValue}\r\n                helperText={errors.email ? errors.email : null}\r\n                fullWidth\r\n              />\r\n\r\n              <Box sx={{ display: \"flex\", flexDirection: \"row\", pt: 2 }}>\r\n                <Button\r\n                  color=\"inherit\"\r\n                  disabled={activeStep === 0}\r\n                  onClick={handleBack}\r\n                  sx={{ mr: 1 }}\r\n                >\r\n                  Back\r\n                </Button>\r\n                <Box sx={{ flex: \"1 1 auto\" }} />\r\n\r\n                <LoadingButton loading={isLoading} onClick={handleNext}>\r\n                  {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\r\n                </LoadingButton>\r\n              </Box>\r\n            </React.Fragment>\r\n          ) : activeStep === 1 ? (\r\n            <React.Fragment>\r\n              <Typography sx={{ mt: 2, mb: 1, color: \"text.secondary\" }}>\r\n                Step {activeStep + 1}\r\n              </Typography>\r\n\r\n              <Box sx={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                <TextField\r\n                  name=\"pin\"\r\n                  error={errors.pin ? true : false}\r\n                  label=\"PIN\"\r\n                  onChange={handleChangeValue}\r\n                  value={state.pin}\r\n                  helperText={errors.pin ? errors.pin : null}\r\n                  inputProps={{ maxLength: 6 }}\r\n                />\r\n              </Box>\r\n\r\n              <Box sx={{ display: \"flex\", flexDirection: \"row\", pt: 2 }}>\r\n                <Button\r\n                  color=\"inherit\"\r\n                  disabled={activeStep === 0}\r\n                  onClick={handleBack}\r\n                  sx={{ mr: 1, color: \"text.primary\" }}\r\n                >\r\n                  Back\r\n                </Button>\r\n                <Box sx={{ flex: \"1 1 auto\" }} />\r\n\r\n                <LoadingButton loading={isLoading} onClick={handleNext}>\r\n                  {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\r\n                </LoadingButton>\r\n              </Box>\r\n            </React.Fragment>\r\n          ) : (\r\n            activeStep === 2 && (\r\n              <React.Fragment>\r\n                <Typography sx={{ mt: 2, mb: 1, color: \"text.secondary\" }}>\r\n                  Step {activeStep + 1}\r\n                </Typography>\r\n\r\n                <Box sx={{ display: \"flex\", flexDirection: \"column\", width: \"300px\", gap: \"16px\" }}>\r\n                  <TextField\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    onChange={handleChangeValue}\r\n                    value={state.password}\r\n                    error={errors.newPW ? true : false}\r\n                    label=\"New password\"\r\n                    helperText={errors.newPW ? errors.newPW : null}\r\n                  />\r\n\r\n                  <TextField\r\n                    type=\"password\"\r\n                    name=\"confirmPassword\"\r\n                    onChange={handleChangeValue}\r\n                    value={state.confirmPassword}\r\n                    error={errors.confirmPW ? true : false}\r\n                    label=\"Confirm password\"\r\n                    helperText={errors.confirmPW ? errors.confirmPW : null}\r\n                  />\r\n                </Box>\r\n\r\n                <Box sx={{ display: \"flex\", flexDirection: \"row\", pt: 2 }}>\r\n                  <Button\r\n                    color=\"inherit\"\r\n                    disabled={activeStep === 0}\r\n                    onClick={handleBack}\r\n                    sx={{ mr: 1, color: \"text.primary\" }}\r\n                  >\r\n                    Back\r\n                  </Button>\r\n                  <Box sx={{ flex: \"1 1 auto\" }} />\r\n\r\n                  <LoadingButton loading={isLoading} onClick={handleNext}>\r\n                    {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\r\n                  </LoadingButton>\r\n                </Box>\r\n              </React.Fragment>\r\n            )\r\n          )}\r\n        </Box>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport Home from \"components/HomePage\";\r\nconst HomePage = () => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const toggle = () => {\r\n    setOpen(!isOpen);\r\n  };\r\n\r\n  return <Home toggle={toggle} isOpen={isOpen} />;\r\n};\r\n\r\nexport default HomePage;\r\n","export default __webpack_public_path__ + \"static/media/img3.a62fee75.jpg\";","import styled from \"styled-components\";\r\nimport { Link as LinkR } from \"react-router-dom\";\r\n\r\nexport const SignupContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100vh;\r\n  color: black;\r\n  z-index: 1;\r\n  @media screen and (max-width: 800px) {\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const ImgWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  z-index: 2;\r\n  overflow: hidden;\r\n  :before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.2) 100%),\r\n      linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0%, transparent 100%);\r\n    z-index: 3;\r\n  }\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  -o-object-fit: cover;\r\n`;\r\n\r\nexport const InfoContainer = styled.form`\r\n  width: 600px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #fff;\r\n  z-index: 3;\r\n  @media screen and (max-width: 800px) {\r\n    position: absolute;\r\n    width: 500px;\r\n  }\r\n  @media screen and (max-width: 600px) {\r\n    position: absolute;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const InfoTop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 25%;\r\n  margin: 0 60px;\r\n  padding-top: 18%;\r\n`;\r\n\r\nexport const InfoBottom = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 0 60px;\r\n`;\r\n\r\nexport const TxbWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: none;\r\n  position: relative;\r\n  height: 50px;\r\n  width: 100%;\r\n  margin: 8px 0;\r\n  /* border: 1px solid rgba(0, 0, 0, 0.5); */\r\n  /* border-radius: 4px; */\r\n  align-items: center;\r\n  & > label {\r\n    pointer-events: none;\r\n    position: absolute;\r\n    transition: all 0.2s ease-in-out;\r\n    font-size: 13px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 15px;\r\n    background: #fff;\r\n  }\r\n  & > i {\r\n    position: absolute;\r\n    right: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const Txb = styled.input`\r\n  border: 1px solid rgba(0, 0, 0, 0.5);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  height: 50px;\r\n  outline: none;\r\n  padding: 0 10px;\r\n  &:focus + label,\r\n  &:not(:placeholder-shown) + label {\r\n    top: 0;\r\n    left: 12px;\r\n    font-size: 11px;\r\n    font-weight: 700;\r\n    padding: 0 5px;\r\n  }\r\n  &:focus {\r\n    border: 2px solid rgba(0, 0, 0, 1);\r\n  }\r\n`;\r\n\r\nexport const ButtonSignup = styled(LinkR)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 10px 80px;\r\n  border-radius: 3px;\r\n  font-weight: 700;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n  text-decoration: none;\r\n  color: #fff;\r\n  background: #000;\r\n  &:hover {\r\n    :before {\r\n      background: rgba(255, 255, 255, 0.15);\r\n      position: absolute;\r\n      z-index: 999;\r\n      content: \"\";\r\n      width: 228px;\r\n      height: 40px;\r\n    }\r\n  }\r\n  &:active {\r\n    :before {\r\n      background: rgba(255, 255, 255, 0.2);\r\n      position: absolute;\r\n      z-index: 3;\r\n      content: \"\";\r\n      width: 228px;\r\n      height: 40px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LoginDiv = styled.div`\r\n  margin: 10px 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  text-align: right;\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const Signin = styled(LinkR)`\r\n  text-decoration: none;\r\n  color: black;\r\n  font-weight: 700;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: rgba(0, 0, 0, 0.8);\r\n    text-decoration: underline;\r\n  }\r\n`;\r\nexport const ErrorWrapper = styled.div`\r\n  font-size: 12px;\r\n  color: red;\r\n  margin-top: 10px;\r\n`;\r\n\r\nexport const Headline = styled.h1`\r\n  font-size: 40px;\r\n`;\r\n\r\nexport const Subline = styled.div`\r\n  font-size: 33px;\r\n  font-weight: 700;\r\n`;\r\n\r\nexport const Description = styled.div`\r\n  margin-top: 25px;\r\n  font-size: 12px;\r\n  color: rgba(0, 0, 0, 0.8);\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport img from \"../../images/img3.jpg\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport {\r\n  SignupContainer,\r\n  ImgWrapper,\r\n  Img,\r\n  InfoContainer,\r\n  Txb,\r\n  TxbWrapper,\r\n  InfoTop,\r\n  InfoBottom,\r\n  ButtonSignup,\r\n  LoginDiv,\r\n  Signin,\r\n  Headline,\r\n  Subline,\r\n  Description,\r\n  ErrorWrapper,\r\n} from \"./SignupElements\";\r\nimport { UserAPI } from \"api\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nconst SignupSection = () => {\r\n  const history = useHistory();\r\n  const [hidden, setHidden] = useState(false);\r\n  const isHidden = () => {\r\n    setHidden(!hidden);\r\n  };\r\n  const dispatch = useDispatch();\r\n\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    fullName: \"\",\r\n    name: \"\",\r\n    password: \"\",\r\n    repassword: \"\",\r\n  });\r\n\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const handleValueChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n  const handleSignup = async () => {\r\n    if (data.password !== data.repassword) {\r\n      setMessage(\"Password must be the same\");\r\n    } else {\r\n      const register = await UserAPI.register({\r\n        email: data.email,\r\n        password: data.password,\r\n        name: data.name,\r\n        fullName: data.fullName,\r\n      });\r\n      if (register?.response?.status === 400) {\r\n        setMessage(register.response.data.msg);\r\n      } else {\r\n        history.push(\"/home\");\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Register Successfully\",\r\n            type: \"success\",\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <SignupContainer>\r\n      {/* Video background */}\r\n      <ImgWrapper>\r\n        <Img src={img} type=\"image/jpg\" />\r\n      </ImgWrapper>\r\n\r\n      {/* Form sign up */}\r\n      <InfoContainer>\r\n        {/* Top form */}\r\n        <InfoTop>\r\n          <Headline>SIGN UP</Headline>\r\n          <Subline>HI!</Subline>\r\n          <Description>Create your new account</Description>\r\n        </InfoTop>\r\n        {/* Bottom form */}\r\n        <InfoBottom>\r\n          {/* Email */}\r\n          <TxbWrapper>\r\n            <Txb id=\"user\" placeholder=\" \" name=\"email\" onChange={handleValueChange}></Txb>\r\n            <label htmlFor=\"user\">Email</label>\r\n          </TxbWrapper>\r\n\r\n          {/* Full name */}\r\n          <TxbWrapper>\r\n            <Txb\r\n              id=\"fName\"\r\n              placeholder=\" \"\r\n              maxLength=\"50\"\r\n              name=\"fullName\"\r\n              onChange={handleValueChange}\r\n            ></Txb>\r\n            <label htmlFor=\"fName\">Full name</label>\r\n          </TxbWrapper>\r\n\r\n          {/* Nick name */}\r\n          <TxbWrapper>\r\n            <Txb\r\n              id=\"name\"\r\n              placeholder=\" \"\r\n              maxLength=\"50\"\r\n              name=\"name\"\r\n              onChange={handleValueChange}\r\n            ></Txb>\r\n            <label htmlFor=\"name\">Nickname</label>\r\n          </TxbWrapper>\r\n\r\n          {/* Password */}\r\n          <TxbWrapper>\r\n            <Txb\r\n              id=\"pwd\"\r\n              placeholder=\" \"\r\n              type={hidden ? \"text\" : \"password\"}\r\n              name=\"password\"\r\n              onChange={handleValueChange}\r\n            ></Txb>\r\n            <label htmlFor=\"pwd\">Password</label>\r\n            <i onClick={isHidden} name=\"repwd\" style={{ cursor: \"pointer\" }}>\r\n              <Icon icon=\"dashicons:hidden\" />\r\n            </i>\r\n          </TxbWrapper>\r\n\r\n          {/* Repassword */}\r\n          <TxbWrapper>\r\n            <Txb\r\n              id=\"repwd\"\r\n              placeholder=\" \"\r\n              type={hidden ? \"text\" : \"password\"}\r\n              name=\"repassword\"\r\n              onChange={handleValueChange}\r\n            ></Txb>\r\n            <label htmlFor=\"repwd\">Verifying password</label>\r\n            <i onClick={isHidden} name=\"repwd\" style={{ cursor: \"pointer\" }}>\r\n              <Icon icon=\"dashicons:hidden\" />\r\n            </i>\r\n          </TxbWrapper>\r\n\r\n          {message ? <ErrorWrapper>{message}</ErrorWrapper> : null}\r\n\r\n          <ButtonSignup to=\"#\" onClick={handleSignup}>\r\n            Sign up\r\n          </ButtonSignup>\r\n\r\n          {/* Icons */}\r\n          {/* <ItemsWrapper>\r\n            <span\r\n              className=\"iconify\"\r\n              data-icon=\"akar-icons:facebook-fill\"\r\n            ></span>\r\n            <span className=\"iconify\" data-icon=\"fa-brands:instagram\"></span>\r\n            <span\r\n              className=\"iconify\"\r\n              data-icon=\"entypo-social:twitter-with-circle\"\r\n            ></span>\r\n          </ItemsWrapper> */}\r\n\r\n          <LoginDiv>\r\n            Already have account ?<Signin to=\"/home\">Sign in</Signin>\r\n          </LoginDiv>\r\n        </InfoBottom>\r\n      </InfoContainer>\r\n    </SignupContainer>\r\n  );\r\n};\r\n\r\nexport default SignupSection;\r\n","import React from \"react\";\r\nimport SignupSection from \"../components/SignupPage\";\r\n\r\nconst Signup = () => {\r\n  return <SignupSection />;\r\n};\r\n\r\nexport default Signup;\r\n","import styled from \"styled-components\";\r\n\r\nexport const InfoContainer = styled.div`\r\n  width: 100%;\r\n  margin: 0 0 20px;\r\n`;\r\n\r\nexport const InfoWrapper = styled.div`\r\n  width: 100%;\r\n  height: calc(100vh - 40px - 54px);\r\n  margin: 0 auto;\r\n  padding: 0 16px;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n\r\n  @media (max-width: 700px) {\r\n    overflow: visible;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nexport const InfoItem = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  & .MuiOutlinedInput-notchedOutline {\r\n    border-color: ${({ theme }) => theme.borderColor};\r\n  }\r\n\r\n  & input,\r\n  textarea {\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n\r\n  & label {\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div`\r\n  margin-top: 20px;\r\n  width: 180px;\r\n  height: 180px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: all 0.1s ease;\r\n\r\n  &:hover {\r\n    box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.4);\r\n    filter: brightness(0.95);\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n`;\r\n","import { Button, Grid, TextField } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  AvatarWrapper,\r\n  InfoContainer,\r\n  InfoItem,\r\n  InfoWrapper,\r\n} from \"./InformationSectionElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { AuthAPI, UPLOAD, UserAPI } from \"api\";\r\nimport LoadingButton from \"@mui/lab/LoadingButton\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\n\r\nconst initialUser = {\r\n  avatar: \"\",\r\n  name: \"\",\r\n  fullName: \"\",\r\n  from: \"\",\r\n  creditCard: \"\",\r\n  desc: \"\",\r\n};\r\n\r\nexport default function InformationSection({ user }) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [newUser, setNewUser] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (user)\r\n      setNewUser({\r\n        ...initialUser,\r\n        name: user.name,\r\n        fullName: user.fullName,\r\n        from: user.from,\r\n        creditCard: user.creditCard,\r\n        desc: user.desc,\r\n      });\r\n    return () => {\r\n      setNewUser(null);\r\n    };\r\n  }, [user]);\r\n\r\n  const handleClick = () => {\r\n    const input = document.getElementById(\"avatar\");\r\n    input.click();\r\n  };\r\n\r\n  const handleUploadAvatar = (e) => {\r\n    setNewUser({ ...newUser, avatar: URL.createObjectURL(e.target.files[0]) });\r\n  };\r\n\r\n  const handleChangeValue = (e) => {\r\n    var { name, value } = e.target;\r\n    if (name === \"creditCard\") {\r\n      if (value.length < 14 && /^[A-Za-z0-9]+$/.test(value)) {\r\n        value = value.toUpperCase();\r\n        value = value.replace(\" \", \"\");\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    setNewUser({ ...newUser, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const newObj = newUser;\r\n    setIsLoading(true);\r\n    if (!newUser.avatar) {\r\n      delete newObj.avatar;\r\n    } else {\r\n      try {\r\n        let file = await fetch(newObj.avatar)\r\n          .then((r) => r.blob())\r\n          .then((blobFile) => new File([blobFile], \"Avatar\", { type: \"image/png\" }));\r\n\r\n        console.log(file);\r\n\r\n        let formData = new FormData();\r\n        formData.append(\"image\", file);\r\n\r\n        const res = await UPLOAD.uploadAvatar(formData);\r\n        if (res.status === 200) {\r\n          newObj.avatar = res.data.url;\r\n        }\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    }\r\n\r\n    updateUser(newObj);\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const updateUser = async (user) => {\r\n    try {\r\n      const res = await UserAPI.updateUser(user);\r\n      if (res.status === 200) {\r\n        const newUser = await AuthAPI.getUserInfo();\r\n        dispatch(actions.getCurrentUser(newUser.data));\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Updated User\",\r\n            type: \"success\",\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  if (!newUser) return null;\r\n\r\n  return (\r\n    <InfoContainer>\r\n      <InfoWrapper>\r\n        <Grid container spacing={2} justifyContent=\"center\">\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <AvatarWrapper>\r\n                <Avatar\r\n                  onClick={handleClick}\r\n                  src={\r\n                    newUser.avatar ? newUser.avatar : [user?.avatar ? user.avatar : DefaultAvatar]\r\n                  }\r\n                  alt=\"avatar\"\r\n                />\r\n                <input\r\n                  onChange={handleUploadAvatar}\r\n                  hidden\r\n                  id=\"avatar\"\r\n                  type=\"file\"\r\n                  accept=\"image/png, image/jpeg\"\r\n                />\r\n              </AvatarWrapper>\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <Button\r\n                onClick={handleClick}\r\n                variant=\"outlined\"\r\n                startIcon={<Icon icon=\"ant-design:camera-outlined\" />}\r\n              >\r\n                Change\r\n              </Button>\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <TextField\r\n                name=\"fullName\"\r\n                onChange={handleChangeValue}\r\n                defaultValue={newUser.fullName}\r\n                label=\"Full Name\"\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n              />\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <TextField\r\n                name=\"name\"\r\n                onChange={handleChangeValue}\r\n                defaultValue={newUser.name}\r\n                label=\"Nick Name\"\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n              />\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <TextField\r\n                name=\"from\"\r\n                onChange={handleChangeValue}\r\n                defaultValue={newUser.from}\r\n                label=\"From\"\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n              />\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <TextField\r\n                name=\"creditCard\"\r\n                onChange={handleChangeValue}\r\n                value={newUser.creditCard}\r\n                label=\"Credit Card\"\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n              />\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <InfoItem>\r\n              <TextField\r\n                name=\"desc\"\r\n                onChange={handleChangeValue}\r\n                defaultValue={newUser.desc}\r\n                label=\"Description\"\r\n                multiline\r\n                rows={4}\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n              />\r\n            </InfoItem>\r\n          </Grid>\r\n          <Grid item xs={12} justifyContent=\"center\">\r\n            <InfoItem>\r\n              <LoadingButton\r\n                onClick={handleSubmit}\r\n                loading={isLoading}\r\n                style={{ width: \"300px\" }}\r\n                variant=\"contained\"\r\n              >\r\n                Update\r\n              </LoadingButton>\r\n            </InfoItem>\r\n          </Grid>\r\n        </Grid>\r\n      </InfoWrapper>\r\n    </InfoContainer>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const MenuContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 300px;\r\n  min-height: calc(100vh - 54px);\r\n  padding: 8px 4px;\r\n  border-right: 1px solid ${({ theme }) => theme.contrastColor};\r\n\r\n  @media (max-width: 700px) {\r\n    padding: 8px 16px;\r\n    min-height: 60px;\r\n    max-width: 100%;\r\n    border-right: none;\r\n    border-bottom: 1px solid ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const MenuTitle = styled.div`\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: 25px;\r\n  font-weight: 700;\r\n  filter: opacity(0.6);\r\n  margin-left: 8px;\r\n\r\n  @media (max-width: 700px) {\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nexport const MenuListItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n  margin-top: 12px;\r\n\r\n  @media (max-width: 700px) {\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    overflow-x: auto;\r\n    gap: 10px;\r\n  }\r\n`;\r\n\r\nexport const MenuItem = styled(NavLink)`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 8px;\r\n  border-radius: 5px;\r\n  min-width: 240px;\r\n  color: ${({ theme }) => theme.textColor};\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  & > .iconify {\r\n    font-size: 26px;\r\n  }\r\n\r\n  & > span {\r\n    margin-left: 8px;\r\n  }\r\n\r\n  &.active {\r\n    background: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    border: 1px solid ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { MenuContainer, MenuItem, MenuListItem, MenuTitle } from \"./MenuElements\";\r\nimport { Icon } from \"@iconify/react\";\r\n\r\nexport default function Menu() {\r\n  return (\r\n    <MenuContainer>\r\n      <MenuTitle>Setting</MenuTitle>\r\n      <MenuListItem>\r\n        <MenuItem to=\"info\" activeClassName=\"active\">\r\n          <Icon icon=\"gg:profile\" />\r\n          <span>Your Information</span>\r\n        </MenuItem>\r\n        <MenuItem to=\"security\" activeClassName=\"active\">\r\n          <Icon icon=\"bi:shield-lock\" />\r\n          <span>Security</span>\r\n        </MenuItem>\r\n        <MenuItem to=\"history\" activeClassName=\"active\">\r\n          <Icon icon=\"fluent:history-24-filled\" />\r\n          <span>Payment History</span>\r\n        </MenuItem>\r\n      </MenuListItem>\r\n    </MenuContainer>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const SecurityContainer = styled.div`\r\n  width: 100%;\r\n  margin: 20px 0;\r\n`;\r\n\r\nexport const SecurityWrapper = styled.div`\r\n  width: 80%;\r\n  height: calc(100vh - 40px - 54px);\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  & .MuiOutlinedInput-notchedOutline {\r\n    border-color: ${({ theme }) => theme.borderColor};\r\n  }\r\n\r\n  & input {\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n\r\n  & label {\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n`;\r\n","import { Button, Grid, TextField } from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport { Item, SecurityContainer, SecurityWrapper } from \"./SecuritySectionElements\";\r\nimport { AuthAPI, UserAPI } from \"api\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"redux/actions\";\r\n\r\nconst initialState = {\r\n  password: \"\",\r\n  newPassword: \"\",\r\n};\r\n\r\nconst initialError = {\r\n  password: false,\r\n  newPassword: false,\r\n};\r\n\r\nexport default function SecuritySection() {\r\n  const [password, setPassword] = useState(initialState);\r\n  const [error, setError] = useState(initialError);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChangeValue = (e) => {\r\n    const { name, value } = e.target;\r\n    setError(initialError);\r\n    setPassword({ ...password, [name]: value });\r\n  };\r\n  const handleSubmit = async () => {\r\n    const newError = {\r\n      password: false,\r\n      newPassword: false,\r\n    };\r\n    const isCorrectPassword = await AuthAPI.checkPassword({ password: password.password });\r\n\r\n    if (!isCorrectPassword.data) {\r\n      newError.password = true;\r\n    }\r\n\r\n    if (password.newPassword.length < 6) {\r\n      newError.newPassword = true;\r\n    }\r\n    setError(newError);\r\n    if (!newError.password && !newError.newPassword) {\r\n      const res = await UserAPI.updateUser({ password: password.newPassword });\r\n      if (res.status === 200) {\r\n        dispatch(\r\n          actions.toast.showToast({\r\n            message: \"Changed password\",\r\n            type: \"success\",\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <SecurityContainer>\r\n      <SecurityWrapper>\r\n        <Grid container spacing={2} justifyContent=\"center\">\r\n          <Grid item xs={12}>\r\n            <Item>\r\n              <TextField\r\n                error={error.password}\r\n                name=\"password\"\r\n                onChange={handleChangeValue}\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n                value={password.password}\r\n                helperText={`${error.password ? \"Incorrect Password\" : \"\"}`}\r\n              />\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Item>\r\n              <TextField\r\n                error={error.newPassword}\r\n                name=\"newPassword\"\r\n                onChange={handleChangeValue}\r\n                type=\"password\"\r\n                label=\"New password\"\r\n                value={password.newPassword}\r\n                style={{ width: \"300px\" }}\r\n                size=\"small\"\r\n                helperText={`${error.newPassword ? \"Password at least 6 letters\" : \"\"}`}\r\n              />\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12} justifyContent=\"center\">\r\n            <Item>\r\n              <Button\r\n                disabled={!password.password || !password.newPassword ? true : false}\r\n                onClick={handleSubmit}\r\n                style={{ width: \"300px\" }}\r\n                variant=\"contained\"\r\n              >\r\n                Change\r\n              </Button>\r\n            </Item>\r\n          </Grid>\r\n        </Grid>\r\n      </SecurityWrapper>\r\n    </SecurityContainer>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const PaymentHistoryContainer = styled.div`\r\n  margin: 0 auto;\r\n  padding: 8px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const PaymentItemContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px;\r\n\r\n  @media (max-width: 840px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  &:not(:last-child) {\r\n    border-bottom: 1px solid ${({ theme }) => theme.borderColor};\r\n  }\r\n`;\r\n\r\nexport const PaymentPhotoWrapper = styled.div`\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  width: 120px;\r\n\r\n  @media (max-width: 840px) {\r\n    justify-content: flex-start;\r\n  }\r\n`;\r\n\r\nexport const Photo = styled.img`\r\n  max-width: 120px;\r\n  max-height: 100px;\r\n  object-fit: contain;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport const PaymentDetail = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n  margin-left: 12px;\r\n  margin-right: 60px;\r\n  flex: 1;\r\n\r\n  & > .payment-date {\r\n    min-width: 100px;\r\n    text-align: center;\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n\r\n  & > .payment-price {\r\n    color: ${({ type }) => (type === \"received\" ? `var(--success-color)` : `var(--danger-color)`)};\r\n    font-size: 1.6rem;\r\n    min-width: 60px;\r\n    text-align: center;\r\n  }\r\n\r\n  & > .payment-type {\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  @media (max-width: 840px) {\r\n    margin-right: 0;\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nexport const NameUser = styled(NavLink)`\r\n  color: ${({ theme }) => theme.textColor};\r\n  text-decoration: none;\r\n  align-self: center;\r\n  width: 100px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const DownloadButton = styled.div`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  display: flex;\r\n  font-size: 1.6rem;\r\n  user-select: none;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n`;\r\n","import { Icon } from \"@iconify/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  DownloadButton,\r\n  NameUser,\r\n  PaymentDetail,\r\n  PaymentHistoryContainer,\r\n  PaymentItemContainer,\r\n  PaymentPhotoWrapper,\r\n  Photo,\r\n} from \"./PaymentHistoryElements\";\r\nimport * as api from \"api\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport LoadingSection from \"components/LoadingSection\";\r\n\r\nexport default function PaymentHistory() {\r\n  const [payments, setPayments] = useState([]);\r\n  const { currentUser } = useSelector(authState$);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getPayments = async () => {\r\n      try {\r\n        const res = await api.PaymentAPI.getPayments();\r\n        setPayments(res.data);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.log(error.response);\r\n      }\r\n    };\r\n\r\n    getPayments();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <PaymentHistoryContainer>\r\n        {isLoading ? (\r\n          <LoadingSection />\r\n        ) : (\r\n          payments.map((payment) => (\r\n            <PaymentItem\r\n              key={payment._id}\r\n              type={currentUser._id === payment.posterId._id ? \"received\" : \"payment\"}\r\n              payment={payment}\r\n            />\r\n          ))\r\n        )}\r\n      </PaymentHistoryContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nconst PaymentItem = ({ type, payment }) => {\r\n  return (\r\n    <PaymentItemContainer>\r\n      <PaymentPhotoWrapper>\r\n        <Photo src={payment.postId.image.url} alt=\"photo\" />\r\n      </PaymentPhotoWrapper>\r\n      <PaymentDetail type={type}>\r\n        <NameUser\r\n          to={\r\n            type === \"received\"\r\n              ? `/profile/${payment.userId._id}`\r\n              : `/profile/${payment.posterId._id}`\r\n          }\r\n        >\r\n          @{type === \"received\" ? payment.userId.name : payment.posterId.name}\r\n        </NameUser>\r\n        <div className=\"payment-type\">{type}</div>\r\n        <div className=\"payment-price\">${payment.price}</div>\r\n        <div className=\"payment-date\">{moment(payment.createdAt).format(\"ll\")}</div>\r\n      </PaymentDetail>\r\n\r\n      <DownloadButton>\r\n        <Icon icon=\"fluent:arrow-download-16-filled\" />\r\n      </DownloadButton>\r\n    </PaymentItemContainer>\r\n  );\r\n};\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport InformationSection from \"./InformationSection\";\r\nimport Menu from \"./Menu\";\r\nimport SecuritySection from \"./SecuritySection\";\r\nimport PaymentHistory from \"./PaymentHistorySection\";\r\n\r\nconst EditProfileContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  max-width: calc(var(--max-width) - 32px);\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.primary};\r\n  padding: 54px 0 0;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 700px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport default function EditProfile() {\r\n  const { currentUser } = useSelector(authState$);\r\n  const history = useHistory();\r\n\r\n  const checkIsLoggedIn = useCallback(() => {\r\n    const TOKEN = localStorage.getItem(\"access_token\");\r\n    if (!currentUser && !TOKEN) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history]);\r\n\r\n  useEffect(() => {\r\n    checkIsLoggedIn();\r\n  }, [checkIsLoggedIn]);\r\n\r\n  return (\r\n    <EditProfileContainer>\r\n      <Menu />\r\n      <Switch>\r\n        <Route path=\"/setting/info\">\r\n          <InformationSection user={currentUser} />\r\n        </Route>\r\n        <Route path=\"/setting/security\">{currentUser && <SecuritySection />}</Route>\r\n        <Route path=\"/setting/history\">{currentUser && <PaymentHistory />}</Route>\r\n      </Switch>\r\n    </EditProfileContainer>\r\n  );\r\n}\r\n","import EditProfile from \"components/EditProfilePage\";\r\nimport React from \"react\";\r\nimport Header from \"components/Header\";\r\n\r\nexport default function EditProfilePage() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <EditProfile />\r\n    </>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const ReportedPostList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  max-width: 670px;\r\n  padding: 0 48px;\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 0 16px;\r\n  }\r\n`;\r\n\r\nexport const ReportedPostContainer = styled.div`\r\n  &:not(:first-child) {\r\n    margin-top: 20px;\r\n  }\r\n`;\r\n\r\nexport const ReportDetail = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  border: 1px solid ${({ theme }) => theme.borderColor};\r\n  padding: 10px 16px;\r\n`;\r\n\r\nexport const ReportDetailLeft = styled.div`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n\r\n  & > .reason-report {\r\n    color: var(--warning-color);\r\n  }\r\n`;\r\n\r\nexport const ReportDetailRight = styled.div``;\r\n\r\nexport const GroupButton = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n`;\r\n\r\nexport const ReportButton = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  color: #fefefe;\r\n  cursor: pointer;\r\n\r\n  &.danger {\r\n    background-color: var(--danger-color);\r\n  }\r\n\r\n  &.success {\r\n    background-color: var(--success-color);\r\n  }\r\n\r\n  &:after {\r\n    content: ${({ tooltip }) => (tooltip ? \"success\" : \"danger\")};\r\n  }\r\n`;\r\n\r\nexport const PostDetail = styled.div`\r\n  margin-top: 6px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  box-shadow: var(--box-shadow);\r\n\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const PostDetailTop = styled.div`\r\n  display: flex;\r\n  padding: 8px 14px;\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div``;\r\n\r\nexport const Avatar = styled(NavLink)`\r\n  & > img {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nexport const DetailRightSide = styled.div`\r\n  margin-left: 8px;\r\n`;\r\n\r\nexport const NameAuthorLink = styled(NavLink)`\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n`;\r\n\r\nexport const CreatedDate = styled.div`\r\n  color: ${({ theme }) => theme.subTextColor};\r\n  font-size: 0.9rem;\r\n  margin-top: 4px;\r\n`;\r\n\r\nexport const PostDescription = styled.div`\r\n  padding: 0 14px 8px;\r\n`;\r\n\r\nexport const PostPhoto = styled.img`\r\n  display: flex;\r\n  width: 100%;\r\n  max-height: 500px;\r\n  object-fit: contain;\r\n`;\r\n\r\nexport const ReportTop = styled.div`\r\n  display: flex;\r\n  /* justify-content: space-between; */\r\n  align-items: center;\r\n  width: 670px;\r\n  padding: 0 48px;\r\n  margin-bottom: 16px;\r\n\r\n  & > .report-title {\r\n    padding: 6px 0;\r\n    color: ${({ theme }) => theme.textColor};\r\n    opacity: 0.6;\r\n    font-size: 1.4rem;\r\n    font-weight: 700;\r\n  }\r\n\r\n  & > .report-count {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: 8px;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    background-color: var(--danger-color);\r\n\r\n    & > span {\r\n      font-weight: 700;\r\n      color: #fefefe;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 0 16px;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  AvatarWrapper,\r\n  CreatedDate,\r\n  DetailRightSide,\r\n  GroupButton,\r\n  NameAuthorLink,\r\n  PostDescription,\r\n  PostDetail,\r\n  PostDetailTop,\r\n  PostPhoto,\r\n  ReportButton,\r\n  ReportDetail,\r\n  ReportDetailLeft,\r\n  ReportDetailRight,\r\n  ReportedPostContainer,\r\n  ReportedPostList,\r\n  ReportTop,\r\n} from \"./ReportedPostElements\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport * as api from \"api\";\r\nimport moment from \"moment\";\r\nimport * as actions from \"redux/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport LoadingSection from \"../../LoadingSection\";\r\n\r\nexport default function ReportedPosts() {\r\n  const [reports, setReports] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const fetchReportPosts = async () => {\r\n      const res = await api.ReportAPI.getAllReports();\r\n\r\n      setReports(res.data);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchReportPosts();\r\n\r\n    return () => {\r\n      setReports([]);\r\n    };\r\n  }, []);\r\n\r\n  const handleAcceptReport = async (reportId) => {\r\n    try {\r\n      const res = await api.ReportAPI.deleteReport(reportId);\r\n      const newPosts = reports.filter((report) => report.reportedPostId._id !== res.data && report);\r\n      setReports(newPosts);\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Deleted Post\",\r\n          type: \"success\",\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleRefuseReport = async (reportId) => {\r\n    try {\r\n      await api.ReportAPI.refuseReport(reportId);\r\n      const newPosts = reports.filter((report) => report._id !== reportId);\r\n      setReports(newPosts);\r\n\r\n      dispatch(\r\n        actions.toast.showToast({\r\n          message: \"Refused Report\",\r\n          type: \"success\",\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <LoadingSection />\r\n      ) : (\r\n        <>\r\n          <ReportTop>\r\n            <div className=\"report-title\">Reports</div>\r\n            <div className=\"report-count\">\r\n              <span>{reports.length}</span>\r\n            </div>\r\n          </ReportTop>\r\n          <ReportedPostList>\r\n            {reports.map((report) => (\r\n              <ReportedPostItem\r\n                key={report._id}\r\n                report={report}\r\n                handleAccept={handleAcceptReport}\r\n                handleRefuse={handleRefuseReport}\r\n              />\r\n            ))}\r\n          </ReportedPostList>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst ReportedPostItem = ({ report, handleAccept, handleRefuse }) => {\r\n  return (\r\n    <>\r\n      <ReportedPostContainer>\r\n        <ReportDetail>\r\n          <ReportDetailLeft>\r\n            <div className=\"reason-report\">\r\n              <span>Reason: </span>\r\n              {report.reason}\r\n            </div>\r\n            <div className=\"created-date\">\r\n              <span>Created date: </span>\r\n              {moment(report.createdAt).format(\"LLL\")}\r\n            </div>\r\n          </ReportDetailLeft>\r\n\r\n          <ReportDetailRight>\r\n            <GroupButton>\r\n              <ReportButton className=\"success\" onClick={() => handleRefuse(report._id)}>\r\n                <Icon icon=\"ep:close-bold\" />\r\n              </ReportButton>\r\n              <ReportButton className=\"danger\" onClick={() => handleAccept(report._id)}>\r\n                <Icon icon=\"bi:check-lg\" />\r\n              </ReportButton>\r\n            </GroupButton>\r\n          </ReportDetailRight>\r\n        </ReportDetail>\r\n      </ReportedPostContainer>\r\n\r\n      <PostDetail>\r\n        <PostDetailTop>\r\n          <AvatarWrapper>\r\n            <Avatar to={`/profile/${report.reportedPostId.userId._id}`}>\r\n              <img src={report.reportedPostId.userId.avatar} alt=\"avatar\" />\r\n            </Avatar>\r\n          </AvatarWrapper>\r\n\r\n          <DetailRightSide>\r\n            <NameAuthorLink to={`/profile/${report.reportedPostId.userId._id}`}>\r\n              @{report.reportedPostId.userId.name}\r\n            </NameAuthorLink>\r\n            <CreatedDate>{moment(report.reportedPostId.createdAt).fromNow()}</CreatedDate>\r\n          </DetailRightSide>\r\n        </PostDetailTop>\r\n\r\n        <PostDescription>{report.reportedPostId.desc}</PostDescription>\r\n\r\n        <PostPhoto src={report.reportedPostId.image.url} alt=\"photo\" />\r\n      </PostDetail>\r\n    </>\r\n  );\r\n};\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const AdminSidebarContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 300px;\r\n  min-height: calc(100vh - 54px);\r\n  padding: 14px 0 14px 16px;\r\n  border-right: 1px solid ${({ theme }) => theme.contrastColor};\r\n\r\n  @media (max-width: 900px) {\r\n    max-width: 260px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 8px 16px;\r\n    min-height: 60px;\r\n    max-width: 100%;\r\n    border-right: none;\r\n    border-bottom: 1px solid ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const AdminSidebarTitle = styled.div`\r\n  color: ${({ theme }) => theme.textColor};\r\n  font-size: 25px;\r\n  font-weight: 700;\r\n  filter: opacity(0.6);\r\n\r\n  @media (max-width: 768px) {\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nexport const AdminSidebarMenu = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n  margin-top: 12px;\r\n  padding-right: 8px;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    overflow-x: auto;\r\n    gap: 10px;\r\n  }\r\n`;\r\n\r\nexport const AdminMenuItem = styled(NavLink)`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 8px;\r\n  border-radius: 5px;\r\n  min-width: 240px;\r\n  color: ${({ theme }) => theme.textColor};\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  & > .iconify {\r\n    font-size: 26px;\r\n  }\r\n\r\n  & > span {\r\n    margin-left: 8px;\r\n  }\r\n\r\n  &.active {\r\n    background: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.hoverColor};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    border: 1px solid ${({ theme }) => theme.hoverColor};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport {\r\n  AdminMenuItem,\r\n  AdminSidebarContainer,\r\n  AdminSidebarMenu,\r\n  AdminSidebarTitle,\r\n} from \"./SideBarElements\";\r\n\r\nexport default function AdminSidebar() {\r\n  return (\r\n    <AdminSidebarContainer>\r\n      <AdminSidebarTitle>Administrator</AdminSidebarTitle>\r\n      <AdminSidebarMenu>\r\n        <AdminMenuItem to=\"dashboard\" activeClassName=\"active\">\r\n          <Icon icon=\"ci:dashboard\" />\r\n          <span>Dashboard</span>\r\n        </AdminMenuItem>\r\n\r\n        <AdminMenuItem to=\"report\" activeClassName=\"active\">\r\n          <Icon icon=\"carbon:report\" />\r\n          <span>Reported Posts</span>\r\n        </AdminMenuItem>\r\n      </AdminSidebarMenu>\r\n    </AdminSidebarContainer>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const DashboardContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 30px;\r\n  padding: 16px;\r\n\r\n  @media (max-width: 700px) {\r\n    grid-gap: 10px;\r\n  }\r\n`;\r\n\r\nexport const DashboardCardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 32px 60px 32px 24px;\r\n  border-radius: 15px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  box-shadow: 0 0 6px 0 rgba(0 0 0 / 7%);\r\n\r\n  @media (max-width: 700px) {\r\n    padding: 24px 48px 24px 24px;\r\n  }\r\n`;\r\n\r\nexport const DashboardCardWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const DashboardCardBoxed = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n  font-size: 30px;\r\n  border-radius: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: red;\r\n  position: relative;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    inset: 0;\r\n    border-radius: inherit;\r\n    background-color: currentColor;\r\n    opacity: 0.1;\r\n  }\r\n`;\r\n\r\nexport const DashboardCardContent = styled.div`\r\n  margin-left: 16px;\r\n\r\n  & > .card-number {\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    color: ${({ theme }) => theme.textColor};\r\n  }\r\n\r\n  & > .card-title {\r\n    font-weight: 700;\r\n    color: ${({ theme }) => theme.subTextColor};\r\n    white-space: nowrap;\r\n  }\r\n`;\r\n\r\nexport const DashboardReport = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px 8px 12px 24px;\r\n  border-radius: 15px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  width: 100%;\r\n  box-shadow: 0 0 6px 0 rgba(0 0 0 / 7%);\r\n\r\n  & > .report-title {\r\n    font-weight: 700;\r\n    color: ${({ theme }) => theme.subTextColor};\r\n  }\r\n\r\n  & > .report-count {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    font-weight: 700;\r\n    color: #fefefe;\r\n    background-color: var(--danger-color);\r\n  }\r\n`;\r\n","import { Icon } from \"@iconify/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  DashboardCardBoxed,\r\n  DashboardCardContainer,\r\n  DashboardCardContent,\r\n  DashboardCardWrapper,\r\n  DashboardContainer,\r\n  DashboardReport,\r\n} from \"./DashboardElements\";\r\nimport * as api from \"api\";\r\nimport LoadingSection from \"components/LoadingSection\";\r\n\r\nconst initialTotal = {\r\n  totalUsers: 0,\r\n  totalPosts: 0,\r\n  totalReports: 0,\r\n};\r\n\r\nexport default function Dashboard() {\r\n  const [total, setTotal] = useState(initialTotal);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getTotal = async () => {\r\n      try {\r\n        const res = await api.AdminAPI.getTotal();\r\n\r\n        setTotal(res.data);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.log(error.reponse);\r\n      }\r\n    };\r\n\r\n    getTotal();\r\n\r\n    return () => setTotal(null);\r\n  }, []);\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <LoadingSection />\r\n      ) : (\r\n        <DashboardContainer>\r\n          <DashboardCard\r\n            color=\"#46B5FD\"\r\n            icon={<Icon icon=\"fluent:people-community-28-filled\" />}\r\n            total={total.totalUsers}\r\n            title=\"Total Users\"\r\n          />\r\n          <DashboardCard\r\n            color=\"#FF8B4F\"\r\n            icon={<Icon icon=\"carbon:report\" />}\r\n            total={total.totalPosts}\r\n            title=\"Total Posts\"\r\n          />\r\n\r\n          <DashboardReport>\r\n            <div className=\"report-title\">Report posts</div>\r\n            <div className=\"report-count\">{total.totalReports}</div>\r\n          </DashboardReport>\r\n        </DashboardContainer>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst DashboardCard = ({ color, icon, total, title }) => {\r\n  return (\r\n    <DashboardCardContainer>\r\n      <DashboardCardWrapper>\r\n        <DashboardCardBoxed style={{ color: color }}>{icon}</DashboardCardBoxed>\r\n\r\n        <DashboardCardContent>\r\n          <div className=\"card-number\">{total}</div>\r\n          <div className=\"card-title\">{title}</div>\r\n        </DashboardCardContent>\r\n      </DashboardCardWrapper>\r\n    </DashboardCardContainer>\r\n  );\r\n};\r\n","import ReportedPosts from \"components/Administrator/ReportedPosts\";\r\nimport AdminSidebar from \"components/Administrator/SideBar\";\r\nimport Header from \"components/Header\";\r\nimport React, { useCallback, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Dashboard from \"components/Administrator/Dashboard\";\r\n\r\nconst AdminContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  max-width: calc(var(--max-width));\r\n  width: 100%;\r\n  padding: 54px 0 0;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const AdminMainbar = styled.div`\r\n  margin: 0 auto;\r\n  padding: 8px 0;\r\n  height: calc(100vh - 54px);\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport default function AdminPage() {\r\n  const { currentUser } = useSelector(authState$);\r\n  const history = useHistory();\r\n\r\n  const checkIsLoggedIn = useCallback(() => {\r\n    if (!currentUser && !currentUser?.isAdmin) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history]);\r\n\r\n  useEffect(() => {\r\n    checkIsLoggedIn();\r\n  }, [checkIsLoggedIn]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <AdminContainer>\r\n        <AdminSidebar />\r\n\r\n        <AdminMainbar>\r\n          <Switch>\r\n            <Route path=\"/administrator/dashboard\">\r\n              <Dashboard />\r\n            </Route>\r\n            <Route path=\"/administrator/report\">\r\n              <ReportedPosts />\r\n            </Route>\r\n          </Switch>\r\n        </AdminMainbar>\r\n      </AdminContainer>\r\n    </>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { css } from \"styled-components\";\r\n\r\nexport const ChatMenuContainer = styled.div`\r\n  position: relative;\r\n  width: 320px;\r\n  height: 100%;\r\n  border-right: 1px solid ${({ theme }) => theme.borderColor};\r\n  overflow: hidden;\r\n\r\n  @media (max-width: 1024px) {\r\n    width: 280px;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    width: 83px;\r\n  }\r\n`;\r\n\r\nexport const ChatMenuWrapper = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: ${({ isSearching }) => (isSearching ? \"-100%\" : \"0\")};\r\n  opacity: ${({ isSearching }) => (isSearching ? \"0\" : \"1\")};\r\n  visibility: ${({ isSearching }) => (isSearching ? \"hidden\" : \"visible\")};\r\n  transition: all 0.2s ease;\r\n`;\r\n\r\nexport const ChatMenuTop = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px 16px 12px;\r\n\r\n  & > .chat-title {\r\n    font-size: 28px;\r\n    font-weight: 700;\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 12px 16px 8px;\r\n  }\r\n`;\r\n\r\nconst buttonStyle = css`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  outline: none;\r\n  border: none;\r\n  background: transparent;\r\n  font-size: 1.6rem;\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: all 0.1s ease;\r\n  cursor: pointer;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    inset: -6px;\r\n    background: transparent;\r\n    border-radius: 50%;\r\n    opacity: 0.1;\r\n  }\r\n\r\n  &:hover:before {\r\n    background: ${({ theme }) => theme.textColor};\r\n  }\r\n`;\r\n\r\nexport const ChatSearchButton = styled.button`\r\n  ${buttonStyle}\r\n`;\r\n\r\nexport const ChatSearchWrapper = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  right: ${({ isSearching }) => (isSearching ? \"0\" : \"-100%\")};\r\n  opacity: ${({ isSearching }) => (isSearching ? \"1\" : \"0\")};\r\n  visibility: ${({ isSearching }) => (isSearching ? \"visible\" : \"hidden\")};\r\n  transition: all 0.2s ease;\r\n`;\r\n\r\nexport const ChatSearchTop = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 20px 16px 12px;\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 12px 16px 8px;\r\n  }\r\n`;\r\n\r\nexport const ChatBackButton = styled.div`\r\n  ${buttonStyle}\r\n`;\r\n\r\nexport const ChatSearchSection = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1.4rem;\r\n  padding: 6px 8px;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  flex: 1;\r\n  border-radius: 20px;\r\n`;\r\n\r\nexport const ChatSearchInput = styled.input`\r\n  flex: 1;\r\n  height: 20px;\r\n  outline: none;\r\n  border: none;\r\n  background: transparent;\r\n  color: ${({ theme }) => theme.textColor};\r\n  margin-left: 6px;\r\n`;\r\n\r\nexport const ChatSearchBottom = styled.div`\r\n  padding: 8px;\r\n`;\r\n\r\nexport const ChatSearchQuery = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 8px;\r\n  font-size: 1rem;\r\n\r\n  & > .iconify {\r\n    font-size: 1.8rem;\r\n  }\r\n\r\n  & > div {\r\n    margin-left: 8px;\r\n    font-size: 0.9rem;\r\n    font-weight: 500;\r\n  }\r\n`;\r\n\r\nexport const SearchResults = styled.div`\r\n  margin-top: 10px;\r\n`;\r\n\r\nexport const UserContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px;\r\n  border-radius: 5px;\r\n  transition: all 0.1s ease;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const UserAvatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const UserName = styled.div`\r\n  margin-left: 8px;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const ConversationContainer = styled(NavLink)`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 8px;\r\n  border-radius: 5px;\r\n  color: ${({ theme }) => theme.textColor};\r\n  text-decoration: none;\r\n  transition: all 0.1s ease;\r\n  cursor: pointer;\r\n\r\n  & > .conv-content {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  & > .badge {\r\n    padding: 5px;\r\n    margin: 0 6px;\r\n    border-radius: 50%;\r\n    background-color: var(--primary-color);\r\n\r\n    @media (max-width: 700px) {\r\n      position: absolute;\r\n      margin: 0;\r\n      top: 5px;\r\n      right: 5px;\r\n    }\r\n  }\r\n\r\n  &.active:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    inset: 0;\r\n    background-color: var(--primary-color);\r\n    border-radius: inherit;\r\n    opacity: 0.1;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n\r\n  &.active:hover {\r\n    background-color: unset;\r\n  }\r\n`;\r\n\r\nexport const ConvAvatar = styled.img`\r\n  position: relative;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const ConvName = styled.div`\r\n  position: relative;\r\n  font-size: 16px;\r\n  margin-left: 16px;\r\n  font-weight: ${({ seen }) => !seen && \"700\"};\r\n\r\n  @media (max-width: 700px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const ConvLastMessage = styled.div`\r\n  position: relative;\r\n  margin-left: 16px;\r\n  margin-top: 2px;\r\n  font-size: 14px;\r\n  color: ${({ theme }) => theme.subTextColor};\r\n\r\n  @media (max-width: 700px) {\r\n    display: none;\r\n  }\r\n`;\r\n","import React, { useRef } from \"react\";\r\nimport {\r\n  ChatMenuContainer,\r\n  ChatMenuTop,\r\n  ChatMenuWrapper,\r\n  ChatSearchButton,\r\n  ChatSearchWrapper,\r\n  ConvAvatar,\r\n  ConversationContainer,\r\n  ConvLastMessage,\r\n  ConvName,\r\n  ChatSearchTop,\r\n  ChatBackButton,\r\n  ChatSearchSection,\r\n  ChatSearchInput,\r\n  ChatSearchQuery,\r\n  ChatSearchBottom,\r\n  SearchResults,\r\n  UserContainer,\r\n  UserAvatar,\r\n  UserName,\r\n} from \"./ChatMenuElements\";\r\nimport moment from \"moment\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport * as api from \"api\";\r\n\r\nexport default function ChatMenu({ onFindConv, conversations, currentUser, setCurrentChat }) {\r\n  const [isSearching, setIsSearching] = React.useState(false);\r\n  const [query, setQuery] = React.useState(\"\");\r\n  const [users, setUsers] = React.useState([]);\r\n  const typingTimeout = useRef(null);\r\n\r\n  const handleSearch = (e) => {\r\n    const value = e.target.value;\r\n    setQuery(value);\r\n\r\n    if (typingTimeout.current) {\r\n      clearTimeout(typingTimeout.current);\r\n    }\r\n\r\n    typingTimeout.current = setTimeout(() => {\r\n      handleSubmitSearch(value);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSubmitSearch = async (value) => {\r\n    try {\r\n      await api.UserAPI.searchUsers(value).then((res) => {\r\n        setUsers(res.data);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setIsSearching(!isSearching);\r\n    setQuery(\"\");\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <ChatMenuContainer>\r\n      <ChatMenuWrapper isSearching={isSearching}>\r\n        <ChatMenuTop>\r\n          <div className=\"chat-title\">Chat</div>\r\n          <ChatSearchButton onClick={() => setIsSearching(!isSearching)}>\r\n            <Icon icon=\"akar-icons:chat-edit\" />\r\n          </ChatSearchButton>\r\n        </ChatMenuTop>\r\n        <div style={{ padding: \"8px\" }}>\r\n          {conversations.map((c) => (\r\n            <div key={c._id} onClick={() => setCurrentChat(c)}>\r\n              <Conversation conversation={c} currentUser={currentUser} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </ChatMenuWrapper>\r\n\r\n      <ChatSearchWrapper isSearching={isSearching}>\r\n        <ChatSearchTop>\r\n          <ChatBackButton onClick={handleBack}>\r\n            <Icon icon=\"eva:arrow-back-fill\" />\r\n          </ChatBackButton>\r\n          <ChatSearchSection>\r\n            <Icon icon=\"bx:search\" id=\"search-icon\" />\r\n            <ChatSearchInput\r\n              type=\"text\"\r\n              placeholder=\"Search...\"\r\n              value={query}\r\n              onChange={handleSearch}\r\n            />\r\n          </ChatSearchSection>\r\n        </ChatSearchTop>\r\n\r\n        <ChatSearchBottom>\r\n          {query && (\r\n            <ChatSearchQuery>\r\n              <Icon icon=\"bx:search\" id=\"search-icon\" />\r\n              <div>Search for \"{query}\"</div>\r\n            </ChatSearchQuery>\r\n          )}\r\n\r\n          {users.length !== 0 && (\r\n            <SearchResults>\r\n              {users.map((user) => (\r\n                <UserSearch\r\n                  key={user._id}\r\n                  user={user}\r\n                  onFindConv={onFindConv}\r\n                  handleBack={handleBack}\r\n                />\r\n              ))}\r\n            </SearchResults>\r\n          )}\r\n        </ChatSearchBottom>\r\n      </ChatSearchWrapper>\r\n    </ChatMenuContainer>\r\n  );\r\n}\r\n\r\nconst Conversation = ({ conversation, currentUser }) => {\r\n  const [friend, setFriend] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    const user = conversation.members.find((member) => member._id !== currentUser._id);\r\n    setFriend(user);\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <ConversationContainer to={`/messages/${conversation._id}`} activeClassName=\"active\">\r\n      <div className=\"conv-content\">\r\n        <ConvAvatar src={friend?.avatar} alt=\"\" />\r\n        <div>\r\n          <ConvName seen={true}>{friend?.fullName}</ConvName>\r\n          {conversation.lastMessage && (\r\n            <ConvLastMessage>\r\n              {conversation.lastMessage}  {moment(conversation.updatedAt).toNow(true)}\r\n            </ConvLastMessage>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* {!conversation.seen && <span className=\"badge\"></span>} */}\r\n    </ConversationContainer>\r\n  );\r\n};\r\n\r\nconst UserSearch = ({ user, onFindConv, handleBack }) => {\r\n  const handleOnClick = async (receiverId) => {\r\n    try {\r\n      await api.ConversationAPI.findConversation(receiverId).then((res) => {\r\n        onFindConv(res.data);\r\n        handleBack();\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <UserContainer onClick={() => handleOnClick(user._id)}>\r\n      <UserAvatar alt=\"\" src={user.avatar} />\r\n      <UserName>{user.fullName}</UserName>\r\n    </UserContainer>\r\n  );\r\n};\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const ChatBoxWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const ChatBoxTop = styled.div`\r\n  padding: 8px 10px 6px;\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 2px 10px 0;\r\n  }\r\n`;\r\n\r\nexport const FriendInfo = styled(NavLink)`\r\n  position: relative;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.textColor};\r\n  text-decoration: none;\r\n  padding: 6px 8px 6px 6px;\r\n  border-radius: 5px;\r\n  transition: all 0.1s ease;\r\n\r\n  /* @media (max-width: 1024px) {\r\n    padding: 6px 8px 6px 6px;\r\n  } */\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const FriendAvatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const FriendName = styled.div`\r\n  margin-left: 8px;\r\n  font-weight: 700;\r\n`;\r\n\r\nexport const ChatBoxBottom = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n`;\r\n\r\nexport const ChatOptions = styled.div`\r\n  display: flex;\r\n  margin-right: 12px;\r\n  gap: 10px;\r\n`;\r\n\r\nexport const OptionItem = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1.4rem;\r\n  cursor: pointer;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    inset: -4px;\r\n    border-radius: 50%;\r\n    opacity: 0.1;\r\n    transition: all 0.1s ease;\r\n  }\r\n\r\n  &:hover::before {\r\n    background-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nexport const ChatInput = styled.textarea`\r\n  flex: 1;\r\n  border: 0;\r\n  outline: 0;\r\n  overflow: hidden;\r\n  min-height: 20px;\r\n  resize: none;\r\n  background: transparent;\r\n  border-bottom: 2px solid ${({ theme }) => theme.contrastColor};\r\n  font-size: 16px;\r\n  height: 28px;\r\n  line-height: 20px;\r\n  padding: 4px;\r\n  color: ${({ theme }) => theme.textColor};\r\n  transition: border 0.15s ease-out 0s;\r\n\r\n  &:focus,\r\n  &:not(:placeholder-shown) {\r\n    border-bottom: 2px solid ${({ theme }) => theme.subTextColor};\r\n  }\r\n  &::placeholder {\r\n    font-weight: 500;\r\n  }\r\n`;\r\n\r\nexport const ChatSubmitButton = styled.button`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  outline: none;\r\n  border: none;\r\n  background: transparent;\r\n  margin-left: 12px;\r\n  color: var(--primary-color);\r\n  font-size: 1.4rem;\r\n  cursor: pointer;\r\n\r\n  &.disable {\r\n    opacity: 0.3;\r\n    cursor: default;\r\n  }\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    inset: -8px;\r\n    border-radius: 50%;\r\n    opacity: 0.1;\r\n    transition: all 0.1s ease;\r\n  }\r\n\r\n  &:hover::before {\r\n    background-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nexport const ChatMessages = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 16px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport const MessageContainer = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  margin-top: 6px;\r\n  /* align-self: flex-end; */\r\n\r\n  &.own {\r\n    justify-items: flex-end;\r\n    flex-direction: row-reverse;\r\n  }\r\n`;\r\n\r\nexport const MessageAvatar = styled.img`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const MessageText = styled.div`\r\n  max-width: 60%;\r\n  margin: 0 10px;\r\n  padding: 10px;\r\n  border-radius: 20px;\r\n  border: 1px solid ${({ theme }) => theme.contrastColor};\r\n\r\n  ${MessageContainer}.own & {\r\n    margin: 0 0 0 10px;\r\n    border: none;\r\n    background-color: ${({ theme }) => theme.contrastColor};\r\n  }\r\n`;\r\n\r\nexport const MessageOptions = styled.div`\r\n  align-self: center;\r\n  display: flex;\r\n  gap: 16px;\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  transition: all 0.1s ease;\r\n\r\n  ${MessageContainer}:hover & {\r\n    opacity: 1;\r\n    visibility: visible;\r\n  }\r\n\r\n  ${MessageContainer}.own & {\r\n    flex-direction: row-reverse;\r\n  }\r\n\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    font-size: 1.2rem;\r\n    transition: all 0.1s ease;\r\n    cursor: pointer;\r\n\r\n    &:before {\r\n      content: \"\";\r\n      position: absolute;\r\n      inset: -5px;\r\n      border-radius: 50%;\r\n      opacity: 0.1;\r\n      transition: all 0.1s ease;\r\n    }\r\n\r\n    &:hover::before {\r\n      background-color: ${({ theme }) => theme.textColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NoConv = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import { Icon } from \"@iconify/react\";\r\nimport React, { useContext, useEffect } from \"react\";\r\nimport {\r\n  ChatBoxBottom,\r\n  ChatBoxTop,\r\n  ChatBoxWrapper,\r\n  ChatInput,\r\n  ChatMessages,\r\n  ChatOptions,\r\n  ChatSubmitButton,\r\n  FriendAvatar,\r\n  FriendInfo,\r\n  FriendName,\r\n  MessageAvatar,\r\n  MessageContainer,\r\n  MessageOptions,\r\n  MessageText,\r\n  NoConv,\r\n  OptionItem,\r\n} from \"./ChatBoxElements\";\r\nimport * as api from \"api\";\r\nimport { SocketContext } from \"context/socketContext\";\r\n\r\nexport default function ChatBox({ handleLastMessage, currentChat, currentUser }) {\r\n  const [friend, setFriend] = React.useState(null);\r\n  const [messages, setMessages] = React.useState([]);\r\n  const [newMessage, setNewMessage] = React.useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = React.useState(null);\r\n  const scrollRef = React.useRef();\r\n  const socket = useContext(SocketContext);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"getMessage\", ({ message }) => {\r\n      setArrivalMessage(message);\r\n      handleLastMessage(message.conversationId, message);\r\n    });\r\n  }, [socket, handleLastMessage]);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.some((member) => member._id === arrivalMessage.sender._id) &&\r\n      setMessages((prev) => {\r\n        arrivalMessage.lastChild = true;\r\n        if (prev.length !== 0) {\r\n          if (arrivalMessage.sender._id === prev[prev.length - 1].sender._id) {\r\n            prev[prev.length - 1].lastChild = false;\r\n          }\r\n        }\r\n        return [...prev, arrivalMessage];\r\n      });\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    const findFriend = () => {\r\n      const user = currentChat?.members?.find((member) => member._id !== currentUser._id);\r\n      setFriend(user);\r\n    };\r\n\r\n    if (currentChat) findFriend();\r\n\r\n    return () => {\r\n      setFriend(null);\r\n    };\r\n  }, [currentChat, currentUser]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await api.MessageAPI.getMessages(currentChat._id);\r\n\r\n        // Handle last child message of user\r\n        const handledMessages = res.data.reduce((acc, curValue, curIndex) => {\r\n          curValue.lastChild = true;\r\n\r\n          if (curIndex !== 0) {\r\n            if (curValue.sender._id === acc[curIndex - 1].sender._id) {\r\n              acc[curIndex - 1].lastChild = false;\r\n            }\r\n          }\r\n\r\n          return [...acc, curValue];\r\n        }, []);\r\n\r\n        setMessages(handledMessages);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    if (currentChat) {\r\n      getMessages();\r\n    }\r\n\r\n    return () => {\r\n      setMessages([]);\r\n    };\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const message = {\r\n      conversationId: currentChat._id,\r\n      text: newMessage,\r\n    };\r\n\r\n    try {\r\n      await api.MessageAPI.createMessage(message).then((res) => {\r\n        setMessages([...messages, res.data]);\r\n        handleLastMessage(res.data.conversationId, res.data);\r\n        setNewMessage(\"\");\r\n\r\n        socket.emit(\"sendMessage\", {\r\n          receiverId: friend._id,\r\n          message: res.data,\r\n        });\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleEnter = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <ChatBoxWrapper>\r\n      {currentChat && friend ? (\r\n        <>\r\n          <ChatBoxTop>\r\n            <FriendSection friend={friend} />\r\n          </ChatBoxTop>\r\n          <ChatMessages>\r\n            {messages?.map((message) => (\r\n              <div key={message._id} ref={scrollRef}>\r\n                <Message message={message} own={message.sender._id === currentUser._id} />\r\n              </div>\r\n            ))}\r\n          </ChatMessages>\r\n          <ChatBoxBottom>\r\n            <ChatOptions>\r\n              <OptionItem>\r\n                <Icon icon=\"clarity:picture-line\" color=\"#fe3456\" />\r\n              </OptionItem>\r\n              <OptionItem>\r\n                <Icon icon=\"carbon:face-satisfied\" color=\"#fe3456\" />\r\n              </OptionItem>\r\n            </ChatOptions>\r\n            <ChatInput\r\n              type=\"text\"\r\n              placeholder=\"Aa\"\r\n              value={newMessage}\r\n              onChange={(e) => setNewMessage(e.target.value)}\r\n              onKeyDown={handleEnter}\r\n            />\r\n            <ChatSubmitButton onClick={handleSubmit}>\r\n              <Icon icon=\"fluent:send-16-regular\" />\r\n            </ChatSubmitButton>\r\n          </ChatBoxBottom>\r\n        </>\r\n      ) : (\r\n        <NoConv>No conversation</NoConv>\r\n      )}\r\n    </ChatBoxWrapper>\r\n  );\r\n}\r\n\r\nconst Message = ({ message, own }) => {\r\n  return (\r\n    <MessageContainer className={own ? \"own\" : \"\"}>\r\n      {own ? null : message.lastChild ? (\r\n        <MessageAvatar src={message.sender.avatar} alt=\"\" />\r\n      ) : (\r\n        <div style={{ padding: \"10px\" }}></div>\r\n      )}\r\n      <MessageText>{message.text}</MessageText>\r\n      <MessageOptions>\r\n        <div className=\"react-option\">\r\n          <Icon icon=\"akar-icons:heart\" />\r\n        </div>\r\n        <div className=\"more-option\">\r\n          <Icon icon=\"akar-icons:more-horizontal\" />\r\n        </div>\r\n      </MessageOptions>\r\n    </MessageContainer>\r\n  );\r\n};\r\n\r\nconst FriendSection = ({ friend }) => {\r\n  return (\r\n    <FriendInfo to={`/profile/${friend._id}`}>\r\n      <FriendAvatar src={friend.avatar} alt=\"\" />\r\n      <FriendName>{friend.fullName}</FriendName>\r\n    </FriendInfo>\r\n  );\r\n};\r\n","import Header from \"components/Header\";\r\nimport ChatMenu from \"components/MessengerPage/ChatMenu\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authState$ } from \"redux/selectors\";\r\nimport styled from \"styled-components\";\r\nimport * as api from \"api\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ChatBox from \"components/MessengerPage/ChatBox\";\r\n\r\nconst Messenger = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  padding: 72px 16px 16px;\r\n  margin: 0 auto;\r\n  max-width: var(--max-width);\r\n\r\n  @media (max-width: 700px) {\r\n    padding: 54px 0 0;\r\n  }\r\n`;\r\n\r\nconst MessengerWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  background-color: ${({ theme }) => theme.primary};\r\n  border: 1px solid ${({ theme }) => theme.borderColor};\r\n  border-radius: 3px;\r\n`;\r\n\r\nexport default function MessengerPage() {\r\n  const history = useHistory();\r\n  const [currentChat, setCurrentChat] = React.useState(null);\r\n  const [conversations, setConversations] = React.useState([]);\r\n  const { currentUser } = useSelector(authState$);\r\n\r\n  React.useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await api.ConversationAPI.getConversations();\r\n\r\n        setConversations(res.data);\r\n        history.push(`/messages/${res.data[0]._id}`);\r\n        setCurrentChat(res.data[0]);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    if (currentUser) {\r\n      getConversations();\r\n    } else {\r\n      setConversations([]);\r\n    }\r\n  }, [currentUser, history]);\r\n\r\n  const handleLastMessage = (convId, message) => {\r\n    const updatedConv = conversations.find((conv) => conv._id === convId);\r\n    if (updatedConv) {\r\n      updatedConv.lastMessage = message.text;\r\n      updatedConv.updatedAt = message.createdAt;\r\n\r\n      const newConversations = conversations.filter((conv) => conv._id !== convId);\r\n      setConversations([updatedConv, ...newConversations]);\r\n    }\r\n  };\r\n\r\n  const handlefindConv = (conv) => {\r\n    if (conversations.some((c) => c._id === conv._id)) {\r\n      setCurrentChat(conv);\r\n      history.push(`/messages/${conv._id}`);\r\n    } else {\r\n      setConversations((prev) => [conv, ...prev]);\r\n      setCurrentChat(conv);\r\n      history.push(`/messages/${conv._id}`);\r\n    }\r\n  };\r\n\r\n  if (!currentUser) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Messenger>\r\n        <MessengerWrapper>\r\n          <ChatMenu\r\n            onFindConv={handlefindConv}\r\n            conversations={conversations}\r\n            currentUser={currentUser}\r\n            setCurrentChat={setCurrentChat}\r\n          />\r\n          <ChatBox\r\n            handleLastMessage={handleLastMessage}\r\n            currentChat={currentChat}\r\n            currentUser={currentUser}\r\n          />\r\n        </MessengerWrapper>\r\n      </Messenger>\r\n    </>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const PostContainer = styled.div`\r\n  width: 100%;\r\n  max-width: var(--max-width);\r\n  margin: auto;\r\n  padding-top: 72px;\r\n  padding-bottom: 10px;\r\n\r\n  & .relative__post-container {\r\n    margin: 0 16px;\r\n\r\n    @media (max-width: 700px) {\r\n      margin: 20px 16px 0;\r\n    }\r\n\r\n    & .relative__post-container-title {\r\n      display: flex;\r\n      align-items: center;\r\n      color: ${({ theme }) => theme.subTextColor};\r\n      font-weight: 500;\r\n\r\n      & > span {\r\n        flex: 1;\r\n        margin-left: 10px;\r\n        height: 1px;\r\n        background-color: ${({ theme }) => theme.subTextColor};\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n\r\n    & .relative__post-container_post__list {\r\n      display: grid;\r\n      grid-template-columns: repeat(5, 1fr);\r\n      grid-row-gap: 30px;\r\n      grid-column-gap: 18px;\r\n      margin-top: 20px;\r\n\r\n      @media (max-width: 1050px) {\r\n        grid-template-columns: repeat(4, 1fr);\r\n      }\r\n\r\n      @media (max-width: 850px) {\r\n        grid-template-columns: repeat(3, 1fr);\r\n        grid-column-gap: 10px;\r\n      }\r\n\r\n      @media (max-width: 600px) {\r\n        grid-template-columns: repeat(2, 1fr);\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PostWrapper = styled.div`\r\n  width: 100%;\r\n  max-width: 550px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const CategoryWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 16px 20px;\r\n  gap: 12px;\r\n  \r\n`\r\n\r\nexport const CategoryItem = styled.div`\r\n  padding: 4px 8px;\r\n  background-color: ${({ theme }) => theme.contrastColor};\r\n  border-radius: 4px;\r\n`\r\n\r\nexport const RelativePostItemContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: unset;\r\n  text-decoration: none;\r\n\r\n  & .relative__post-item_info {\r\n    width: 100%;\r\n    display: flex;\r\n    margin-top: 4px;\r\n    padding: 8px;\r\n    border-radius: 5px;\r\n    transition: all 0.1s ease;\r\n    color: unset;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background-color: ${({ theme }) => theme.contrastColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const RelativeItemPhoto = styled(Link)`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  & > img {\r\n    width: 100%;\r\n    height: 250px;\r\n    border-radius: 10px 10px 0 0;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const UserInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 8px;\r\n  width: 100%;\r\n\r\n  & .user__info-name {\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    max-width: 120px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  & .user__info-nickName {\r\n    color: ${({ theme }) => theme.subTextColor};\r\n    font-size: 14px;\r\n    max-width: 120px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n`;\r\n","import PostItem from \"components/NewsfeedPage/Post/PostItem\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  PostContainer,\r\n  PostWrapper,\r\n  RelativePostItemContainer,\r\n  Avatar,\r\n  UserInfo,\r\n  RelativeItemPhoto,\r\n  CategoryItem,\r\n  CategoryWrapper,\r\n} from \"./ViewPostElements\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport * as api from \"api\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DefaultAvatar from \"images/DefaultAvatar.png\";\r\n\r\nexport default function ViewPost() {\r\n  const [post, setPost] = useState(null);\r\n  const [relativePosts, setRelativePosts] = useState([]);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      if (id) {\r\n        await api.PostAPI.fetchPost(id).then((res) => setPost(res.data));\r\n      }\r\n    };\r\n\r\n    fetchPost();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    const fetchRelativePosts = async () => {\r\n      if (post) {\r\n        await api.PostAPI.fetchRelativePosts(post._id).then((res) => setRelativePosts(res.data));\r\n      }\r\n    };\r\n\r\n    fetchRelativePosts();\r\n  }, [post]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [id]);\r\n\r\n  return (\r\n    <PostContainer>\r\n      <PostWrapper>{post && <PostItem post={post} />}</PostWrapper>\r\n      <CategoryWrapper>\r\n      {post && post.category.map((cate, index) => <CategoryItem key={index}>#{cate}</CategoryItem>)}\r\n      </CategoryWrapper>\r\n      <div className=\"relative__post-container\">\r\n        <div className=\"relative__post-container-title\">\r\n          Relative posts <span />\r\n        </div>\r\n\r\n        <div className=\"relative__post-container_post__list\">\r\n          {relativePosts.map((post) => (\r\n            <RelativePostItem key={post._id} post={post} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </PostContainer>\r\n  );\r\n}\r\n\r\nconst RelativePostItem = ({ post }) => {\r\n  return (\r\n    <RelativePostItemContainer>\r\n      <RelativeItemPhoto to={`/post/${post._id}`} className=\"relative__post-item_photo\">\r\n        <img src={post.image.url} alt=\"\" />\r\n      </RelativeItemPhoto>\r\n      <Link to={`/profile/${post.userId._id}`} className=\"relative__post-item_info\">\r\n        <Avatar src={post.userId.avatar || DefaultAvatar} alt=\"\" />\r\n        <UserInfo>\r\n          <div className=\"user__info-name\">{post.userId.fullName}</div>\r\n          <div className=\"user__info-nickName\">@{post.userId.name}</div>\r\n        </UserInfo>\r\n      </Link>\r\n    </RelativePostItemContainer>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Header from \"components/Header\";\r\nimport ViewPost from \"components/ViewPostPage\";\r\n\r\nexport default function ViewPostPage() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <ViewPost />\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { GlobalStyles } from \"./styles/global\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { ThemeContext } from \"./context/themeContext\";\r\nimport { socket, SocketContext } from \"context/socketContext\";\r\nimport { lightTheme, darkTheme } from \"./styles/theme\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport NewsFeedPage from \"./pages/NewsFeedPage\";\r\nimport NotFoundPage from \"pages/NotFoundPage\";\r\nimport ProfilePage from \"pages/ProfilePage\";\r\nimport PaypalPage from \"pages/PaypalPage\";\r\nimport Toast from \"./components/Toast\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toastState$ } from \"redux/selectors\";\r\nimport handleToast from \"components/Toast/HandleToast\";\r\nimport SearchPage from \"pages/SearchPage\";\r\nimport Home from \"pages/HomePage\";\r\nimport SignupPage from \"pages/SignupPage\";\r\nimport EditProfilePage from \"pages/EditProfilePage\";\r\nimport AdminPage from \"pages/AdminPage\";\r\nimport MessengerPage from \"pages/MessengerPage\";\r\nimport ViewPostPage from \"pages/ViewPostPage\";\r\nimport { PayPalScriptProvider } from \"@paypal/react-paypal-js\";\r\n\r\nfunction App() {\r\n  const context = useContext(ThemeContext);\r\n  const { theme } = context;\r\n  const toast = useSelector(toastState$);\r\n\r\n  useEffect(() => {\r\n    if (toast.message !== \"\") {\r\n      handleToast(toast);\r\n    }\r\n  }, [toast]);\r\n\r\n  const handleLoggedIn = () => {\r\n    const TOKEN = localStorage.getItem(\"access_token\");\r\n    if (TOKEN) return true;\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <PayPalScriptProvider options={{ \"client-id\": process.env.REACT_APP_PAYPAL_CLIENT_ID }}>\r\n      <BrowserRouter>\r\n        <ThemeProvider theme={theme === \"light\" ? lightTheme : darkTheme}>\r\n          <SocketContext.Provider value={socket}>\r\n            <GlobalStyles />\r\n\r\n            <Switch>\r\n              <Route exact path=\"/\" component={NewsFeedPage} />\r\n              <Route path=\"/home\" component={Home} />\r\n              <Route path=\"/signup\" component={SignupPage} />\r\n              <Route path=\"/search\" component={SearchPage} />\r\n              <Route path=\"/login\">\r\n                {handleLoggedIn() ? <Redirect to=\"/\" /> : <NotFoundPage />}\r\n              </Route>\r\n              <Route path=\"/setting\" component={EditProfilePage} />\r\n              <Redirect from=\"/detail/\" to=\"/\" exact />\r\n              <Route path=\"/profile/:userId\" component={ProfilePage} />\r\n              <Route path=\"/checkout/:postId\" component={PaypalPage} />\r\n              <Route path=\"/administrator\" component={AdminPage} />\r\n              <Route path=\"/messages\" component={MessengerPage} />\r\n              <Route path=\"/post/:id\" component={ViewPostPage} />\r\n              <Route path=\"*\" component={NotFoundPage} />\r\n              <Redirect to=\"/\" />\r\n            </Switch>\r\n\r\n            <Toast />\r\n          </SocketContext.Provider>\r\n        </ThemeProvider>\r\n      </BrowserRouter>\r\n    </PayPalScriptProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default function handleToast({ message = \"\", type = \"\", duration = 2000 }) {\r\n  const main = document.getElementById(\"toast\");\r\n  if (main) {\r\n    const toast = document.createElement(\"div\");\r\n\r\n    const autoRemoveChild = setTimeout(() => {\r\n      main.removeChild(toast);\r\n    }, duration + 1000);\r\n\r\n    toast.onclick = (e) => {\r\n      if (e.target.closest(\".toast__close\")) {\r\n        main.removeChild(toast);\r\n        clearTimeout(autoRemoveChild);\r\n      }\r\n    };\r\n\r\n    const icon = {\r\n      success: \"clarity:success-standard-solid\",\r\n      danger: \"ic:round-dangerous\",\r\n      warning: \"clarity:warning-standard-solid\",\r\n    };\r\n\r\n    toast.classList.add(\"toast\", `toast--${type}`);\r\n    const delay = (duration / 1000).toFixed(2);\r\n\r\n    toast.style.animation = `slideInRight 0.5s ease, dropDown 0.5s ease ${delay}s forwards`;\r\n    toast.innerHTML = `\r\n        <div class=\"toast__icon\">\r\n            <span class=\"iconify\" data-icon=\"${icon[type]}\"></span>\r\n        </div>\r\n        <div class=\"toast__message\">${message}</div>\r\n        <div class=\"toast__close\">\r\n            <span class=\"iconify\" data-icon=\"eva:close-fill\"></span>\r\n        </div>     \r\n    `;\r\n    main.appendChild(toast);\r\n  }\r\n}\r\n","export const INIT_STATE = {\r\n  auth: {\r\n    loggedIn: false,\r\n    isLoading: false,\r\n    currentUser: undefined,\r\n    errMsg: \"\",\r\n  },\r\n  posts: {\r\n    isLoading: false,\r\n    data: [],\r\n    profile: undefined,\r\n    topLiked: undefined,\r\n  },\r\n  comments: {\r\n    isLoading: false,\r\n    data: [],\r\n    commentId: undefined,\r\n  },\r\n  notifications: {\r\n    data: [],\r\n  },\r\n  modal: {\r\n    isShow: false,\r\n  },\r\n  toast: {\r\n    message: \"\",\r\n    type: \"\",\r\n    duration: 2000,\r\n  },\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport posts from \"./posts\";\r\nimport auth from \"./auth\";\r\nimport modal from \"./modal\";\r\nimport comments from \"./comments\";\r\nimport notifications from \"./notifications\";\r\nimport toast from \"./toast\";\r\n\r\nexport default combineReducers({\r\n  posts,\r\n  auth,\r\n  modal,\r\n  comments,\r\n  notifications,\r\n  toast,\r\n});\r\n","import { getTopLikedPosts } from \"redux/actions/posts\";\r\nimport { INIT_STATE } from \"../../constant\";\r\nimport {\r\n  createPost,\r\n  getPosts,\r\n  getProfilePosts,\r\n  getType,\r\n  reactPost,\r\n  interactUser,\r\n  getPostsLoadMore,\r\n  searchPosts,\r\n  getProfileUser,\r\n  resetPosts,\r\n  updatePost,\r\n  deletePost,\r\n} from \"../actions\";\r\n\r\nexport default function postsReducers(state = INIT_STATE.posts, action) {\r\n  switch (action.type) {\r\n    case getType(resetPosts):\r\n      return {\r\n        ...state,\r\n        data: [],\r\n      };\r\n    case getType(getPosts.getPostsRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        data: [],\r\n      };\r\n    case getType(getPosts.getPostsSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [...new Map(action.payload.map((item) => [item[\"_id\"], item])).values()],\r\n      };\r\n    case getType(getPosts.getPostsFailure):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case getType(getPostsLoadMore.getPostsLoadMoreRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(getPostsLoadMore.getPostsLoadMoreSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [\r\n          ...new Map(\r\n            [...state.data, ...action.payload].map((item) => [item[\"_id\"], item])\r\n          ).values(),\r\n        ],\r\n      };\r\n    case getType(getProfilePosts.getProfilePostsRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case getType(getProfilePosts.getProfilePostsSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [...state.data, ...action.payload],\r\n      };\r\n    case getType(getProfilePosts.getProfilePostsFailure):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [],\r\n        profile: undefined,\r\n      };\r\n    case getType(getTopLikedPosts.getTopLikedPostsRequest):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(getTopLikedPosts.getTopLikedPostsSuccess):\r\n      return {\r\n        ...state,\r\n        topLiked: action.payload,\r\n      };\r\n    case getType(getProfileUser):\r\n      return {\r\n        ...state,\r\n        profile: action.payload,\r\n      };\r\n    case getType(searchPosts.searchPostsRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(searchPosts.searchPostsSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [...action.payload.posts],\r\n      };\r\n    case getType(createPost.createPostRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(createPost.createPostSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [action.payload, ...state.data],\r\n      };\r\n    case getType(createPost.createPostFailure):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n    case getType(updatePost):\r\n      return {\r\n        ...state,\r\n        topLiked: state.topLiked.map((post) =>\r\n          post._id === action.payload._id ? action.payload : post\r\n        ),\r\n        data: state.data.map((post) => (post._id === action.payload._id ? action.payload : post)),\r\n      };\r\n    case getType(reactPost.reactPostRequest):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(reactPost.reactPostSuccess):\r\n      return {\r\n        ...state,\r\n        topLiked: state.topLiked.map((post) =>\r\n          post._id === action.payload._id ? action.payload : post\r\n        ),\r\n        data: state.data.map((post) => (post._id === action.payload._id ? action.payload : post)),\r\n      };\r\n    case getType(reactPost.reactPostFailure):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case getType(interactUser.interactUserRequest):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(interactUser.interactUserSuccess):\r\n      return {\r\n        ...state,\r\n        profile: action.payload,\r\n      };\r\n    case getType(interactUser.interactUserFailure):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(deletePost.deletePostRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(deletePost.deletePostSuccess):\r\n      return {\r\n        ...state,\r\n        data: state.data.filter((post) => post._id !== action.payload),\r\n        isLoading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { INIT_STATE } from \"constant\";\r\nimport { login, getType, logout, getCurrentUser } from \"redux/actions\";\r\n\r\nexport default function userReducers(state = INIT_STATE.auth, action) {\r\n  switch (action.type) {\r\n    case getType(login.loginRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(login.loginSuccess):\r\n      return {\r\n        ...state,\r\n        loggedIn: true,\r\n        isLoading: false,\r\n        currentUser: action.payload,\r\n        errMsg: \"\",\r\n      };\r\n    case getType(getCurrentUser):\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n      };\r\n    case getType(login.loginFailure):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errMsg: action.payload,\r\n      };\r\n    case getType(logout.logoutRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(logout.logoutSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        currentUser: undefined,\r\n        loggedIn: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { INIT_STATE } from \"constant\";\r\nimport { showModal, hideModal, getType } from \"redux/actions\";\r\n\r\nexport default function modalReducers(state = INIT_STATE.modal, action) {\r\n  switch (action.type) {\r\n    case getType(showModal):\r\n      return {\r\n        isShow: true,\r\n      };\r\n    case getType(hideModal):\r\n      return {\r\n        isShow: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { INIT_STATE } from \"constant\";\r\nimport {\r\n  getType,\r\n  showBoxComment,\r\n  fetchComments,\r\n  createComment,\r\n  createReply,\r\n  deleteReply,\r\n} from \"redux/actions\";\r\nimport { deleteComment } from \"redux/actions/comments\";\r\n\r\nexport default function commentReducers(state = INIT_STATE.comments, action) {\r\n  switch (action.type) {\r\n    case getType(showBoxComment.showBoxCommentRequest):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(showBoxComment.showBoxCommentSuccess):\r\n      return {\r\n        ...state,\r\n        commentId: action.payload,\r\n      };\r\n    case getType(fetchComments.fetchCommentsSuccess):\r\n      return {\r\n        ...state,\r\n        data: [\r\n          ...new Map(\r\n            [...action.payload, ...state.data].map((item) => [item[\"_id\"], item])\r\n          ).values(),\r\n        ],\r\n      };\r\n    case getType(createComment.createCommentRequest):\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case getType(createComment.createCommentSuccess):\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: [action.payload, ...state.data],\r\n      };\r\n    case getType(deleteComment.deleteCommentSuccess):\r\n      return {\r\n        ...state,\r\n        data: state.data.filter((comment) => comment._id !== action.payload._id),\r\n      };\r\n    case getType(deleteComment.deleteCommentFailure):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(createReply.createReplyRequest):\r\n      return {\r\n        ...state,\r\n      };\r\n    case getType(createReply.createReplySuccess):\r\n      return {\r\n        ...state,\r\n        data: state.data.map((comment) =>\r\n          comment._id === action.payload._id ? action.payload : comment\r\n        ),\r\n      };\r\n    case getType(deleteReply.deleteReplySuccess):\r\n      return {\r\n        ...state,\r\n        data: state.data.map((comment) =>\r\n          comment._id === action.payload._id ? action.payload : comment\r\n        ),\r\n      };\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n}\r\n","import { INIT_STATE } from \"constant\";\r\nimport { fetchNotifications, getType } from \"redux/actions\";\r\n\r\nexport default function notificationReducers(state = INIT_STATE.notifications, action) {\r\n  switch (action.type) {\r\n    case getType(fetchNotifications.fetchNotificationsSuccess):\r\n      return {\r\n        ...state,\r\n        data: [...action.payload],\r\n      };\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n}\r\n","import { INIT_STATE } from \"constant\";\r\nimport { getType, toast } from \"redux/actions\";\r\n\r\nexport default function toastReducers(state = INIT_STATE.toast, action) {\r\n  switch (action.type) {\r\n    case getType(toast.showToast):\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { call } from \"redux-saga/effects\";\r\n// import * as actions from \"redux/actions\";\r\nimport * as api from \"api\";\r\nimport { socket } from \"context/socketContext\";\r\n\r\nexport function* sendNotification(payload) {\r\n  try {\r\n    const res = yield call(api.NotificationAPI.createNotification, payload);\r\n\r\n    if (res && res.data.isSuccess) {\r\n      socket?.emit(\"sendNotification\", {\r\n        userId: payload.receiverId,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    return error.response;\r\n  }\r\n}\r\n","import { call, put } from \"redux-saga/effects\";\r\nimport * as actions from \"../actions\";\r\nimport * as api from \"../../api\";\r\nimport { sendNotification } from \"./notifications\";\r\n\r\nfunction* fetchPosts() {\r\n  const posts = yield call(api.PostAPI.fetchPosts);\r\n  yield put(actions.getPosts.getPostsSuccess(posts.data));\r\n}\r\n\r\nfunction* fetchPostsTimeline() {\r\n  const posts = yield call(api.PostAPI.fetchPostsTimeline);\r\n  if (posts.data.length !== 0) {\r\n    yield put(actions.getPosts.getPostsSuccess(posts.data));\r\n  }\r\n}\r\n\r\nfunction* fetchProfilePosts(userId) {\r\n  const posts = yield call(api.PostAPI.fetchProfilePosts, userId);\r\n  if (posts.data.length !== 0) {\r\n    yield put(actions.getProfilePosts.getProfilePostsSuccess(posts.data));\r\n  }\r\n}\r\n\r\nexport function* fetchPostsSaga() {\r\n  try {\r\n    const TOKEN = localStorage.getItem(\"access_token\");\r\n    if (TOKEN) {\r\n      yield fetchPostsTimeline();\r\n    } else {\r\n      yield fetchPosts();\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    yield put(actions.getPosts.getPostsFailure(error.response.data.msg));\r\n  }\r\n}\r\n\r\nexport function* fetchPostsLoadMore(action) {\r\n  try {\r\n    const res = yield call(api.PostAPI.fetchPosts, action.payload);\r\n    if (res.data.length !== 0) {\r\n      yield put(actions.getPostsLoadMore.getPostsLoadMoreSuccess(res.data));\r\n    }\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nexport function* fetchProfilePostsSaga(action) {\r\n  try {\r\n    yield fetchProfilePosts(action.payload);\r\n  } catch (error) {\r\n    console.log(error);\r\n    yield put(actions.getProfilePosts.getPostsFailure());\r\n  }\r\n}\r\n\r\nexport function* fetchTopLikedPosts() {\r\n  try {\r\n    const posts = yield call(api.PostAPI.fetchTopLikedPosts);\r\n    yield put(actions.getTopLikedPosts.getTopLikedPostsSuccess(posts.data));\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nexport function* createPostSaga(action) {\r\n  try {\r\n    const { categories, image } = yield call(api.UPLOAD.uploadImage, action.payload.image);\r\n\r\n    const res = yield call(api.PostAPI.createPost, {\r\n      ...action.payload,\r\n      category: categories,\r\n      image,\r\n    });\r\n    yield put(actions.createPost.createPostSuccess(res.data));\r\n    yield put(actions.hideModal());\r\n  } catch (error) {\r\n    yield put(actions.createPost.createPostFailure(error.response.data.msg));\r\n  }\r\n}\r\n\r\nexport function* reactPost(action) {\r\n  try {\r\n    const res = yield call(api.PostAPI.reactPost, action.payload);\r\n\r\n    yield call(sendNotification, {\r\n      receiverId: res.data.userId._id,\r\n      type: 0,\r\n      targetId: res.data._id,\r\n    });\r\n\r\n    yield put(actions.reactPost.reactPostSuccess(res.data));\r\n  } catch (error) {\r\n    yield put(actions.reactPost.reactPostFailure);\r\n  }\r\n}\r\n\r\nexport function* interactUser(action) {\r\n  try {\r\n    const res = yield call(api.UserAPI.interact, action.payload);\r\n    yield put(actions.interactUser.interactUserSuccess(res.data));\r\n\r\n    yield call(sendNotification, {\r\n      receiverId: res.data._id,\r\n      type: 2,\r\n      targetId: res.data._id,\r\n    });\r\n  } catch (error) {\r\n    yield put(actions.interactUser.interactUserFailure);\r\n  }\r\n}\r\n\r\nexport function* searchPosts(action) {\r\n  try {\r\n    const res = yield call(api.PostAPI.searchPosts, action.payload);\r\n    yield put(\r\n      actions.searchPosts.searchPostsSuccess({\r\n        posts: res.data,\r\n        page: action.payload.page,\r\n        query: action.payload.query,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error.response);\r\n  }\r\n}\r\n\r\nexport function* deletePost(action) {\r\n  try {\r\n    yield call(api.PostAPI.deletePost, action.payload);\r\n    yield put(actions.deletePost.deletePostSuccess(action.payload));\r\n    yield put(\r\n      actions.toast.showToast({\r\n        message: \"Deleted post\",\r\n        type: \"success\",\r\n      })\r\n    );\r\n  } catch (error) {\r\n    yield put(\r\n      actions.toast.showToast({\r\n        message: error.response.data.msg,\r\n        type: \"warning\",\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { call, put, take } from \"redux-saga/effects\";\r\nimport * as api from \"api\";\r\nimport * as actions from \"redux/actions\";\r\nimport { socket } from \"context/socketContext\";\r\n\r\nexport function* loginSaga(payload) {\r\n  try {\r\n    const res = yield call(api.AuthAPI.login, payload);\r\n    if (res.status === 200) {\r\n      const user = yield call(api.AuthAPI.getUserInfo);\r\n      socket?.emit(\"newUser\", {\r\n        userId: user.data._id,\r\n      });\r\n\r\n      // socket?.emit(\"sendOnlineUsers\");\r\n      yield put(actions.login.loginSuccess(user.data));\r\n    } else {\r\n      yield put(actions.login.loginFailure(res.data.msg));\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport function* logoutSaga() {\r\n  try {\r\n    yield call(api.AuthAPI.logout);\r\n    localStorage.removeItem(\"access_token\");\r\n    socket?.emit(\"logoutUser\");\r\n    // socket?.emit(\"sendOnlineUsers\");\r\n    yield put(actions.logout.logoutSuccess());\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport function* watchUser() {\r\n  try {\r\n    const access_token = localStorage.getItem(\"access_token\");\r\n    if (access_token) {\r\n      const res = yield call(api.AuthAPI.getUserInfo);\r\n      socket?.emit(\"newUser\", {\r\n        userId: res.data._id,\r\n      });\r\n      // socket?.emit(\"sendOnlineUsers\");\r\n      yield put(actions.login.loginSuccess(res.data));\r\n    }\r\n  } catch (error) {\r\n    localStorage.removeItem(\"access_token\");\r\n  }\r\n  while (true) {\r\n    const isLoggedIn = Boolean(localStorage.getItem(\"access_token\"));\r\n    if (!isLoggedIn) {\r\n      const action = yield take(actions.login.loginRequest);\r\n      yield call(loginSaga, action.payload);\r\n    } else {\r\n      yield take(actions.logout.logoutRequest);\r\n      yield call(logoutSaga);\r\n    }\r\n  }\r\n}\r\n","import { put, call } from \"redux-saga/effects\";\r\nimport * as actions from \"redux/actions\";\r\nimport * as api from \"api\";\r\nimport { sendNotification } from \"./notifications\";\r\n\r\nexport function* showBoxComment(action) {\r\n  yield put(actions.showBoxComment.showBoxCommentSuccess(action.payload));\r\n}\r\n\r\nexport function* createComment(action) {\r\n  try {\r\n    const res = yield call(api.CommentAPI.createComment, action.payload);\r\n    yield put(actions.createComment.createCommentSuccess(res.data));\r\n\r\n    yield call(sendNotification, {\r\n      receiverId: action.payload.receiverId,\r\n      type: 1,\r\n      targetId: res.data.userId._id,\r\n    });\r\n  } catch (error) {\r\n    return error.response;\r\n  }\r\n}\r\n\r\nexport function* createReply(action) {\r\n  try {\r\n    const res = yield call(api.CommentAPI.createReplyComment, action.payload);\r\n    yield put(actions.createReply.createReplySuccess(res.data));\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n","import { takeLatest, takeEvery, fork } from \"redux-saga/effects\";\r\nimport {\r\n  fetchPostsSaga,\r\n  fetchProfilePostsSaga,\r\n  createPostSaga,\r\n  reactPost,\r\n  interactUser,\r\n  fetchPostsLoadMore,\r\n  searchPosts,\r\n  fetchTopLikedPosts,\r\n  deletePost,\r\n} from \"./posts\";\r\nimport { watchUser } from \"./auth\";\r\nimport * as actions from \"../actions\";\r\nimport { createComment, createReply, showBoxComment } from \"./comments\";\r\n\r\nfunction* mySaga() {\r\n  yield fork(watchUser);\r\n  yield takeLatest(actions.getPosts.getPostsRequest, fetchPostsSaga);\r\n  yield takeEvery(actions.getPostsLoadMore.getPostsLoadMoreRequest, fetchPostsLoadMore);\r\n  yield takeEvery(actions.getProfilePosts.getProfilePostsRequest, fetchProfilePostsSaga);\r\n  yield takeLatest(actions.getTopLikedPosts.getTopLikedPostsRequest, fetchTopLikedPosts);\r\n  yield takeLatest(actions.searchPosts.searchPostsRequest, searchPosts);\r\n  yield takeLatest(actions.createPost.createPostRequest, createPostSaga);\r\n  yield takeLatest(actions.reactPost.reactPostRequest, reactPost);\r\n  yield takeLatest(actions.interactUser.interactUserRequest, interactUser);\r\n  yield takeLatest(actions.showBoxComment.showBoxCommentRequest, showBoxComment);\r\n  yield takeLatest(actions.createComment.createCommentRequest, createComment);\r\n  yield takeLatest(actions.createReply.createReplyRequest, createReply);\r\n  yield takeLatest(actions.deletePost.deletePostRequest, deletePost);\r\n}\r\n\r\nexport default mySaga;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport App from \"./App\";\r\nimport { ThemeContextProvider } from \"./context/themeContext\";\r\nimport \"./index.css\";\r\nimport reducers from \"./redux/reducers\";\r\nimport mySaga from \"./redux/sagas\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(reducers, composeWithDevTools(applyMiddleware(sagaMiddleware)));\r\n\r\nsagaMiddleware.run(mySaga);\r\n// https://sm-api12.herokuapp.com\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ThemeContextProvider>\r\n      <App />\r\n    </ThemeContextProvider>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}